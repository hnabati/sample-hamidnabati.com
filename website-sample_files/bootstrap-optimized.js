!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=105)}([function(t,e,n){"use strict";(function(t,i){var r;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash minus="template"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",E="[object WeakMap]",T="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",P="[object Float64Array]",x="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",C="[object Uint8Array]",R="[object Uint16Array]",M="[object Uint32Array]",k=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,D=RegExp(k.source),N=RegExp(L.source),F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/[\\^$.*+?()[\]{}|]/g,j=RegExp(B.source),G=/^\s+|\s+$/g,H=/^\s+/,W=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,z=/,? & /,K=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q=/\\(\\)?/g,X=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Q=/^\[object .+?Constructor\]$/,tt=/^0o[0-7]+$/i,et=/^(?:0|[1-9]\d*)$/,nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ot="[\\ud800-\\udfff]",at="["+rt+"]",st="["+it+"]",ut="\\d+",lt="[\\u2700-\\u27bf]",ct="[a-z\\xdf-\\xf6\\xf8-\\xff]",dt="[^\\ud800-\\udfff"+rt+ut+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ft="\\ud83c[\\udffb-\\udfff]",ht="[^\\ud800-\\udfff]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",gt="[\\ud800-\\udbff][\\udc00-\\udfff]",vt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",mt="(?:"+ct+"|"+dt+")",yt="(?:"+vt+"|"+dt+")",bt="(?:"+st+"|"+ft+")"+"?",_t="[\\ufe0e\\ufe0f]?"+bt+("(?:\\u200d(?:"+[ht,pt,gt].join("|")+")[\\ufe0e\\ufe0f]?"+bt+")*"),wt="(?:"+[lt,pt,gt].join("|")+")"+_t,Et="(?:"+[ht+st+"?",st,pt,gt,ot].join("|")+")",Tt=RegExp("['’]","g"),St=RegExp(st,"g"),At=RegExp(ft+"(?="+ft+")|"+Et+_t,"g"),Pt=RegExp([vt+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[at,vt,"$"].join("|")+")",yt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[at,vt+mt,"$"].join("|")+")",vt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",vt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,wt].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+it+"\\ufe0e\\ufe0f]"),Ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,It=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct={};Ct[A]=Ct[P]=Ct[x]=Ct[O]=Ct[I]=Ct[C]=Ct["[object Uint8ClampedArray]"]=Ct[R]=Ct[M]=!0,Ct[u]=Ct[l]=Ct[T]=Ct[c]=Ct[S]=Ct[d]=Ct[f]=Ct[h]=Ct[g]=Ct[v]=Ct[m]=Ct[y]=Ct[b]=Ct[_]=Ct[E]=!1;var Rt={};Rt[u]=Rt[l]=Rt[T]=Rt[S]=Rt[c]=Rt[d]=Rt[A]=Rt[P]=Rt[x]=Rt[O]=Rt[I]=Rt[g]=Rt[v]=Rt[m]=Rt[y]=Rt[b]=Rt[_]=Rt[w]=Rt[C]=Rt["[object Uint8ClampedArray]"]=Rt[R]=Rt[M]=!0,Rt[f]=Rt[h]=Rt[E]=!1;var Mt=parseFloat,kt=parseInt,Lt="object"==typeof t&&t&&t.Object===Object&&t,Dt="object"==typeof self&&self&&self.Object===Object&&self,Nt=Lt||Dt||Function("return this")(),Ft=e&&!e.nodeType&&e,Vt=Ft&&"object"==typeof i&&i&&!i.nodeType&&i,Ut=Vt&&Vt.exports===Ft,Bt=Ut&&Lt.process,jt=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Bt&&Bt.binding&&Bt.binding("util")}catch(t){}}(),Gt=jt&&jt.isArrayBuffer,Ht=jt&&jt.isDate,Wt=jt&&jt.isMap,$t=jt&&jt.isRegExp,Yt=jt&&jt.isSet,zt=jt&&jt.isTypedArray;function Kt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function qt(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Xt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Zt(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Jt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Qt(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function te(t,e){return!!(null==t?0:t.length)&&ce(t,e,0)>-1}function ee(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ne(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function ie(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function re(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function oe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var se=pe("length");function ue(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function le(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ce(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):le(t,fe,n)}function de(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function fe(t){return t!=t}function he(t,e){var n=null==t?0:t.length;return n?me(t,e)/n:NaN}function pe(t){return function(e){return null==e?void 0:e[t]}}function ge(t){return function(e){return null==t?void 0:t[e]}}function ve(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function me(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function ye(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function be(t){return function(e){return t(e)}}function _e(t,e){return ne(e,(function(e){return t[e]}))}function we(t,e){return t.has(e)}function Ee(t,e){for(var n=-1,i=t.length;++n<i&&ce(e,t[n],0)>-1;);return n}function Te(t,e){for(var n=t.length;n--&&ce(e,t[n],0)>-1;);return n}function Se(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ae=ge({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Pe=ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xe(t){return xt.test(t)}function Oe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ie(t,e){return function(n){return t(e(n))}}function Ce(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function Re(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Me(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ke(t){return xe(t)?function(t){var e=At.lastIndex=0;for(;At.test(t);)++e;return e}(t):se(t)}function Le(t){return xe(t)?function(t){return t.match(At)||[]}(t):function(t){return t.split("")}(t)}var De=ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ne=function t(e){var n,i=(e=null==e?Nt:Ne.defaults(Nt.Object(),e,Ne.pick(Nt,It))).Array,r=e.Date,it=e.Error,rt=e.Function,ot=e.Math,at=e.Object,st=e.RegExp,ut=e.String,lt=e.TypeError,ct=i.prototype,dt=rt.prototype,ft=at.prototype,ht=e["__core-js_shared__"],pt=dt.toString,gt=ft.hasOwnProperty,vt=0,mt=(n=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",yt=ft.toString,bt=pt.call(at),_t=Nt._,wt=st("^"+pt.call(gt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=Ut?e.Buffer:void 0,At=e.Symbol,xt=e.Uint8Array,Lt=Et?Et.allocUnsafe:void 0,Dt=Ie(at.getPrototypeOf,at),Ft=at.create,Vt=ft.propertyIsEnumerable,Bt=ct.splice,jt=At?At.isConcatSpreadable:void 0,se=At?At.iterator:void 0,ge=At?At.toStringTag:void 0,Fe=function(){try{var t=jr(at,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ve=e.clearTimeout!==Nt.clearTimeout&&e.clearTimeout,Ue=r&&r.now!==Nt.Date.now&&r.now,Be=e.setTimeout!==Nt.setTimeout&&e.setTimeout,je=ot.ceil,Ge=ot.floor,He=at.getOwnPropertySymbols,We=Et?Et.isBuffer:void 0,$e=e.isFinite,Ye=ct.join,ze=Ie(at.keys,at),Ke=ot.max,qe=ot.min,Xe=r.now,Ze=e.parseInt,Je=ot.random,Qe=ct.reverse,tn=jr(e,"DataView"),en=jr(e,"Map"),nn=jr(e,"Promise"),rn=jr(e,"Set"),on=jr(e,"WeakMap"),an=jr(at,"create"),sn=on&&new on,un={},ln=go(tn),cn=go(en),dn=go(nn),fn=go(rn),hn=go(on),pn=At?At.prototype:void 0,gn=pn?pn.valueOf:void 0,vn=pn?pn.toString:void 0;function mn(t){if(Ma(t)&&!wa(t)&&!(t instanceof wn)){if(t instanceof _n)return t;if(gt.call(t,"__wrapped__"))return vo(t)}return new _n(t)}var yn=function(){function t(){}return function(e){if(!Ra(e))return{};if(Ft)return Ft(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function bn(){}function _n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function En(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function An(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Sn;++e<n;)this.add(t[e])}function Pn(t){var e=this.__data__=new Tn(t);this.size=e.size}function xn(t,e){var n=wa(t),i=!n&&_a(t),r=!n&&!i&&Aa(t),o=!n&&!i&&!r&&Ba(t),a=n||i||r||o,s=a?ye(t.length,ut):[],u=s.length;for(var l in t)!e&&!gt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Kr(l,u))||s.push(l);return s}function On(t){var e=t.length;return e?t[Ai(0,e-1)]:void 0}function In(t,e){return fo(ar(t),Vn(e,0,t.length))}function Cn(t){return fo(ar(t))}function Rn(t,e,n){(void 0!==n&&!ma(t[e],n)||void 0===n&&!(e in t))&&Nn(t,e,n)}function Mn(t,e,n){var i=t[e];gt.call(t,e)&&ma(i,n)&&(void 0!==n||e in t)||Nn(t,e,n)}function kn(t,e){for(var n=t.length;n--;)if(ma(t[n][0],e))return n;return-1}function Ln(t,e,n,i){return Hn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Dn(t,e){return t&&sr(e,us(e),t)}function Nn(t,e,n){"__proto__"==e&&Fe?Fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:is(t,e[n]);return o}function Vn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Un(t,e,n,i,r,o){var a,s=1&e,l=2&e,f=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Ra(t))return t;var E=wa(t);if(E){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&gt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return ar(t,a)}else{var k=Wr(t),L=k==h||k==p;if(Aa(t))return tr(t,s);if(k==m||k==u||L&&!r){if(a=l||L?{}:Yr(t),!s)return l?function(t,e){return sr(t,Hr(t),e)}(t,function(t,e){return t&&sr(e,ls(e),t)}(a,t)):function(t,e){return sr(t,Gr(t),e)}(t,Dn(a,t))}else{if(!Rt[k])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case T:return er(t);case c:case d:return new i(+t);case S:return function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case A:case P:case x:case O:case I:case C:case"[object Uint8ClampedArray]":case R:case M:return nr(t,n);case g:return new i;case v:case _:return new i(t);case y:return function(t){var e=new t.constructor(t.source,X.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new i;case w:return r=t,gn?at(gn.call(r)):{}}var r}(t,k,s)}}o||(o=new Pn);var D=o.get(t);if(D)return D;o.set(t,a),Fa(t)?t.forEach((function(i){a.add(Un(i,e,n,i,t,o))})):ka(t)&&t.forEach((function(i,r){a.set(r,Un(i,e,n,r,t,o))}));var N=E?void 0:(f?l?Lr:kr:l?ls:us)(t);return Xt(N||t,(function(i,r){N&&(i=t[r=i]),Mn(a,r,Un(i,e,n,r,t,o))})),a}function Bn(t,e,n){var i=n.length;if(null==t)return!i;for(t=at(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function jn(t,e,n){if("function"!=typeof t)throw new lt(o);return so((function(){t.apply(void 0,n)}),e)}function Gn(t,e,n,i){var r=-1,o=te,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ne(e,be(n))),i?(o=ee,a=!1):e.length>=200&&(o=we,a=!1,e=new An(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var f=l;f--;)if(e[f]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u}mn.prototype=bn.prototype,mn.prototype.constructor=mn,_n.prototype=yn(bn.prototype),_n.prototype.constructor=_n,wn.prototype=yn(bn.prototype),wn.prototype.constructor=wn,En.prototype.clear=function(){this.__data__=an?an(null):{},this.size=0},En.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},En.prototype.get=function(t){var e=this.__data__;if(an){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return gt.call(e,t)?e[t]:void 0},En.prototype.has=function(t){var e=this.__data__;return an?void 0!==e[t]:gt.call(e,t)},En.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&void 0===e?"__lodash_hash_undefined__":e,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(t){var e=this.__data__,n=kn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Bt.call(e,n,1),--this.size,!0)},Tn.prototype.get=function(t){var e=this.__data__,n=kn(e,t);return n<0?void 0:e[n][1]},Tn.prototype.has=function(t){return kn(this.__data__,t)>-1},Tn.prototype.set=function(t,e){var n=this.__data__,i=kn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Sn.prototype.clear=function(){this.size=0,this.__data__={hash:new En,map:new(en||Tn),string:new En}},Sn.prototype.delete=function(t){var e=Ur(this,t).delete(t);return this.size-=e?1:0,e},Sn.prototype.get=function(t){return Ur(this,t).get(t)},Sn.prototype.has=function(t){return Ur(this,t).has(t)},Sn.prototype.set=function(t,e){var n=Ur(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},An.prototype.add=An.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},An.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.clear=function(){this.__data__=new Tn,this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pn.prototype.get=function(t){return this.__data__.get(t)},Pn.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tn){var i=n.__data__;if(!en||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Sn(i)}return n.set(t,e),this.size=n.size,this};var Hn=cr(Zn),Wn=cr(Jn,!0);function $n(t,e){var n=!0;return Hn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function Yn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ua(a):n(a,s)))var s=a,u=o}return u}function zn(t,e){var n=[];return Hn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Kn(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=zr),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Kn(s,e-1,n,i,r):ie(r,s):i||(r[r.length]=s)}return r}var qn=dr(),Xn=dr(!0);function Zn(t,e){return t&&qn(t,e,us)}function Jn(t,e){return t&&Xn(t,e,us)}function Qn(t,e){return Qt(e,(function(e){return Oa(t[e])}))}function ti(t,e){for(var n=0,i=(e=Xi(e,t)).length;null!=t&&n<i;)t=t[po(e[n++])];return n&&n==i?t:void 0}function ei(t,e,n){var i=e(t);return wa(t)?i:ie(i,n(t))}function ni(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in at(t)?function(t){var e=gt.call(t,ge),n=t[ge];try{t[ge]=void 0;var i=!0}catch(t){}var r=yt.call(t);i&&(e?t[ge]=n:delete t[ge]);return r}(t):function(t){return yt.call(t)}(t)}function ii(t,e){return t>e}function ri(t,e){return null!=t&&gt.call(t,e)}function oi(t,e){return null!=t&&e in at(t)}function ai(t,e,n){for(var r=n?ee:te,o=t[0].length,a=t.length,s=a,u=i(a),l=1/0,c=[];s--;){var d=t[s];s&&e&&(d=ne(d,be(e))),l=qe(d.length,l),u[s]=!n&&(e||o>=120&&d.length>=120)?new An(s&&d):void 0}d=t[0];var f=-1,h=u[0];t:for(;++f<o&&c.length<l;){var p=d[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(h?we(h,g):r(c,g,n))){for(s=a;--s;){var v=u[s];if(!(v?we(v,g):r(t[s],g,n)))continue t}h&&h.push(g),c.push(p)}}return c}function si(t,e,n){var i=null==(t=io(t,e=Xi(e,t)))?t:t[po(xo(e))];return null==i?void 0:Kt(i,t,n)}function ui(t){return Ma(t)&&ni(t)==u}function li(t,e,n,i,r){return t===e||(null==t||null==e||!Ma(t)&&!Ma(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=wa(t),s=wa(e),h=a?l:Wr(t),p=s?l:Wr(e),E=(h=h==u?m:h)==m,A=(p=p==u?m:p)==m,P=h==p;if(P&&Aa(t)){if(!Aa(e))return!1;a=!0,E=!1}if(P&&!E)return o||(o=new Pn),a||Ba(t)?Rr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new xt(t),new xt(e)));case c:case d:case v:return ma(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case g:var s=Oe;case b:var u=1&i;if(s||(s=Re),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var h=Rr(s(t),s(e),i,r,o,a);return a.delete(t),h;case w:if(gn)return gn.call(t)==gn.call(e)}return!1}(t,e,h,n,i,r,o);if(!(1&n)){var x=E&&gt.call(t,"__wrapped__"),O=A&&gt.call(e,"__wrapped__");if(x||O){var I=x?t.value():t,C=O?e.value():e;return o||(o=new Pn),r(I,C,n,i,o)}}if(!P)return!1;return o||(o=new Pn),function(t,e,n,i,r,o){var a=1&n,s=kr(t),u=s.length,l=kr(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var d=s[c];if(!(a?d in e:gt.call(e,d)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);var p=a;for(;++c<u;){d=s[c];var g=t[d],v=e[d];if(i)var m=a?i(v,g,d,e,t,o):i(g,v,d,t,e,o);if(!(void 0===m?g===v||r(g,v,n,i,o):m)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,i,r,o)}(t,e,n,i,li,r))}function ci(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=at(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new Pn;if(i)var f=i(l,c,u,t,e,d);if(!(void 0===f?li(c,l,3,i,d):f))return!1}}return!0}function di(t){return!(!Ra(t)||(e=t,mt&&mt in e))&&(Oa(t)?wt:Q).test(go(t));var e}function fi(t){return"function"==typeof t?t:null==t?Ls:"object"==typeof t?wa(t)?yi(t[0],t[1]):mi(t):Hs(t)}function hi(t){if(!Qr(t))return ze(t);var e=[];for(var n in at(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pi(t){if(!Ra(t))return function(t){var e=[];if(null!=t)for(var n in at(t))e.push(n);return e}(t);var e=Qr(t),n=[];for(var i in t)("constructor"!=i||!e&&gt.call(t,i))&&n.push(i);return n}function gi(t,e){return t<e}function vi(t,e){var n=-1,r=Ta(t)?i(t.length):[];return Hn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function mi(t){var e=Br(t);return 1==e.length&&e[0][2]?eo(e[0][0],e[0][1]):function(n){return n===t||ci(n,t,e)}}function yi(t,e){return Xr(t)&&to(e)?eo(po(t),e):function(n){var i=is(n,t);return void 0===i&&i===e?rs(n,t):li(e,i,3)}}function bi(t,e,n,i,r){t!==e&&qn(e,(function(o,a){if(r||(r=new Pn),Ra(o))!function(t,e,n,i,r,o,a){var s=oo(t,n),u=oo(e,n),l=a.get(u);if(l)return void Rn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var f=wa(u),h=!f&&Aa(u),p=!f&&!h&&Ba(u);c=u,f||h||p?wa(s)?c=s:Sa(s)?c=ar(s):h?(d=!1,c=tr(u,!0)):p?(d=!1,c=nr(u,!0)):c=[]:Da(u)||_a(u)?(c=s,_a(s)?c=Ka(s):Ra(s)&&!Oa(s)||(c=Yr(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u));Rn(t,n,c)}(t,e,a,n,bi,i,r);else{var s=i?i(oo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Rn(t,a,s)}}),ls)}function _i(t,e){var n=t.length;if(n)return Kr(e+=e<0?n:0,n)?t[e]:void 0}function wi(t,e,n){var i=-1;return e=ne(e.length?e:[Ls],be(Vr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(vi(t,(function(t,n,r){return{criteria:ne(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=ir(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Ei(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ti(t,a);n(s,a)&&Ci(o,Xi(a,t),s)}return o}function Ti(t,e,n,i){var r=i?de:ce,o=-1,a=e.length,s=t;for(t===e&&(e=ar(e)),n&&(s=ne(t,be(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Bt.call(s,u,1),Bt.call(t,u,1);return t}function Si(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Kr(r)?Bt.call(t,r,1):Gi(t,r)}}return t}function Ai(t,e){return t+Ge(Je()*(e-t+1))}function Pi(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ge(e/2))&&(t+=t)}while(e);return n}function xi(t,e){return uo(no(t,e,Ls),t+"")}function Oi(t){return On(ms(t))}function Ii(t,e){var n=ms(t);return fo(n,Vn(e,0,n.length))}function Ci(t,e,n,i){if(!Ra(t))return t;for(var r=-1,o=(e=Xi(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=po(e[r]),l=n;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=Ra(c)?c:Kr(e[r+1])?[]:{})}Mn(s,u,l),s=s[u]}return t}var Ri=sn?function(t,e){return sn.set(t,e),t}:Ls,Mi=Fe?function(t,e){return Fe(t,"toString",{configurable:!0,enumerable:!1,value:Rs(e),writable:!0})}:Ls;function ki(t){return fo(ms(t))}function Li(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Di(t,e){var n;return Hn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Ni(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Ua(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Fi(t,e,Ls,n)}function Fi(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=Ua(e),l=void 0===e;r<o;){var c=Ge((r+o)/2),d=n(t[c]),f=void 0!==d,h=null===d,p=d==d,g=Ua(d);if(a)var v=i||p;else v=l?p&&(i||f):s?p&&f&&(i||!h):u?p&&f&&!h&&(i||!g):!h&&!g&&(i?d<=e:d<e);v?r=c+1:o=c}return qe(o,4294967294)}function Vi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!ma(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function Ui(t){return"number"==typeof t?t:Ua(t)?NaN:+t}function Bi(t){if("string"==typeof t)return t;if(wa(t))return ne(t,Bi)+"";if(Ua(t))return vn?vn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ji(t,e,n){var i=-1,r=te,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=ee;else if(o>=200){var l=e?null:Pr(t);if(l)return Re(l);a=!1,r=we,u=new An}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Gi(t,e){return null==(t=io(t,e=Xi(e,t)))||delete t[po(xo(e))]}function Hi(t,e,n,i){return Ci(t,e,n(ti(t,e)),i)}function Wi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Li(t,i?0:o,i?o+1:r):Li(t,i?o+1:0,i?r:o)}function $i(t,e){var n=t;return n instanceof wn&&(n=n.value()),re(e,(function(t,e){return e.func.apply(e.thisArg,ie([t],e.args))}),n)}function Yi(t,e,n){var r=t.length;if(r<2)return r?ji(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Gn(a[o]||s,t[u],e,n));return ji(Kn(a,1),e,n)}function zi(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}function Ki(t){return Sa(t)?t:[]}function qi(t){return"function"==typeof t?t:Ls}function Xi(t,e){return wa(t)?t:Xr(t,e)?[t]:ho(qa(t))}var Zi=xi;function Ji(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Li(t,e,n)}var Qi=Ve||function(t){return Nt.clearTimeout(t)};function tr(t,e){if(e)return t.slice();var n=t.length,i=Lt?Lt(n):new t.constructor(n);return t.copy(i),i}function er(t){var e=new t.constructor(t.byteLength);return new xt(e).set(new xt(t)),e}function nr(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ir(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Ua(t),a=void 0!==e,s=null===e,u=e==e,l=Ua(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function rr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=Ke(a-s,0),d=i(l+c),f=!r;++u<l;)d[u]=e[u];for(;++o<s;)(f||o<a)&&(d[n[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function or(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,d=Ke(a-u,0),f=i(d+c),h=!r;++o<d;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++s<u;)(h||o<a)&&(f[p+n[s]]=t[o++]);return f}function ar(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function sr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),r?Nn(n,s,u):Mn(n,s,u)}return n}function ur(t,e){return function(n,i){var r=wa(n)?qt:Ln,o=e?e():{};return r(n,t,Vr(i,2),o)}}function lr(t){return xi((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&qr(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=at(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function cr(t,e){return function(n,i){if(null==n)return n;if(!Ta(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=at(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function dr(t){return function(e,n,i){for(var r=-1,o=at(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function fr(t){return function(e){var n=xe(e=qa(e))?Le(e):void 0,i=n?n[0]:e.charAt(0),r=n?Ji(n,1).join(""):e.slice(1);return i[t]()+r}}function hr(t){return function(e){return re(Os(_s(e).replace(Tt,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yn(t.prototype),i=t.apply(n,e);return Ra(i)?i:n}}function gr(t){return function(e,n,i){var r=at(e);if(!Ta(e)){var o=Vr(n,3);e=us(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function vr(t){return Mr((function(e){var n=e.length,i=n,r=_n.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new lt(o);if(r&&!s&&"wrapper"==Nr(a))var s=new _n([],!0)}for(i=s?i:n;++i<n;){var u=Nr(a=e[i]),l="wrapper"==u?Dr(a):void 0;s=l&&Zr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Nr(l[0])].apply(s,l[3]):1==a.length&&Zr(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&wa(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function mr(t,e,n,r,o,a,s,u,l,c){var d=128&e,f=1&e,h=2&e,p=24&e,g=512&e,v=h?void 0:pr(t);return function m(){for(var y=arguments.length,b=i(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Fr(m),E=Se(b,w);if(r&&(b=rr(b,r,o,p)),a&&(b=or(b,a,s,p)),y-=E,p&&y<c){var T=Ce(b,w);return Sr(t,e,mr,m.placeholder,n,b,T,u,l,c-y)}var S=f?n:this,A=h?S[t]:t;return y=b.length,u?b=ro(b,u):g&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Nt&&this instanceof m&&(A=v||pr(A)),A.apply(S,b)}}function yr(t,e){return function(n,i){return function(t,e,n,i){return Zn(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function br(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Bi(n),i=Bi(i)):(n=Ui(n),i=Ui(i)),r=t(n,i)}return r}}function _r(t){return Mr((function(e){return e=ne(e,be(Vr())),xi((function(n){var i=this;return t(e,(function(t){return Kt(t,i,n)}))}))}))}function wr(t,e){var n=(e=void 0===e?" ":Bi(e)).length;if(n<2)return n?Pi(e,t):e;var i=Pi(e,je(t/ke(e)));return xe(e)?Ji(Le(i),0,t).join(""):i.slice(0,t)}function Er(t){return function(e,n,r){return r&&"number"!=typeof r&&qr(e,n,r)&&(n=r=void 0),e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n,r){for(var o=-1,a=Ke(je((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:Wa(r),t)}}function Tr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=za(e),n=za(n)),t(e,n)}}function Sr(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],f=n.apply(void 0,d);return Zr(t)&&ao(f,d),f.placeholder=i,lo(f,t,e)}function Ar(t){var e=ot[t];return function(t,n){if(t=za(t),(n=null==n?0:qe($a(n),292))&&$e(t)){var i=(qa(t)+"e").split("e");return+((i=(qa(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Pr=rn&&1/Re(new rn([,-0]))[1]==1/0?function(t){return new rn(t)}:Us;function xr(t){return function(e){var n=Wr(e);return n==g?Oe(e):n==b?Me(e):function(t,e){return ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Or(t,e,n,r,s,u,l,c){var d=2&e;if(!d&&"function"!=typeof t)throw new lt(o);var f=r?r.length:0;if(f||(e&=-97,r=s=void 0),l=void 0===l?l:Ke($a(l),0),c=void 0===c?c:$a(c),f-=s?s.length:0,64&e){var h=r,p=s;r=s=void 0}var g=d?void 0:Dr(t),v=[t,e,n,r,s,h,p,u,l,c];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rr(l,u,e[4]):u,t[4]=l?Ce(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?or(l,u,e[6]):u,t[6]=l?Ce(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:qe(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(v,g),t=v[0],e=v[1],n=v[2],r=v[3],s=v[4],!(c=v[9]=void 0===v[9]?d?0:t.length:Ke(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var r=pr(t);return function o(){for(var a=arguments.length,s=i(a),u=a,l=Fr(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:Ce(s,l);if((a-=c.length)<n)return Sr(t,e,mr,o.placeholder,void 0,s,c,void 0,void 0,n-a);var d=this&&this!==Nt&&this instanceof o?r:t;return Kt(d,this,s)}}(t,e,c):32!=e&&33!=e||s.length?mr.apply(void 0,v):function(t,e,n,r){var o=1&e,a=pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=i(c+u),f=this&&this!==Nt&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return Kt(f,o?n:this,d)}}(t,e,n,r);else var m=function(t,e,n){var i=1&e,r=pr(t);return function e(){var o=this&&this!==Nt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return lo((g?Ri:ao)(m,v),t,e)}function Ir(t,e,n,i,r,o){return Ra(t)&&Ra(e)&&(o.set(e,t),bi(t,e,void 0,Ir,o),o.delete(e)),t}function Cr(t){return Da(t)?void 0:t}function Rr(t,e,n,i,r,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,d=!0,f=2&n?new An:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var h=t[c],p=e[c];if(i)var g=a?i(p,h,c,e,t,o):i(h,p,c,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!ae(e,(function(t,e){if(!we(f,e)&&(h===t||r(h,t,n,i,o)))return f.push(e)}))){d=!1;break}}else if(h!==p&&!r(h,p,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Mr(t){return uo(no(t,void 0,Eo),t+"")}function kr(t){return ei(t,us,Gr)}function Lr(t){return ei(t,ls,Hr)}var Dr=sn?function(t){return sn.get(t)}:Us;function Nr(t){for(var e=t.name+"",n=un[e],i=gt.call(un,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Fr(t){return(gt.call(mn,"placeholder")?mn:t).placeholder}function Vr(){var t=mn.iteratee||Ds;return t=t===Ds?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function Ur(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Br(t){for(var e=us(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,to(r)]}return e}function jr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return di(n)?n:void 0}var Gr=He?function(t){return null==t?[]:(t=at(t),Qt(He(t),(function(e){return Vt.call(t,e)})))}:Ys,Hr=He?function(t){for(var e=[];t;)ie(e,Gr(t)),t=Dt(t);return e}:Ys,Wr=ni;function $r(t,e,n){for(var i=-1,r=(e=Xi(e,t)).length,o=!1;++i<r;){var a=po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ca(r)&&Kr(a,r)&&(wa(t)||_a(t))}function Yr(t){return"function"!=typeof t.constructor||Qr(t)?{}:yn(Dt(t))}function zr(t){return wa(t)||_a(t)||!!(jt&&t&&t[jt])}function Kr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&et.test(t))&&t>-1&&t%1==0&&t<e}function qr(t,e,n){if(!Ra(n))return!1;var i=typeof e;return!!("number"==i?Ta(n)&&Kr(e,n.length):"string"==i&&e in n)&&ma(n[e],t)}function Xr(t,e){if(wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ua(t))||(V.test(t)||!F.test(t)||null!=e&&t in at(e))}function Zr(t){var e=Nr(t),n=mn[e];if("function"!=typeof n||!(e in wn.prototype))return!1;if(t===n)return!0;var i=Dr(n);return!!i&&t===i[0]}(tn&&Wr(new tn(new ArrayBuffer(1)))!=S||en&&Wr(new en)!=g||nn&&"[object Promise]"!=Wr(nn.resolve())||rn&&Wr(new rn)!=b||on&&Wr(new on)!=E)&&(Wr=function(t){var e=ni(t),n=e==m?t.constructor:void 0,i=n?go(n):"";if(i)switch(i){case ln:return S;case cn:return g;case dn:return"[object Promise]";case fn:return b;case hn:return E}return e});var Jr=ht?Oa:zs;function Qr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ft)}function to(t){return t==t&&!Ra(t)}function eo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in at(n)))}}function no(t,e,n){return e=Ke(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Ke(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),Kt(t,this,u)}}function io(t,e){return e.length<2?t:ti(t,Li(e,0,-1))}function ro(t,e){for(var n=t.length,i=qe(e.length,n),r=ar(t);i--;){var o=e[i];t[i]=Kr(o,n)?r[o]:void 0}return t}function oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ao=co(Ri),so=Be||function(t,e){return Nt.setTimeout(t,e)},uo=co(Mi);function lo(t,e,n){var i=e+"";return uo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Xt(s,(function(n){var i="_."+n[0];e&n[1]&&!te(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(Y);return e?e[1].split(z):[]}(i),n)))}function co(t){var e=0,n=0;return function(){var i=Xe(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function fo(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ai(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var ho=function(t){var e=da(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(U,(function(t,n,i,r){e.push(i?r.replace(q,"$1"):n||t)})),e}));function po(t){if("string"==typeof t||Ua(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function go(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vo(t){if(t instanceof wn)return t.clone();var e=new _n(t.__wrapped__,t.__chain__);return e.__actions__=ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var mo=xi((function(t,e){return Sa(t)?Gn(t,Kn(e,1,Sa,!0)):[]})),yo=xi((function(t,e){var n=xo(e);return Sa(n)&&(n=void 0),Sa(t)?Gn(t,Kn(e,1,Sa,!0),Vr(n,2)):[]})),bo=xi((function(t,e){var n=xo(e);return Sa(n)&&(n=void 0),Sa(t)?Gn(t,Kn(e,1,Sa,!0),void 0,n):[]}));function _o(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$a(n);return r<0&&(r=Ke(i+r,0)),le(t,Vr(e,3),r)}function wo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=$a(n),r=n<0?Ke(i+r,0):qe(r,i-1)),le(t,Vr(e,3),r,!0)}function Eo(t){return(null==t?0:t.length)?Kn(t,1):[]}function To(t){return t&&t.length?t[0]:void 0}var So=xi((function(t){var e=ne(t,Ki);return e.length&&e[0]===t[0]?ai(e):[]})),Ao=xi((function(t){var e=xo(t),n=ne(t,Ki);return e===xo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ai(n,Vr(e,2)):[]})),Po=xi((function(t){var e=xo(t),n=ne(t,Ki);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?ai(n,void 0,e):[]}));function xo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Oo=xi(Io);function Io(t,e){return t&&t.length&&e&&e.length?Ti(t,e):t}var Co=Mr((function(t,e){var n=null==t?0:t.length,i=Fn(t,e);return Si(t,ne(e,(function(t){return Kr(t,n)?+t:t})).sort(ir)),i}));function Ro(t){return null==t?t:Qe.call(t)}var Mo=xi((function(t){return ji(Kn(t,1,Sa,!0))})),ko=xi((function(t){var e=xo(t);return Sa(e)&&(e=void 0),ji(Kn(t,1,Sa,!0),Vr(e,2))})),Lo=xi((function(t){var e=xo(t);return e="function"==typeof e?e:void 0,ji(Kn(t,1,Sa,!0),void 0,e)}));function Do(t){if(!t||!t.length)return[];var e=0;return t=Qt(t,(function(t){if(Sa(t))return e=Ke(t.length,e),!0})),ye(e,(function(e){return ne(t,pe(e))}))}function No(t,e){if(!t||!t.length)return[];var n=Do(t);return null==e?n:ne(n,(function(t){return Kt(e,void 0,t)}))}var Fo=xi((function(t,e){return Sa(t)?Gn(t,e):[]})),Vo=xi((function(t){return Yi(Qt(t,Sa))})),Uo=xi((function(t){var e=xo(t);return Sa(e)&&(e=void 0),Yi(Qt(t,Sa),Vr(e,2))})),Bo=xi((function(t){var e=xo(t);return e="function"==typeof e?e:void 0,Yi(Qt(t,Sa),void 0,e)})),jo=xi(Do);var Go=xi((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,No(t,n)}));function Ho(t){var e=mn(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var $o=Mr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Fn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof wn&&Kr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Wo,args:[r],thisArg:void 0}),new _n(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var Yo=ur((function(t,e,n){gt.call(t,n)?++t[n]:Nn(t,n,1)}));var zo=gr(_o),Ko=gr(wo);function qo(t,e){return(wa(t)?Xt:Hn)(t,Vr(e,3))}function Xo(t,e){return(wa(t)?Zt:Wn)(t,Vr(e,3))}var Zo=ur((function(t,e,n){gt.call(t,n)?t[n].push(e):Nn(t,n,[e])}));var Jo=xi((function(t,e,n){var r=-1,o="function"==typeof e,a=Ta(t)?i(t.length):[];return Hn(t,(function(t){a[++r]=o?Kt(e,t,n):si(t,e,n)})),a})),Qo=ur((function(t,e,n){Nn(t,n,e)}));function ta(t,e){return(wa(t)?ne:vi)(t,Vr(e,3))}var ea=ur((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var na=xi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&qr(t,e[0],e[1])?e=[]:n>2&&qr(e[0],e[1],e[2])&&(e=[e[0]]),wi(t,Kn(e,1),[])})),ia=Ue||function(){return Nt.Date.now()};function ra(t,e,n){return e=n?void 0:e,Or(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oa(t,e){var n;if("function"!=typeof e)throw new lt(o);return t=$a(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var aa=xi((function(t,e,n){var i=1;if(n.length){var r=Ce(n,Fr(aa));i|=32}return Or(t,i,e,n,r)})),sa=xi((function(t,e,n){var i=3;if(n.length){var r=Ce(n,Fr(sa));i|=32}return Or(e,i,t,n,r)}));function ua(t,e,n){var i,r,a,s,u,l,c=0,d=!1,f=!1,h=!0;if("function"!=typeof t)throw new lt(o);function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=so(m,e),d?p(t):s}function v(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function m(){var t=ia();if(v(t))return y(t);u=so(m,function(t){var n=e-(t-l);return f?qe(n,a-(t-c)):n}(t))}function y(t){return u=void 0,h&&i?p(t):(i=r=void 0,s)}function b(){var t=ia(),n=v(t);if(i=arguments,r=this,l=t,n){if(void 0===u)return g(l);if(f)return Qi(u),u=so(m,e),p(l)}return void 0===u&&(u=so(m,e)),s}return e=za(e)||0,Ra(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Ke(za(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==u&&Qi(u),c=0,i=l=r=u=void 0},b.flush=function(){return void 0===u?s:y(ia())},b}var la=xi((function(t,e){return jn(t,1,e)})),ca=xi((function(t,e,n){return jn(t,za(e)||0,n)}));function da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lt(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(da.Cache||Sn),n}function fa(t){if("function"!=typeof t)throw new lt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}da.Cache=Sn;var ha=Zi((function(t,e){var n=(e=1==e.length&&wa(e[0])?ne(e[0],be(Vr())):ne(Kn(e,1),be(Vr()))).length;return xi((function(i){for(var r=-1,o=qe(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Kt(t,this,i)}))})),pa=xi((function(t,e){return Or(t,32,void 0,e,Ce(e,Fr(pa)))})),ga=xi((function(t,e){return Or(t,64,void 0,e,Ce(e,Fr(ga)))})),va=Mr((function(t,e){return Or(t,256,void 0,void 0,void 0,e)}));function ma(t,e){return t===e||t!=t&&e!=e}var ya=Tr(ii),ba=Tr((function(t,e){return t>=e})),_a=ui(function(){return arguments}())?ui:function(t){return Ma(t)&&gt.call(t,"callee")&&!Vt.call(t,"callee")},wa=i.isArray,Ea=Gt?be(Gt):function(t){return Ma(t)&&ni(t)==T};function Ta(t){return null!=t&&Ca(t.length)&&!Oa(t)}function Sa(t){return Ma(t)&&Ta(t)}var Aa=We||zs,Pa=Ht?be(Ht):function(t){return Ma(t)&&ni(t)==d};function xa(t){if(!Ma(t))return!1;var e=ni(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Da(t)}function Oa(t){if(!Ra(t))return!1;var e=ni(t);return e==h||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ia(t){return"number"==typeof t&&t==$a(t)}function Ca(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ma(t){return null!=t&&"object"==typeof t}var ka=Wt?be(Wt):function(t){return Ma(t)&&Wr(t)==g};function La(t){return"number"==typeof t||Ma(t)&&ni(t)==v}function Da(t){if(!Ma(t)||ni(t)!=m)return!1;var e=Dt(t);if(null===e)return!0;var n=gt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==bt}var Na=$t?be($t):function(t){return Ma(t)&&ni(t)==y};var Fa=Yt?be(Yt):function(t){return Ma(t)&&Wr(t)==b};function Va(t){return"string"==typeof t||!wa(t)&&Ma(t)&&ni(t)==_}function Ua(t){return"symbol"==typeof t||Ma(t)&&ni(t)==w}var Ba=zt?be(zt):function(t){return Ma(t)&&Ca(t.length)&&!!Ct[ni(t)]};var ja=Tr(gi),Ga=Tr((function(t,e){return t<=e}));function Ha(t){if(!t)return[];if(Ta(t))return Va(t)?Le(t):ar(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=Wr(t);return(e==g?Oe:e==b?Re:ms)(t)}function Wa(t){return t?(t=za(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function $a(t){var e=Wa(t),n=e%1;return e==e?n?e-n:e:0}function Ya(t){return t?Vn($a(t),0,4294967295):0}function za(t){if("number"==typeof t)return t;if(Ua(t))return NaN;if(Ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var n=J.test(t);return n||tt.test(t)?kt(t.slice(2),n?2:8):Z.test(t)?NaN:+t}function Ka(t){return sr(t,ls(t))}function qa(t){return null==t?"":Bi(t)}var Xa=lr((function(t,e){if(Qr(e)||Ta(e))sr(e,us(e),t);else for(var n in e)gt.call(e,n)&&Mn(t,n,e[n])})),Za=lr((function(t,e){sr(e,ls(e),t)})),Ja=lr((function(t,e,n,i){sr(e,ls(e),t,i)})),Qa=lr((function(t,e,n,i){sr(e,us(e),t,i)})),ts=Mr(Fn);var es=xi((function(t,e){t=at(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&qr(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ls(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||ma(c,ft[l])&&!gt.call(t,l))&&(t[l]=o[l])}return t})),ns=xi((function(t){return t.push(void 0,Ir),Kt(ds,void 0,t)}));function is(t,e,n){var i=null==t?void 0:ti(t,e);return void 0===i?n:i}function rs(t,e){return null!=t&&$r(t,e,oi)}var os=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),t[e]=n}),Rs(Ls)),as=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),gt.call(t,e)?t[e].push(n):t[e]=[n]}),Vr),ss=xi(si);function us(t){return Ta(t)?xn(t):hi(t)}function ls(t){return Ta(t)?xn(t,!0):pi(t)}var cs=lr((function(t,e,n){bi(t,e,n)})),ds=lr((function(t,e,n,i){bi(t,e,n,i)})),fs=Mr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ne(e,(function(e){return e=Xi(e,t),i||(i=e.length>1),e})),sr(t,Lr(t),n),i&&(n=Un(n,7,Cr));for(var r=e.length;r--;)Gi(n,e[r]);return n}));var hs=Mr((function(t,e){return null==t?{}:function(t,e){return Ei(t,e,(function(e,n){return rs(t,n)}))}(t,e)}));function ps(t,e){if(null==t)return{};var n=ne(Lr(t),(function(t){return[t]}));return e=Vr(e),Ei(t,n,(function(t,n){return e(t,n[0])}))}var gs=xr(us),vs=xr(ls);function ms(t){return null==t?[]:_e(t,us(t))}var ys=hr((function(t,e,n){return e=e.toLowerCase(),t+(n?bs(e):e)}));function bs(t){return xs(qa(t).toLowerCase())}function _s(t){return(t=qa(t))&&t.replace(nt,Ae).replace(St,"")}var ws=hr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Es=hr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ts=fr("toLowerCase");var Ss=hr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var As=hr((function(t,e,n){return t+(n?" ":"")+xs(e)}));var Ps=hr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),xs=fr("toUpperCase");function Os(t,e,n){return t=qa(t),void 0===(e=n?void 0:e)?function(t){return Ot.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(K)||[]}(t):t.match(e)||[]}var Is=xi((function(t,e){try{return Kt(t,void 0,e)}catch(t){return xa(t)?t:new it(t)}})),Cs=Mr((function(t,e){return Xt(e,(function(e){e=po(e),Nn(t,e,aa(t[e],t))})),t}));function Rs(t){return function(){return t}}var Ms=vr(),ks=vr(!0);function Ls(t){return t}function Ds(t){return fi("function"==typeof t?t:Un(t,1))}var Ns=xi((function(t,e){return function(n){return si(n,t,e)}})),Fs=xi((function(t,e){return function(n){return si(t,n,e)}}));function Vs(t,e,n){var i=us(e),r=Qn(e,i);null!=n||Ra(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Qn(e,us(e)));var o=!(Ra(n)&&"chain"in n&&!n.chain),a=Oa(t);return Xt(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=ar(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,ie([this.value()],arguments))})})),t}function Us(){}var Bs=_r(ne),js=_r(Jt),Gs=_r(ae);function Hs(t){return Xr(t)?pe(po(t)):function(t){return function(e){return ti(e,t)}}(t)}var Ws=Er(),$s=Er(!0);function Ys(){return[]}function zs(){return!1}var Ks=br((function(t,e){return t+e}),0),qs=Ar("ceil"),Xs=br((function(t,e){return t/e}),1),Zs=Ar("floor");var Js,Qs=br((function(t,e){return t*e}),1),tu=Ar("round"),eu=br((function(t,e){return t-e}),0);return mn.after=function(t,e){if("function"!=typeof e)throw new lt(o);return t=$a(t),function(){if(--t<1)return e.apply(this,arguments)}},mn.ary=ra,mn.assign=Xa,mn.assignIn=Za,mn.assignInWith=Ja,mn.assignWith=Qa,mn.at=ts,mn.before=oa,mn.bind=aa,mn.bindAll=Cs,mn.bindKey=sa,mn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return wa(t)?t:[t]},mn.chain=Ho,mn.chunk=function(t,e,n){e=(n?qr(t,e,n):void 0===e)?1:Ke($a(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(je(r/e));o<r;)s[a++]=Li(t,o,o+=e);return s},mn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},mn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ie(wa(n)?ar(n):[n],Kn(e,1))},mn.cond=function(t){var e=null==t?0:t.length,n=Vr();return t=e?ne(t,(function(t){if("function"!=typeof t[1])throw new lt(o);return[n(t[0]),t[1]]})):[],xi((function(n){for(var i=-1;++i<e;){var r=t[i];if(Kt(r[0],this,n))return Kt(r[1],this,n)}}))},mn.conforms=function(t){return function(t){var e=us(t);return function(n){return Bn(n,t,e)}}(Un(t,1))},mn.constant=Rs,mn.countBy=Yo,mn.create=function(t,e){var n=yn(t);return null==e?n:Dn(n,e)},mn.curry=function t(e,n,i){var r=Or(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},mn.curryRight=function t(e,n,i){var r=Or(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},mn.debounce=ua,mn.defaults=es,mn.defaultsDeep=ns,mn.defer=la,mn.delay=ca,mn.difference=mo,mn.differenceBy=yo,mn.differenceWith=bo,mn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Li(t,(e=n||void 0===e?1:$a(e))<0?0:e,i):[]},mn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Li(t,0,(e=i-(e=n||void 0===e?1:$a(e)))<0?0:e):[]},mn.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!0,!0):[]},mn.dropWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!0):[]},mn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&qr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=$a(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:$a(i))<0&&(i+=r),i=n>i?0:Ya(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},mn.filter=function(t,e){return(wa(t)?Qt:zn)(t,Vr(e,3))},mn.flatMap=function(t,e){return Kn(ta(t,e),1)},mn.flatMapDeep=function(t,e){return Kn(ta(t,e),1/0)},mn.flatMapDepth=function(t,e,n){return n=void 0===n?1:$a(n),Kn(ta(t,e),n)},mn.flatten=Eo,mn.flattenDeep=function(t){return(null==t?0:t.length)?Kn(t,1/0):[]},mn.flattenDepth=function(t,e){return(null==t?0:t.length)?Kn(t,e=void 0===e?1:$a(e)):[]},mn.flip=function(t){return Or(t,512)},mn.flow=Ms,mn.flowRight=ks,mn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},mn.functions=function(t){return null==t?[]:Qn(t,us(t))},mn.functionsIn=function(t){return null==t?[]:Qn(t,ls(t))},mn.groupBy=Zo,mn.initial=function(t){return(null==t?0:t.length)?Li(t,0,-1):[]},mn.intersection=So,mn.intersectionBy=Ao,mn.intersectionWith=Po,mn.invert=os,mn.invertBy=as,mn.invokeMap=Jo,mn.iteratee=Ds,mn.keyBy=Qo,mn.keys=us,mn.keysIn=ls,mn.map=ta,mn.mapKeys=function(t,e){var n={};return e=Vr(e,3),Zn(t,(function(t,i,r){Nn(n,e(t,i,r),t)})),n},mn.mapValues=function(t,e){var n={};return e=Vr(e,3),Zn(t,(function(t,i,r){Nn(n,i,e(t,i,r))})),n},mn.matches=function(t){return mi(Un(t,1))},mn.matchesProperty=function(t,e){return yi(t,Un(e,1))},mn.memoize=da,mn.merge=cs,mn.mergeWith=ds,mn.method=Ns,mn.methodOf=Fs,mn.mixin=Vs,mn.negate=fa,mn.nthArg=function(t){return t=$a(t),xi((function(e){return _i(e,t)}))},mn.omit=fs,mn.omitBy=function(t,e){return ps(t,fa(Vr(e)))},mn.once=function(t){return oa(2,t)},mn.orderBy=function(t,e,n,i){return null==t?[]:(wa(e)||(e=null==e?[]:[e]),wa(n=i?void 0:n)||(n=null==n?[]:[n]),wi(t,e,n))},mn.over=Bs,mn.overArgs=ha,mn.overEvery=js,mn.overSome=Gs,mn.partial=pa,mn.partialRight=ga,mn.partition=ea,mn.pick=hs,mn.pickBy=ps,mn.property=Hs,mn.propertyOf=function(t){return function(e){return null==t?void 0:ti(t,e)}},mn.pull=Oo,mn.pullAll=Io,mn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ti(t,e,Vr(n,2)):t},mn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ti(t,e,void 0,n):t},mn.pullAt=Co,mn.range=Ws,mn.rangeRight=$s,mn.rearg=va,mn.reject=function(t,e){return(wa(t)?Qt:zn)(t,fa(Vr(e,3)))},mn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Vr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Si(t,r),n},mn.rest=function(t,e){if("function"!=typeof t)throw new lt(o);return xi(t,e=void 0===e?e:$a(e))},mn.reverse=Ro,mn.sampleSize=function(t,e,n){return e=(n?qr(t,e,n):void 0===e)?1:$a(e),(wa(t)?In:Ii)(t,e)},mn.set=function(t,e,n){return null==t?t:Ci(t,e,n)},mn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ci(t,e,n,i)},mn.shuffle=function(t){return(wa(t)?Cn:ki)(t)},mn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&qr(t,e,n)?(e=0,n=i):(e=null==e?0:$a(e),n=void 0===n?i:$a(n)),Li(t,e,n)):[]},mn.sortBy=na,mn.sortedUniq=function(t){return t&&t.length?Vi(t):[]},mn.sortedUniqBy=function(t,e){return t&&t.length?Vi(t,Vr(e,2)):[]},mn.split=function(t,e,n){return n&&"number"!=typeof n&&qr(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=qa(t))&&("string"==typeof e||null!=e&&!Na(e))&&!(e=Bi(e))&&xe(t)?Ji(Le(t),0,n):t.split(e,n):[]},mn.spread=function(t,e){if("function"!=typeof t)throw new lt(o);return e=null==e?0:Ke($a(e),0),xi((function(n){var i=n[e],r=Ji(n,0,e);return i&&ie(r,i),Kt(t,this,r)}))},mn.tail=function(t){var e=null==t?0:t.length;return e?Li(t,1,e):[]},mn.take=function(t,e,n){return t&&t.length?Li(t,0,(e=n||void 0===e?1:$a(e))<0?0:e):[]},mn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Li(t,(e=i-(e=n||void 0===e?1:$a(e)))<0?0:e,i):[]},mn.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!1,!0):[]},mn.takeWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3)):[]},mn.tap=function(t,e){return e(t),t},mn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new lt(o);return Ra(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ua(t,e,{leading:i,maxWait:e,trailing:r})},mn.thru=Wo,mn.toArray=Ha,mn.toPairs=gs,mn.toPairsIn=vs,mn.toPath=function(t){return wa(t)?ne(t,po):Ua(t)?[t]:ar(ho(qa(t)))},mn.toPlainObject=Ka,mn.transform=function(t,e,n){var i=wa(t),r=i||Aa(t)||Ba(t);if(e=Vr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ra(t)&&Oa(o)?yn(Dt(t)):{}}return(r?Xt:Zn)(t,(function(t,i,r){return e(n,t,i,r)})),n},mn.unary=function(t){return ra(t,1)},mn.union=Mo,mn.unionBy=ko,mn.unionWith=Lo,mn.uniq=function(t){return t&&t.length?ji(t):[]},mn.uniqBy=function(t,e){return t&&t.length?ji(t,Vr(e,2)):[]},mn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?ji(t,void 0,e):[]},mn.unset=function(t,e){return null==t||Gi(t,e)},mn.unzip=Do,mn.unzipWith=No,mn.update=function(t,e,n){return null==t?t:Hi(t,e,qi(n))},mn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Hi(t,e,qi(n),i)},mn.values=ms,mn.valuesIn=function(t){return null==t?[]:_e(t,ls(t))},mn.without=Fo,mn.words=Os,mn.wrap=function(t,e){return pa(qi(e),t)},mn.xor=Vo,mn.xorBy=Uo,mn.xorWith=Bo,mn.zip=jo,mn.zipObject=function(t,e){return zi(t||[],e||[],Mn)},mn.zipObjectDeep=function(t,e){return zi(t||[],e||[],Ci)},mn.zipWith=Go,mn.entries=gs,mn.entriesIn=vs,mn.extend=Za,mn.extendWith=Ja,Vs(mn,mn),mn.add=Ks,mn.attempt=Is,mn.camelCase=ys,mn.capitalize=bs,mn.ceil=qs,mn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=za(n))==n?n:0),void 0!==e&&(e=(e=za(e))==e?e:0),Vn(za(t),e,n)},mn.clone=function(t){return Un(t,4)},mn.cloneDeep=function(t){return Un(t,5)},mn.cloneDeepWith=function(t,e){return Un(t,5,e="function"==typeof e?e:void 0)},mn.cloneWith=function(t,e){return Un(t,4,e="function"==typeof e?e:void 0)},mn.conformsTo=function(t,e){return null==e||Bn(t,e,us(e))},mn.deburr=_s,mn.defaultTo=function(t,e){return null==t||t!=t?e:t},mn.divide=Xs,mn.endsWith=function(t,e,n){t=qa(t),e=Bi(e);var i=t.length,r=n=void 0===n?i:Vn($a(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},mn.eq=ma,mn.escape=function(t){return(t=qa(t))&&N.test(t)?t.replace(L,Pe):t},mn.escapeRegExp=function(t){return(t=qa(t))&&j.test(t)?t.replace(B,"\\$&"):t},mn.every=function(t,e,n){var i=wa(t)?Jt:$n;return n&&qr(t,e,n)&&(e=void 0),i(t,Vr(e,3))},mn.find=zo,mn.findIndex=_o,mn.findKey=function(t,e){return ue(t,Vr(e,3),Zn)},mn.findLast=Ko,mn.findLastIndex=wo,mn.findLastKey=function(t,e){return ue(t,Vr(e,3),Jn)},mn.floor=Zs,mn.forEach=qo,mn.forEachRight=Xo,mn.forIn=function(t,e){return null==t?t:qn(t,Vr(e,3),ls)},mn.forInRight=function(t,e){return null==t?t:Xn(t,Vr(e,3),ls)},mn.forOwn=function(t,e){return t&&Zn(t,Vr(e,3))},mn.forOwnRight=function(t,e){return t&&Jn(t,Vr(e,3))},mn.get=is,mn.gt=ya,mn.gte=ba,mn.has=function(t,e){return null!=t&&$r(t,e,ri)},mn.hasIn=rs,mn.head=To,mn.identity=Ls,mn.includes=function(t,e,n,i){t=Ta(t)?t:ms(t),n=n&&!i?$a(n):0;var r=t.length;return n<0&&(n=Ke(r+n,0)),Va(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ce(t,e,n)>-1},mn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$a(n);return r<0&&(r=Ke(i+r,0)),ce(t,e,r)},mn.inRange=function(t,e,n){return e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=qe(e,n)&&t<Ke(e,n)}(t=za(t),e,n)},mn.invoke=ss,mn.isArguments=_a,mn.isArray=wa,mn.isArrayBuffer=Ea,mn.isArrayLike=Ta,mn.isArrayLikeObject=Sa,mn.isBoolean=function(t){return!0===t||!1===t||Ma(t)&&ni(t)==c},mn.isBuffer=Aa,mn.isDate=Pa,mn.isElement=function(t){return Ma(t)&&1===t.nodeType&&!Da(t)},mn.isEmpty=function(t){if(null==t)return!0;if(Ta(t)&&(wa(t)||"string"==typeof t||"function"==typeof t.splice||Aa(t)||Ba(t)||_a(t)))return!t.length;var e=Wr(t);if(e==g||e==b)return!t.size;if(Qr(t))return!hi(t).length;for(var n in t)if(gt.call(t,n))return!1;return!0},mn.isEqual=function(t,e){return li(t,e)},mn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?li(t,e,void 0,n):!!i},mn.isError=xa,mn.isFinite=function(t){return"number"==typeof t&&$e(t)},mn.isFunction=Oa,mn.isInteger=Ia,mn.isLength=Ca,mn.isMap=ka,mn.isMatch=function(t,e){return t===e||ci(t,e,Br(e))},mn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,ci(t,e,Br(e),n)},mn.isNaN=function(t){return La(t)&&t!=+t},mn.isNative=function(t){if(Jr(t))throw new it("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return di(t)},mn.isNil=function(t){return null==t},mn.isNull=function(t){return null===t},mn.isNumber=La,mn.isObject=Ra,mn.isObjectLike=Ma,mn.isPlainObject=Da,mn.isRegExp=Na,mn.isSafeInteger=function(t){return Ia(t)&&t>=-9007199254740991&&t<=9007199254740991},mn.isSet=Fa,mn.isString=Va,mn.isSymbol=Ua,mn.isTypedArray=Ba,mn.isUndefined=function(t){return void 0===t},mn.isWeakMap=function(t){return Ma(t)&&Wr(t)==E},mn.isWeakSet=function(t){return Ma(t)&&"[object WeakSet]"==ni(t)},mn.join=function(t,e){return null==t?"":Ye.call(t,e)},mn.kebabCase=ws,mn.last=xo,mn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=$a(n))<0?Ke(i+r,0):qe(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):le(t,fe,r,!0)},mn.lowerCase=Es,mn.lowerFirst=Ts,mn.lt=ja,mn.lte=Ga,mn.max=function(t){return t&&t.length?Yn(t,Ls,ii):void 0},mn.maxBy=function(t,e){return t&&t.length?Yn(t,Vr(e,2),ii):void 0},mn.mean=function(t){return he(t,Ls)},mn.meanBy=function(t,e){return he(t,Vr(e,2))},mn.min=function(t){return t&&t.length?Yn(t,Ls,gi):void 0},mn.minBy=function(t,e){return t&&t.length?Yn(t,Vr(e,2),gi):void 0},mn.stubArray=Ys,mn.stubFalse=zs,mn.stubObject=function(){return{}},mn.stubString=function(){return""},mn.stubTrue=function(){return!0},mn.multiply=Qs,mn.nth=function(t,e){return t&&t.length?_i(t,$a(e)):void 0},mn.noConflict=function(){return Nt._===this&&(Nt._=_t),this},mn.noop=Us,mn.now=ia,mn.pad=function(t,e,n){t=qa(t);var i=(e=$a(e))?ke(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return wr(Ge(r),n)+t+wr(je(r),n)},mn.padEnd=function(t,e,n){t=qa(t);var i=(e=$a(e))?ke(t):0;return e&&i<e?t+wr(e-i,n):t},mn.padStart=function(t,e,n){t=qa(t);var i=(e=$a(e))?ke(t):0;return e&&i<e?wr(e-i,n)+t:t},mn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ze(qa(t).replace(H,""),e||0)},mn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&qr(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Wa(t),void 0===e?(e=t,t=0):e=Wa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Je();return qe(t+r*(e-t+Mt("1e-"+((r+"").length-1))),e)}return Ai(t,e)},mn.reduce=function(t,e,n){var i=wa(t)?re:ve,r=arguments.length<3;return i(t,Vr(e,4),n,r,Hn)},mn.reduceRight=function(t,e,n){var i=wa(t)?oe:ve,r=arguments.length<3;return i(t,Vr(e,4),n,r,Wn)},mn.repeat=function(t,e,n){return e=(n?qr(t,e,n):void 0===e)?1:$a(e),Pi(qa(t),e)},mn.replace=function(){var t=arguments,e=qa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},mn.result=function(t,e,n){var i=-1,r=(e=Xi(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[po(e[i])];void 0===o&&(i=r,o=n),t=Oa(o)?o.call(t):o}return t},mn.round=tu,mn.runInContext=t,mn.sample=function(t){return(wa(t)?On:Oi)(t)},mn.size=function(t){if(null==t)return 0;if(Ta(t))return Va(t)?ke(t):t.length;var e=Wr(t);return e==g||e==b?t.size:hi(t).length},mn.snakeCase=Ss,mn.some=function(t,e,n){var i=wa(t)?ae:Di;return n&&qr(t,e,n)&&(e=void 0),i(t,Vr(e,3))},mn.sortedIndex=function(t,e){return Ni(t,e)},mn.sortedIndexBy=function(t,e,n){return Fi(t,e,Vr(n,2))},mn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Ni(t,e);if(i<n&&ma(t[i],e))return i}return-1},mn.sortedLastIndex=function(t,e){return Ni(t,e,!0)},mn.sortedLastIndexBy=function(t,e,n){return Fi(t,e,Vr(n,2),!0)},mn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ni(t,e,!0)-1;if(ma(t[n],e))return n}return-1},mn.startCase=As,mn.startsWith=function(t,e,n){return t=qa(t),n=null==n?0:Vn($a(n),0,t.length),e=Bi(e),t.slice(n,n+e.length)==e},mn.subtract=eu,mn.sum=function(t){return t&&t.length?me(t,Ls):0},mn.sumBy=function(t,e){return t&&t.length?me(t,Vr(e,2)):0},mn.times=function(t,e){if((t=$a(t))<1||t>9007199254740991)return[];var n=4294967295,i=qe(t,4294967295);t-=4294967295;for(var r=ye(i,e=Vr(e));++n<t;)e(n);return r},mn.toFinite=Wa,mn.toInteger=$a,mn.toLength=Ya,mn.toLower=function(t){return qa(t).toLowerCase()},mn.toNumber=za,mn.toSafeInteger=function(t){return t?Vn($a(t),-9007199254740991,9007199254740991):0===t?t:0},mn.toString=qa,mn.toUpper=function(t){return qa(t).toUpperCase()},mn.trim=function(t,e,n){if((t=qa(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Bi(e)))return t;var i=Le(t),r=Le(e);return Ji(i,Ee(i,r),Te(i,r)+1).join("")},mn.trimEnd=function(t,e,n){if((t=qa(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Bi(e)))return t;var i=Le(t);return Ji(i,0,Te(i,Le(e))+1).join("")},mn.trimStart=function(t,e,n){if((t=qa(t))&&(n||void 0===e))return t.replace(H,"");if(!t||!(e=Bi(e)))return t;var i=Le(t);return Ji(i,Ee(i,Le(e))).join("")},mn.truncate=function(t,e){var n=30,i="...";if(Ra(e)){var r="separator"in e?e.separator:r;n="length"in e?$a(e.length):n,i="omission"in e?Bi(e.omission):i}var o=(t=qa(t)).length;if(xe(t)){var a=Le(t);o=a.length}if(n>=o)return t;var s=n-ke(i);if(s<1)return i;var u=a?Ji(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+i;if(a&&(s+=u.length-s),Na(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=st(r.source,qa(X.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var d=l.index;u=u.slice(0,void 0===d?s:d)}}else if(t.indexOf(Bi(r),s)!=s){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i},mn.unescape=function(t){return(t=qa(t))&&D.test(t)?t.replace(k,De):t},mn.uniqueId=function(t){var e=++vt;return qa(t)+e},mn.upperCase=Ps,mn.upperFirst=xs,mn.each=qo,mn.eachRight=Xo,mn.first=To,Vs(mn,(Js={},Zn(mn,(function(t,e){gt.call(mn.prototype,e)||(Js[e]=t)})),Js),{chain:!1}),mn.VERSION="4.17.14",Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){mn[t].placeholder=mn})),Xt(["drop","take"],(function(t,e){wn.prototype[t]=function(n){n=void 0===n?1:Ke($a(n),0);var i=this.__filtered__&&!e?new wn(this):this.clone();return i.__filtered__?i.__takeCount__=qe(n,i.__takeCount__):i.__views__.push({size:qe(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Xt(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Vr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Xt(["head","last"],(function(t,e){var n="take"+(e?"Right":"");wn.prototype[t]=function(){return this[n](1).value()[0]}})),Xt(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");wn.prototype[t]=function(){return this.__filtered__?new wn(this):this[n](1)}})),wn.prototype.compact=function(){return this.filter(Ls)},wn.prototype.find=function(t){return this.filter(t).head()},wn.prototype.findLast=function(t){return this.reverse().find(t)},wn.prototype.invokeMap=xi((function(t,e){return"function"==typeof t?new wn(this):this.map((function(n){return si(n,t,e)}))})),wn.prototype.reject=function(t){return this.filter(fa(Vr(t)))},wn.prototype.slice=function(t,e){t=$a(t);var n=this;return n.__filtered__&&(t>0||e<0)?new wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=$a(e))<0?n.dropRight(-e):n.take(e-t)),n)},wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wn.prototype.toArray=function(){return this.take(4294967295)},Zn(wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=mn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(mn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof wn,u=a[0],l=s||wa(e),c=function(t){var e=r.apply(mn,ie([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,f=!!this.__actions__.length,h=o&&!d,p=s&&!f;if(!o&&l){e=p?e:new wn(this);var g=t.apply(e,a);return g.__actions__.push({func:Wo,args:[c],thisArg:void 0}),new _n(g,d)}return h&&p?t.apply(this,a):(g=this.thru(c),h?i?g.value()[0]:g.value():g)})})),Xt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);mn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(wa(r)?r:[],t)}return this[n]((function(n){return e.apply(wa(n)?n:[],t)}))}})),Zn(wn.prototype,(function(t,e){var n=mn[e];if(n){var i=n.name+"";gt.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[mr(void 0,2).name]=[{name:"wrapper",func:void 0}],wn.prototype.clone=function(){var t=new wn(this.__wrapped__);return t.__actions__=ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ar(this.__views__),t},wn.prototype.reverse=function(){if(this.__filtered__){var t=new wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=wa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=qe(e,t+a);break;case"takeRight":t=Ke(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=qe(u,this.__takeCount__);if(!n||!i&&r==u&&h==u)return $i(t,this.__actions__);var p=[];t:for(;u--&&f<h;){for(var g=-1,v=t[l+=e];++g<d;){var m=c[g],y=m.iteratee,b=m.type,_=y(v);if(2==b)v=_;else if(!_){if(1==b)continue t;break t}}p[f++]=v}return p},mn.prototype.at=$o,mn.prototype.chain=function(){return Ho(this)},mn.prototype.commit=function(){return new _n(this.value(),this.__chain__)},mn.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},mn.prototype.plant=function(t){for(var e,n=this;n instanceof bn;){var i=vo(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},mn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wn){var e=t;return this.__actions__.length&&(e=new wn(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[Ro],thisArg:void 0}),new _n(e,this.__chain__)}return this.thru(Ro)},mn.prototype.toJSON=mn.prototype.valueOf=mn.prototype.value=function(){return $i(this.__wrapped__,this.__actions__)},mn.prototype.first=mn.prototype.head,se&&(mn.prototype[se]=function(){return this}),mn}();Nt._=Ne,void 0===(r=function(){return Ne}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(32),n(108)(t))},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,f,h,p,g,v,m,y,b,_,w,E,T,S,A,P,x,O,I,C,R,M,k,L,D,N,F=i(n(0)),V=i(n(65)),U=i(n(113)),B=i(n(33)),j=i(n(114)),G=i(n(34)),H=(r=function(){var t=G.default.getDimensions();return t.width*t.height<5e5},o=function(){return window.innerWidth*window.innerHeight<5e5},a=function(){return U.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return f(navigator.userAgent)||a()&&!r()},c=function(){return V.default.canvas&&V.default.video},d=F.default.once((function(){return j.default.browser(navigator.userAgent)})),f=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/(\d+\.\d+\.\d+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(h=function(t){var e,n,i;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(n="Windows Mobile",i=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(n="Windows",i=e[1]):n="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(n="iOS",e[3]&&(i=e[3].replace(/_/g,"."))):(e=f(t))?(n="iOS",i=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(n="Android",i=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(n="BlackBerry",i=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(n="Mac OS X",e[2]&&(i=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(n="Linux",i=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(n="Chrome OS",i=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(n="jsdom",i=e[1]);var r={};return n&&(r.name=n),i&&(r.version=i),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},v=o()?50:200,m=F.default.once((function(){B.default.set("testcookie",1);var t=B.default.get("testcookie");return t&&B.default.remove("testcookie"),t})),y=d().isMsie(),b=function(){return d().msieVersion()},_=d().isEdge(),w=d().isWebkit(),E=d().isMozilla(),T=d().isTrident(),P=function(){return A()&&d().version.match(/^7\..*/)},x=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i<e},O=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i>=e},I=function(){return a()&&"Mobile Safari"===d().name},C=function(){return!a()&&"Safari"===d().name},k=function(){return R()&&!window.navigator.standalone&&I()},L=function(){return"Chrome"===d().name},D=function(){return d().isMozilla()},{touch:function(){return V.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},msie:y,edge:_,msieVersion:b,webkit:w,mozilla:E,trident:T,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:h,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?"smartphone":l()?"tablet":s()?"desktop":"other"},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=G.default.getDimensions();if(!N()&&t<e.width){if(M()&&!window.navigator.standalone&&P())return-20;if(k()&&P())return-65;if(k())return 60}return 0},getRubberBandLimit:function(){return v},cookies:m,pixelRatio:function(){return F.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var n=G.default.getDimensions();return k()&&t===n.height&&e>=n.width},isIframe:N=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:S=function(){return"Windows"===p.name},isIos:A=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!A()&&x(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!A()&&O(p.version,t)},isBrowserChromeLessThan:function(t){return!!L()&&x(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!L()&&O(d().version,t)},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!D()&&O(d().version,t)},isDesktopSafariLessThan:function(t){return!!C()&&x(d().version,t)},isWindowsLessThan:function(t){return!!S()&&function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]),r=Number(n[1]),o=e.split("."),a=Number(o[0]),s=Number(o[1]);return!isNaN(i)&&!isNaN(a)&&(isNaN(r)&&(r=0),isNaN(s)&&(s=0),i!==a?i<a:r<s)}(p.version,t)},isAndroid:function(){return"Android"===p.name},isIphone:R=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:M=function(){return/iPad/i.test(navigator.userAgent)||!!f(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return F.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==b()&&b()<=9},isIE11:function(){return 11===b()},isBrowserChrome:L,isBrowserFirefox:D,isDesktopSafari:C,isMobileSafari:I,isIpadPretendingToBeDesktop:f,DEVICE_TYPE_SMARTPHONE:"smartphone",DEVICE_TYPE_TABLET:"tablet",DEVICE_TYPE_DESKTOP:"desktop",DEVICE_TYPE_OTHER:"other"});e.default=H},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e]+" ";return t},s={debug:!1,info:!1,warn:!1,error:!1},u=!1,l=!1,c={debug:function(){if(s.debug){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.log)&&console.log(t):console.debug.apply(console,arguments)}},info:function(){if(s.info){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.info)&&console.info(t):console.info.apply(console,arguments)}},forceInfo:function(){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.info)&&console.info(t):console.info.apply(console,arguments)},devWarn:function(){return u?c.warn.apply(this,arguments):c.info.apply(this,arguments)},warn:function(){if(s.warn){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.warn)&&console.warn(t):console.warn.apply(console,arguments)}},error:function(){if(s.error){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.error)&&console.error(t):console.error.apply(console,arguments)}},init:function(t){s=r.default.defaults(t.modes||{},s),u=t.emitDevWarnings,l=r.default.reduce(s,(function(t,e,n){return t||e}),l)},isEnabled:function(t){return r.default.isUndefined(t)?l:s[t]}};c.d=c.debug,c.i=c.info,c.w=c.warn,c.e=c.error,c.fi=c.forceInfo,e.default=c},function(t,e,n){"use strict";(function(i){var r,o,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(0),n(1),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,(function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&c.test(i))for(a=i.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,i,r){return t._events=d(h,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return f(t,e,i,this,a),this};var h=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||i||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],f=0;f<c.length;f++){var h=c[f];i&&i!==h.callback&&i!==h.callback._callback||s&&s!==h.context?d.push(h):(o=h.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(v,this._events,t,void 0,n),this};var v=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&m(r,i),o&&m(o,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(l[f],e)||s.push(f),n.isEqual(d[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=i);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,l[s[h]],i)}if(u)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,u=this.attributes;i.success=function(t){a.attributes=u;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},F(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},E=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(b.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,_)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,f=e.remove,h=!1,p=this.comparator&&null==r&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,v=0;v<t.length;v++){o=t[v];var m=this.get(o);if(m){if(d&&o!==m){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=m.parse(y,e)),m.set(y,e),p&&!h&&(h=m.hasChanged(g))}l[m.cid]||(l[m.cid]=!0,a.push(m)),t[v]=m}else c&&(o=t[v]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(f){for(v=0;v<this.length;v++)l[(o=this.models[v]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var b=!1,w=!p&&c&&f;if(a.length&&w?(b=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,E(this.models,a,0),this.length=this.models.length):s.length&&(p&&(h=!0),E(this.models,s,null==r?this.length:r),this.length=this.models.length),h&&this.sort({silent:!0}),!e.silent){for(v=0;v<s.length;v++)null!=r&&(e.index=r+v),(o=s[v]).trigger("add",o,this,e);(h||b)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var T=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(S);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=P[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||N()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var x=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,C=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(x.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(R,"\\$&").replace(O,"(?:$1)?").replace(I,(function(t,e){return e?t:"([^/?]+)"})).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var M=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,D=/#.*$/;M.started=!1,n.extend(M.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(k,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!M.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new M,y.extend=b.extend=x.extend=T.extend=M.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var N=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(a,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(32))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(3)),l=a(n(169)),c=a(n(27)),d=n(87),f=n(28),h=n(26),p=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.activeStateInteractions=[],n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.applyTransition(),this},e.prototype.hasObjectState=function(t){return"default"===t||!!this.options.states.find((function(e){return e.state===t}))},e.prototype.getObjectState=function(t){if(t){var e=this.options.states.find((function(e){return e.state===t}));return e&&this.applyDeltaValuesToCoordinateProperties(e),e}},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){s.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),s.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),s.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),s.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),n=this.getObjectState(t),i=e;n&&(i=o(o({},i),n.config));var r=c.default.getExtentsPointsFromDimensions(i.x,i.y,i.width,i.height,i.rotation,i.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e=t?null:this.getObjectState(this.options.selectedState);return{x:e&&e.hasPositionChange()?e.config.x:this.options.x,y:e&&e.hasPositionChange()?e.config.y:this.options.y,width:e&&e.hasDimensionsChange()?e.config.width:this.options.width,height:e&&e.hasDimensionsChange()?e.config.height:this.options.height,rotation:-Math.toRad((e&&e.hasRotationChange()?e.config.rotation:this.options.rotation)||0),borderWidth:(e&&e.hasBorderChange()?e.config.border.width:this.options.border.width)||0}},e.prototype.applyScale=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height);var n=t/this.options.width,i=e/this.options.height;h.CssUtils.setTransformToElement(this.$el,{scale:{x:n,y:i}}),this.applyPositionToScaledObject(t,e)},e.prototype.applyPositionToScaledObject=function(t,e,n,i){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.width),void 0===i&&(i=this.options.height);var r=(n-this.options.width)/2,o=(i-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.invokeObjectState=function(t){if("default"===t&&"default"!==this.options.selectedState)return this.revokeObjectState(this.options.selectedState);var e=this.getObjectState(t);e&&this.applyState(e)},e.prototype.applyState=function(t){var e="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.previousState="default"!==this.options.selectedState?e:void 0,this.callObjectStateInvoker(t,e)},e.prototype.callObjectStateInvoker=function(t,e){f.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revokeObjectState=function(t){if(this.getObjectState(t)){var e=this.previousState,n={};n=e?o(o({},e.config),{state:e.state}):{state:"default"};var i=new d.ObjectState(n);this.applyState(i)}},e.prototype.applyTransition=function(t){if(void 0===t&&(t=this.options.transition),t){var e=(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(e)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t){this.$el.css("transition",t)},e.prototype.applyDropShadow=function(t,e){void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var n=this.getApplyShadowTarget(),i=n.css("filter"),r="";if(i){var o=i.match(/[\w-]*\(.*?\)/g);o&&(r=o.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var a={x:s.default.isNumber(t.x)?t.x:0,y:s.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(a,e),this.isFlipped()&&this._flipShadowCoordinates(a,this.options.flipHorizontal,this.options.flipVertical);var l="drop-shadow(";l+=Math.round(a.x)+"px",l+=" "+Math.round(a.y)+"px";if(l+=t.blur?" "+Math.round(t.blur/2)+"px":" 0",l+=" "+t.color,l+=")",n.css("-webkit-filter",r+" "+l),n.css("filter",r+" "+l),u.default.isIE11()||u.default.isIE9OrEarlier()){var c="progid:DXImageTransform.Microsoft.Dropshadow(OffX=";c+=Math.round(a.x)+", OffY=",c+=Math.round(a.y)+", Color='",c+=t.color+"')",n.css("filter",c)}}else n.css("filter",r),n.css("-webkit-filter",r)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup&&this.options.parentSmartGroup.linkInteraction?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t instanceof e&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[],this.previousState=void 0},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&(this.previousState&&this.activeStateInteractions[e].state===this.previousState.state&&(this.previousState=void 0),this.activeStateInteractions.splice(e,1)),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.hasExtentsChangeOnState=function(t){var e=this.getObjectState(t),n=this.getObjectState(this.options.selectedState),i=!!e&&e.hasExtentsChange(),r=!!n&&n.hasExtentsChange();return i||r},e}(l.default);e.AbstractComponentView=p},function(t,e,n){"use strict";var i,r,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(s,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,d=/\s+/,f=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function v(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function m(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},v.prototype.push=function(t){return new v(t,this)},v.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(e,i){var o=this.cache,a=o[e];return null==a&&(a=o[e]=function(e,i){if(!e)return[];var o,a,s,l=[],v=[],m=[],y=!1,b=!1;function _(){if(y&&!b)for(;m.length;)delete v[m.pop()];else m=[];y=!1,b=!1}function w(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}w(i||t.tags);for(var E,T,S,A,P,x,O=new g(e);!O.eos();){if(E=O.pos,S=O.scanUntil(o))for(var I=0,C=S.length;I<C;++I)u(A=S.charAt(I))?m.push(v.length):b=!0,v.push(["text",A,E,E+1]),E+=1,"\n"===A&&_();if(!O.scan(o))break;if(y=!0,T=O.scan(p)||"name",O.scan(c),"="===T?(S=O.scanUntil(f),O.scan(f),O.scanUntil(a)):"{"===T?(S=O.scanUntil(s),O.scan(h),O.scanUntil(a),T="&"):S=O.scanUntil(a),!O.scan(a))throw new Error("Unclosed tag at "+O.pos);if(P=[T,S,E,O.pos],v.push(P),"#"===T||"^"===T)l.push(P);else if("/"===T){if(!(x=l.pop()))throw new Error('Unopened section "'+S+'" at '+E);if(x[1]!==S)throw new Error('Unclosed section "'+x[1]+'" at '+E)}else"name"===T||"{"===T||"&"===T?b=!0:"="===T&&w(S)}if(x=l.pop())throw new Error('Unclosed section "'+x[1]+'" at '+O.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(v))}(e,i)),a},m.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof v?e:new v(e);return this.renderTokens(i,r,n,t)},m.prototype.renderTokens=function(t,e,n,i){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,n,i):"^"===o?a=this.renderInverted(r,e,n,i):">"===o?a=this.renderPartial(r,e,n,i):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},m.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},m.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},m.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},m.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},m.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},m.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var y=new m;t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(t,e,i)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);if(!i(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return l[t]}))},t.Scanner=g,t.Context=v,t.Writer=m},e&&"string"!=typeof e.nodeName?a(e):(r=[e],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(0)),a=i(n(1)),s=i(n(5)),u=i(n(3)),l=i(n(2)),c=i(n(4)),d=i(n(17)),f=i(n(13)),h=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"},p=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var v=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:m(e.deviceTypeMissingVariantFallback):"desktop"},m=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");var t,e;return 0===d.default.getNumberOfExistingVariants()?"desktop":l.default.previewMode?function(){var t=d.default.getLayoutSettings(),e=g(),n=e!==u.default.DEVICE_TYPE_DESKTOP;if("device-type"===t.layoutPrimarySetting){if(n){var i=p(t,e);return c.default.debug("Resolved layout for touch device: "+e),i!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+i),d.default.setPreviewerFrameSize(i)),i}var r=d.default.getPreviewerFrameSize();return v(r)}var o=a.default(".adaptive-layouts-frame").width();return h(o)}():"device-type"===d.default.getLayoutSettings().layoutPrimarySetting?v(g()):l.default.isEmbedded?(e=f.default.getInstance().getEmbedContextDimensions(),h(e.width)):(t=window.innerWidth,h(t))};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(2)),a=i(n(10)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,i):this.buildPathStyleUri(t,e,n,i)},buildHtmlStyleUri:function(t,e){e=e||"";var n,i=this.getWindowContext(),r=i.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),n=i.location.pathname+r):n=a.default.appendQueryParams(i.location.pathname+r,{page:t}),(n=n.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,n,i){if(!s[t])return r.default.warn("Mode is not supported"),null;i=i||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&n&&"desktop"!==n?"/layout/"+n:"",c=a.location.pathname+"";return c=(c=(c=c.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,(c+=a.location.search)+i},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var n=t.location.search.match(/page=(\d+)/);return e=1,n&&(e=parseInt(n[1],10)),e}var i=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(i&&(e=parseInt(i[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window}};e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,n={};if(-1===(t=String(t)).indexOf("?"))return n;var i=t.split("?")[1];if(r.default.isEmpty(i))return n;i=i.split("&");for(var o=0;o<i.length;o++)-1===i[o].indexOf("=")?n[decodeURIComponent(i[o])]=void 0:(e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return n},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,n){if(r.default.isEmpty(e))return t;var i="",o=t.lastIndexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var i=n?e:encodeURIComponent(e);r.default.isUndefined(t)||(n||(t=encodeURIComponent(t)),i+="="+t),s.push(i)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+i},appendCacheBustingTimestamp:function(t,e){return t+(-1===t.indexOf("?")?"?":"&")+"_="+e},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var n=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+n+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+n+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+n+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],n=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return n&&e?window.cerosBaseUrl+t.slice(1):n||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var n=s.getUrlParams(t);return r.default.find(n,(function(t,n){if(n.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var n=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:n+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(5)),s=i(n(3)),u=i(n(76));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,n)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,n)}},bindInteraction:function(t,e){var n;n="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",n)})),s.default.desktop()&&t.off("click").on("click",n)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},show:function(){this.$el.show()},hide:function(){this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1)),s=i(n(5)),u={Module:function(t){o.default.extend(this,t),this.status=u.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};o.default.extend(u.Module.prototype,s.default.Events,{setDelegate:function(t){if(!o.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&o.default.isFunction(t[e])&&(this[e]=o.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return u.Application.DEFERRED_LOADING_TIMEOUT}}),u.Module.extend=s.default.View.extend,u.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},u.Application=function(t){this.initCallbacks=new u.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new a.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),o.default.extend(this,t)},o.default.extend(u.Application.prototype,s.default.Events,{_allLoaded:function(){return o.default.every(o.default.values(this.modules),(function(t){return t&&t.getStatus()===u.Module.STATUS.LOADED}))},_loadModule:function(t){if(o.default.isUndefined(t)||o.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(u.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(u.Module.STATUS.STARTED)}))},use:function(t){var e=this;o.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return r(n(134)("./"+t+"/module"))})).then((function(n){if(!n)throw Error("could not load module: "+t);e.loadedAllModules.notify(n)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=o.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():a.default.when(this.loadedAllModules).then(e)}}),u.Application.extend=s.default.View.extend,u.Application.DEFERRED_LOADING_TIMEOUT=5e3,u.Callbacks=function(){this.deferred=a.default.Deferred(),this.promise=this.deferred.promise()},o.default.extend(u.Callbacks.prototype,{add:function(t,e){this.promise.done((function(n,i){e&&(n=e),t.call(n,i)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o=i(n(0)),a=i(n(5)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},function(t,e,n){"use strict";var i=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0)),a=n(164),s=r(n(15)),u=function(){function t(t,e){if(!e.module)throw new Error("All interactions must belong to a module");o.default.assign(this,t),this.trigger=this.hasOutTrigger&&"click"===t.trigger?"mouseDown":t.trigger,this.action=t.action,this.pageView=e}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.triggerAction=function(t){if(!o.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var n=new a.InteractionInvocation(this,t);return this.hasGlobalScope()?s.default.trigger(e,n):this.pageView.module.trigger(e,n),!0},t.prototype.triggerOutAction=function(){},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1,attributes:{onmouseup:"blur()"}}},enumerable:!0,configurable:!0}),t.prototype.isValid=function(){var t=o.default.values(this);return!o.default.some(t,(function(t){if(o.default.isNull(t))return!0;if(o.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){this.pageView;return i(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(119)),u=i(n(123)),l=i(n(124)),c=i(n(69)),d=i(n(125)),f=i(n(37));function h(t,e,n){if(l.default.has(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var i={families:t,urls:e};o.default.isUndefined(n)||(i.testStrings={},o.default.isObject(n)?o.default.each(t,(function(t){o.default.isUndefined(n[t])||(i.testStrings[t]=n[t])})):o.default.each(t,(function(t){i.testStrings[t]=n})));return l.default.add(e,(function(){var e=[],n={};return o.default.each(t,(function(t){var i=new r.default.Deferred;e.push(i),n[t]=i})),d.default.load({custom:i,async:!0,fontactive:function(t){n[t].resolve()},fontinactive:function(t){n[t].reject()}}),r.default.when.apply(r.default,e).promise()}))}e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,n){var i=function(t,e,n){o.default.isNull(e)&&(e="full");var i=t+"|"+e;f.default.isValidCropObject(n)&&(i+="|"+f.default.createCropDimensionsString(n));return i}(t,e,n);return l.default.add(i,(function(){return s.default.getOrCreateRasterImageResource(t,e,n)}))},addVectorImage:function(t){return l.default.add(t,(function(){return new c.default(t).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return a.default.googleFontUrl?function(t){return h(t=t.split(":")[0],a.default.googleFontUrl+"/"+t+".css",void 0)}(t):l.default.has(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred;return d.default.load({google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}}),e.promise()}))},addCustomWebFont:h,has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(n(0)),s=i(n(5)),u=i(n(1)),l=i(n(4)),c=i(n(2)),d=r(n(21)),f=i(n(9)),h={tablet:{height:4,width:3},mobile:{height:16,width:9}},p={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},g={tablet:110,mobile:90,desktop:70},v={tablet:50,mobile:50,desktop:0},m=["desktop","tablet","mobile"],y={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=a.default.extend({},s.default.Events,{fullScreenMode:!1,previewerFrameSize:"desktop",triggerReload:function(){o.trigger("reload"),this.trigger(y.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){o=t},isDocVersionSet:function(){return!a.default.isUndefined(o)},doesVariantExist:function(t){return a.default.includes(a.default.keys(o.get("overrides")),t)},hasVariants:function(){return c.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return a.default.keys(o.get("overrides")).length},getExistingVariants:function(){return a.default.keys(o.get("overrides"))},getLayoutSettings:function(){return o.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(c.default.previewMode&&c.default.allowAdaptiveLayouts&&!e){var n=this.getPreviewerFrameSize(),i=t.height()-(g[n]+v[n]),r=Math.max(i/p[n].height,300),o="desktop"===n?t.width():r*(h[n].width/h[n].height);return{width:d.toNextMultiple(o,2),height:d.toNextMultiple(r,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(c.default.previewMode&&c.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();l.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(l.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate("desktop"))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?f.default.parseLayoutFromLocation():"desktop"},hasFrameSizeOnUrl:function(){return!!f.default.parseLayoutFromLocation()},isValidVariantName:function(t){return a.default.includes(m,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).width)*(p[e].width-1)/2},getTopBottomBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).height)*(p[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=u.default(".adaptive-layouts-frame");this.fullScreenMode?(u.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:u.default(window).width(),height:u.default(window).height()}),u.default(window).trigger("resize")):(u.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),u.default(window).trigger("resize"))},VALID_VARIANT_NAMES:m,PREVIEWER_TOP_PADDING_BY_VARIANT:g,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:p,EVENTS:y})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(10));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("http://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("http://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var n={url:t,media:e},i=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return i&&(n.description=i),o.default.appendQueryParams("http://pinterest.com/pin/create/button/",n)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("http://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PASSWORD_PROTECTED_EXPERIENCES:"Password Protected Experiences",GETTY_IMAGES:"Getty Image Integration",GETTY_VIDEOS:"Getty Video Integration",ACCESSIBILITY:"Accessibility",OBJECT_STATES:"Object States",AVOCODE_INTEGRATION:"Avocode Integration"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01,e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,n){var i=Math.rotateCoord(this.x,this.y,t,e,n);this.setX(i.x),this.setY(i.y)}},e.Point.diff=function(t,n){return new e.Point(t.getX()-n.getX(),t.getY()-n.getY())},e.Point.sum=function(t,n){return new e.Point(t.getX()+n.getX(),t.getY()+n.getY())},e.Point.ORIGIN=new e.Point(0,0),e.calcRotatedLineIntersect=function(t,e,n){return{startPt:this.calcPointOnRect(t-270,e,n),endPt:this.calcPointOnRect(t-90,e,n)}},e.calcPointOnRect=function(t,n,i){var r=n/2,o=i/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,f=50/c;return Math.abs(d)<=50?(a=n/100*50,s=i/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=n/100*f,s=i/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)},e.scaleBoxToMaxDimension=function(t,e,n){var i=t,r=e;return t>0&&e>0&&(t>e?(i=n,r=Math.round(n/t*e)):(i=Math.round(n/e*t),r=n)),{width:i,height:r}},e.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})},e.closestPointOnBezierCurve=function(t,n,i,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(n.x,i.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(n.y,i.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u},e.closestPointOnLine=function(t,n){var i=[n.x2-n.x1,n.y2-n.y1],r=[n.x1-t.x,n.y1-t.y],o=-(i[0]*r[0]+i[1]*r[1])/(Math.pow(i[0],2)+Math.pow(i[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},n):e.sqDiag2D(e.vectorToSegment2D(0,t,n))<=e.sqDiag2D(e.vectorToSegment2D(1,t,n))?{x:n.x1,y:n.y1}:{x:n.x2,y:n.y2}},e.vectorToSegment2D=function(t,e,n){return{x:(1-t)*n.x1+t*n.x2-e.x,y:(1-t)*n.y1+t*n.y2-e.y}},e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)},e.cubicBezierCurveFirstDerivativeRoots=function(t,n,i,r){var o=[],a=3*(3*n-t-3*i+r),s=6*(t-2*n+i),u=s*s-4*a*(3*(n-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,n,i,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,n,i,r,c))}return o},e.evaluateBezierCurve=function(t,e,n,i,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*n*r*r*(1-r)+i*r*r*r},e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0},e.maintainOffsetWhenRotated=function(t,e){var n=e.x,i=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),n=r*Math.cos(t)+o*Math.sin(t),i=o*Math.cos(t)-r*Math.sin(t)}return{x:n,y:i}};var i={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated};window.CerosMath=i,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.cycleNext="cycle-next",t.cyclePrevious="cycle-previous",t.hideCanvasTargets="hide-layers",t.showCanvasTargets="show-layers",t.showCanvasTargetsOnHover="show-layers-on-hover",t.toggleCanvasTargets="toggle-layers",t.enableDisablePage="page-enable-disable",t.gotoPage="page-goto",t.nextPage="page-next",t.prevPage="page-prev",t.scrollTo="scroll-to",t.scrollToObject="scroll-to-object",t.url="url",t.email="share-email",t.facebook="share-facebook",t.linkedin="share-linkedin",t.pinterest="share-pinterest",t.twitter="share-twitter",t.changeState="change-state",t.fullscreen="show-fullscreen",t.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",t.hideOnly="hide-only",t.lightbox="lightbox",t.product="product",t.shoppingCart="shopping-cart",t.showAndStayVisibleCanvasTargets="show-and-stay-visible",t.showOnly="show-only",t.toggleReducedMotion="toggle-reduced-motion",t.invalid="invalid"}(e.ActionTypes||(e.ActionTypes={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.layerTargets=e.layerTargets,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(n(14).BaseInteraction);e.BaseVisibilityInteraction=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1)),a=i(n(0)),s=r(n(21)),u=i(n(3)),l=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={isVectorBased:function(t){return"image/svg+xml"===t},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var n=this.getViewBoxDimensions(t);return n&&n.height>0&&n.width>0?n:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var n=parseInt(e[2],10),i=parseInt(e[3],10);if(n>0&&i>0)return{width:n,height:i}}return null},getViewportDimensions:function(t){var e=t.documentElement,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);return n>0&&i>0?{width:n,height:i}:null},setViewportDimensions:function(t,e,n){var i=t.documentElement;i.setAttribute("width",e+"px"),i.setAttribute("height",n+"px")},updateSVGColorStyle:function(t,e){a.default.each(l,a.default.bind((function(n){var i=t.getElementsByTagName(n);a.default.each(i,a.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var n=this.getStyleValue(t,e);return n||(n=t.getAttribute(e)),n},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var n=t.getElementsByTagName(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},findChildNode:function(t,e){return a.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.appendChild(i,e.firstChild),i},prependNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.insertBefore(i,e.firstChild),i},addLinearGradient:function(t,e,n){var i=t.documentElement,r=this.findChildNode(i,"defs");r||(r=this.prependNewChildNode(t,i,"defs"));var o=this.appendNewChildNode(t,r,"linearGradient");o.setAttribute("id",e);var u=s.calcRotatedLineIntersect(n.angle,100,100);o.setAttribute("x1",u.startPt.getX()+"%"),o.setAttribute("y1",u.startPt.getY()+"%"),o.setAttribute("x2",u.endPt.getX()+"%"),o.setAttribute("y2",u.endPt.getY()+"%"),a.default.each(n.stops,a.default.bind((function(e,i){var r=0;n.stops.length>1&&(r=100*i/(n.stops.length-1));var a=this.appendNewChildNode(t,o,"stop");a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!u.default.isPhantomJS()&&!u.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var n=this.createXmlString(t);return"data:image/svg+xml;base64,"+window.btoa(n)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:"image/svg+xml"})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return a.default.isString(t)&&0===t.indexOf("data:")},isVectorDataURL:function(t){return a.default.isString(t)&&0===t.indexOf("data:image/svg+xml;base64,")},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with data:image/svg+xml;base64,");var e=t.substring("data:image/svg+xml;base64,".length);return window.atob(e)},appendStyle:function(t,e,n){var i=t.getAttribute("style"),r=e+":"+n+";";i&&i.length>0?(";"!==i.substr(i.length-1)&&(i+=";"),i+=r):i=r,t.setAttribute("style",i)},getStyleValue:function(t,e){var n=t.getAttribute("style");if(!n||0===n.length)return null;var i=n.split(";");if(!i)return null;for(var r=null,o=i.length-1;o>=0;o--){var a=i[o].split(":");if(a&&2==a.length)if(a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var n=o.default("<img/>");return e&&n.attr(e),n.on("error",a.default.bind((function(){this.revokeObjectURL(t)}),this)),n.attr("src",t),n}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){var o=parseFloat(i);return(r.default.isUndefined(i)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==n&&(this.b=parseInt(n,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,n=this.g/255,i=this.b/255,r=Math.min(e,Math.min(n,i)),o=Math.max(e,Math.max(n,i));if(r==o)return t.v=r,t;var a=e==r?n-i:i==r?e-n:i-e,s=e==r?3:i==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,n=this.g/255,i=this.b/255;return t.k=Math.min(1-e,1-n,1-i),t.c=(1-e-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),n=t.relativeLuminance();if(e<n){var i=e;e=n,n=i}return(e+.05)/(n+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,n,i;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(i,n,e)},o.fromHSV=function(t,e,n){var i,a,s,u,l,c,d,f;if(r.default.isObject(t)&&(e=t.s,n=t.v,t=t.h),0===e)return c=d=f=n,new o(255*c,255*d,255*f);switch(s=n*(1-e),u=n*(1-e*(a=(t/=60)-(i=Math.floor(t)))),l=n*(1-e*(1-a)),i){case 0:c=n,d=l,f=s;break;case 1:c=u,d=n,f=s;break;case 2:c=s,d=n,f=l;break;case 3:c=s,d=u,f=n;break;case 4:c=l,d=s,f=n;break;default:c=n,d=s,f=u}return new o(255*c,255*d,255*f)},o.fromCMYK=function(t,e,n,i){r.default.isObject(t)&&(e=t.m,n=t.y,i=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,n/=100,i/=100,a.r=1-Math.min(1,t*(1-i)+i),a.g=1-Math.min(1,e*(1-i)+i),a.b=1-Math.min(1,n*(1-i)+i),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,n,i,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],n=u[1],i=u[2],r=u[3],new o(e,n,i,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,n){return t=o.fromString(t),e=o.fromString(e),n=o.fromString(n),t.contrastRatio(e)>t.contrastRatio(n)?e:n},window.Color=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o,a,s=r(n(3));!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(o||(o={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(a||(a={}));var u=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var n=t[0].style.transform;t.css("transform",this.setTransformProperty(n,e))}},t.setTransformProperty=function(e,n){e&&"none"!==e||(e="");var r=[a.matrix3d,a.translate,a.scale3d,a.scaleX,a.scaleY,a.scaleZ,a.rotate3d,a.rotateX,a.rotateY,a.rotateZ,a.skewX,a.skewY,a.perspective].map((function(n){return t.getUnsupportedString(e,n)})).filter((function(t){return!!t})),s=[o.translateX,o.translateY,o.translateZ].map((function(i){var r=t.getValueFromProperty(e,i),o=n[i];return void 0!==o?t.buildProperty(i,o):t.buildProperty(i,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,o.rotate),d=t.getTranslate(e),f=t.getMatrix(e);return i([void 0!==n.scale?t.buildScaleTransform(n.scale):t.buildScaleTransform(u),void 0!==n.skew?t.buildSkewTransform(n.skew):t.buildSkewTransform(l),void 0!==n.rotate?t.buildRotationTransform(n.rotate):t.buildRotationTransform(c),void 0!==n.translate3d?t.buildTranslateTransform(n.translate3d):t.buildTranslateTransform(d),void 0!==n.matrix?t.buildMatrixTransform(n.matrix):t.buildMatrixTransform(f)],s,r).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(t,e,n){if(!s.default.isIE11()){var i={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=i.x*Math.cos(e)+i.y*Math.sin(e),o=-1*i.x*Math.sin(e)+i.y*Math.cos(e);i.x=r,i.y=o}var a="drop-shadow(";a+=Math.round(i.x)+"px",a+=" "+Math.round(i.y)+"px";var u=s.default.webkit?4:2;a+=t.blur?" "+Math.round(t.blur/u)+"px":" 0",a+=" "+t.color,a+=")",n.css("-webkit-filter",a),n.css("filter",a);var l="progid:DXImageTransform.Microsoft.Dropshadow(OffX=";l+=Math.round(i.x)+", OffY=",l+=Math.round(i.y)+", Color='",l+=t.color+"')",n.css("filter",l)}},t.getValueFromProperty=function(e,n){var i=new RegExp(n+"\\(.*?\\)","g"),r=e.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var n=new RegExp(e+"\\(.*?\\)","g"),i=t.match(n);return i?i[0]:null},t.getScale=function(t){return this.getXYAll(o.scale,t)},t.getSkew=function(t){return this.getXYAll(o.skew,t)},t.getXYAll=function(e,n){var i=new RegExp(e+"\\(.*?\\)","g"),r=n.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var n=new RegExp(o.translate3d+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var n=new RegExp(o.matrix+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?o.scale+"("+t.all+")":o.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?o.skew+"("+t.all+"deg)":o.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?o.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?o.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?o.rotate+"("+t+"deg)":""},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(5)),o=i(n(0)),a={getExtentsFromDimensions:function(t,e,n,i,r,o){var a=this.getExtentsPointsFromDimensions(t,e,n,i,r,o);return{x1:Math.round(Math.min(a[0].x,a[1].x,a[2].x,a[3].x)),y1:Math.round(Math.min(a[0].y,a[1].y,a[2].y,a[3].y)),x2:Math.round(Math.max(a[0].x,a[1].x,a[2].x,a[3].x)),y2:Math.round(Math.max(a[0].y,a[1].y,a[2].y,a[3].y))}},getExtentsPointsFromDimensions:function(t,e,n,i,r,o){if(t-=o,e-=o,n+=2*o,i+=2*o,0!==r){var a=t+n/2,s=e+i/2;return[Math.rotateCoord(t,e,a,s,r),Math.rotateCoord(t+n,e,a,s,r),Math.rotateCoord(t+n,e+i,a,s,r),Math.rotateCoord(t,e+i,a,s,r)]}return[new window.CerosMath.Point(t,e),new window.CerosMath.Point(t+n,e),new window.CerosMath.Point(t+n,e+i),new window.CerosMath.Point(t,e+i)]},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:n.x,y1:n.y,xMidpoint:0,yMidpoint:0,x2:i.x,y2:i.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,n,i){return{x1:t,y1:e,xMidpoint:t+(n-t)/2,yMidpoint:e+(i-e)/2,x2:n,y2:i}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),n=t.getTopmostY(!0),i=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,n,i,r)},getSmallestContainingRectangle:function(){var t,e,n,i,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,n=a.x2,i=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),n=Math.max(n,a.x2),i=Math.max(i,a.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},getSmallestContainingRectangleInPageCoords:function(){var t,e,n,i,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,n=r.x2,i=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),n=Math.max(n,r.x2),i=Math.max(i,r.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},createHoverArea:function(t,e,n){var i,r,o,a,s=[],u=n?1:0;return i=t.y1<e.y1?t:e,s.push({x:i.x1,y:i.y1}),s.push({x:i.x2+u,y:i.y1}),(a=t.x2>e.x2?t:e)!==i&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==i&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.invokeObjectState=function(t,e,n,i){void 0===i&&(i={});var r=e.hasChangesComparedTo(n);r.transition&&t.applyTransition(e.config.transition),i.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!i.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),!i.shadow&&r.shadow&&t._applyShadow(e.config.shadow,e.config.rotation),r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeImageObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);r.effects&&e._applyImageEffects(n.config.effects,!0),r.flip&&e._applyImageFlip({flipHorizontal:n.config.flipHorizontal,flipVertical:n.config.flipVertical}),r.blendingMode&&e._applyBlendingMode(n.config.blendingMode),t.invokeObjectState(e,n,i)},t.invokeTextObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);r.font&&(e.setDefaultTextStyle(n.config.defaultSpan),e.applyDefaultFont(n.config.defaultSpan)),r.justify&&e.applyJustification(n.config.justify),t.invokeObjectState(e,n,i)},t.invokeScaleableObjectState=function(e,n,r,o){void 0===o&&(o={});var a=n.hasChangesComparedTo(r);a.dimension&&e.applyScale(n.config.width,n.config.height),a.position&&e.applyPositionToScaledObject(n.config.x,n.config.y,n.config.width,n.config.height),t.invokeObjectState(e,n,r,i(i({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i),o={shadow:!0};r.shadow&&e._applyShadow(n.config.shadow,n.config.rotation,n.config.border,n.config.background,n.config.width,n.config.height),r.stroke&&(e._applyBorder({width:n.config.lineWidth,color:n.config.color}),o.border=!0),r.linePosition&&e.applyPoints([{x:n.config.x,y:n.config.y},{x:n.config.x2,y:n.config.y2}],n.config.transition),t.invokeScaleableObjectState(e,n,i,o)},t}();e.ObjectStateInvoker=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(7)),l=a(n(211)),c=a(n(3)),d=s(n(21)),f=n(6),h=n(212),p=n(91),g=n(28),v=function(t){function e(e){var n=t.call(this,e)||this;return n.currentRotation=0,n.options=e,n}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){g.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e.prototype.bindMouseoverInteraction=function(){var t=this;this.hasHoverInteraction()&&this.getShapeElement().on("mouseover",(function(e){return t._handleMouseOverInteraction(e)}))},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getShapeElement().css("cursor","pointer"):this.getShapeElement().css("cursor","inherit")},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{});var n=this.getStopElements(),i=0;t.color&&n.css("stop-color",t.color),t.gradient&&(n.first().css("stop-color",t.gradient.stops[0].color),n.last().css("stop-color",t.gradient.stops[1].color),i=t.gradient.angle||0),t.color||t.gradient||n.css("stop-color","transparent"),this.renderGradientAnimation(this.currentRotation,i,e),this.currentRotation=i},e.prototype._applyShadow=function(t,e,n,i,r,o){if(void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),void 0===n&&(n=this.options.border),void 0===i&&(i=this.options.background||{}),void 0===r&&(r=this.options.width),void 0===o&&(o=this.options.height),!c.default.isIE11())return this.applyDropShadow(t,e);var a=this.getShadowParams(t,r,o,e),s=a.shadowX,u=a.shadowY,l=a.shadowBlur,d=a.shadowColor,f=a.filterX,h=a.filterY,p=a.filterWidth,g=a.filterHeight,v=this.getApplyShadowTarget().find("filter");v.attr("x",f+"%"),v.attr("y",h+"%"),v.attr("width",p+"%"),v.attr("height",g+"%"),v.find("feGaussianBlur").attr("stdDeviation",l);var m=v.find("feOffset");m.attr("dx",s),m.attr("dy",u),v.find("feFlood").attr("flood-color",d)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.isHovered=function(){return this.getShapeElement().is(":hover")},e.prototype.render=function(){var e=this.options.width,n=this.options.height,i=this.id+"-"+this.type+"-svg",r=i+"-gradient",o=r+"-stop0",a=r+"-stop1",s=i+"-custom-path-shadow-filter",d="url(#"+r+")",f=c.default.isIE11(),h=f?"url(#"+s+")":"",p=this.renderShape({fill:d,shadow:h});return this.$el.empty().html(u.default.render(l.default,{svgName:i,gradientName:r,gradientStop0Name:o,gradientStop1Name:a,width:e,height:n,subview:p,fill:d,shadowName:s,renderSMILShadow:f})),t.prototype.render.call(this),this},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(t,e){var n=this.getApplyPositionTarget();n.css("left",t+"px"),n.css("top",e+"px")},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e){t.prototype.applyTransitionToTarget.call(this,e),this.getShapeElement().css("transition",e),this.getSVGElement().css("transition",e),this.getStopElements().css("transition",e)},e.prototype.getSVGElement=function(){return this.$el.find("#custom-path-component-id")},e.prototype.getApplyShadowTarget=function(){return this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.renderGradientAnimation=function(t,e,n){var i=this;if(this.getGradientElement().find("animate").remove(),n){var r=h.AnimateSVGUtil.animateGradientRotation(t,e),o=h.AnimateSVGUtil.getTotalAnimationForSingleEasing(n.easing,!0).map((function(t){return t.join(" ")})).join(";");Object.keys(r).forEach((function(t){var e=i.createAnimationElement(t,!0,r[t],n.duration,o);i.getGradientElement().append(e),i.getSVGElement()[0].setCurrentTime(0),e.beginElementAt(n.delay)}))}else{var a=h.AnimateSVGUtil.getGradientXYFromAngle(e);this.getGradientElement().attr("x1",a.x1+"%").attr("y1",a.y1+"%").attr("x2",a.x2+"%").attr("y2",a.y2+"%")}},e.prototype.getShadowParams=function(t,e,n,i){void 0===e&&(e=this.options.width),void 0===n&&(n=this.options.height),void 0===i&&(i=this.options.rotation),i=i||0;var r=d.maintainOffsetWhenRotated(i,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,f=100*Math.abs(a/n)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:f,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(f)+100}},e.prototype.createAnimationWithTransition=function(t,e,n,i){var r=this;void 0===i&&(i={});var o={};Object.keys(e).forEach((function(t){o[t]={from:n[t],to:e[t]}}));var a=h.AnimateSVGUtil.animatePoints(o),s=h.AnimateSVGUtil.getTotalAnimationForSingleEasing(i.easing).map((function(t){return t.join(" ")})).join(";"),u=Object.keys(a).map((function(t){return r.createAnimationElement(t,!1,a[t],i.duration,s)}));t.find("animate").remove(),t.append(u),u.forEach((function(t){return t.beginElement()}))},e.prototype.createAnimationElement=function(t,e,n,i,r){var o=e?"0;0.5;1":"0;1",a=document.createElementNS("http://www.w3.org/2000/svg","animate");return a.setAttributeNS(null,"attributeName",t),a.setAttributeNS(null,"fill","freeze"),a.setAttributeNS(null,"keyTimes",o),a.setAttributeNS(null,"calcMode","spline"),a.setAttributeNS(null,"values",n),a.setAttributeNS(null,"dur",(i||0)+"s"),a.setAttributeNS(null,"keySplines",r),a.setAttributeNS(null,"begin","indefinite"),a},e.prototype.applyPoints=function(t,e){},e=o([p.BackboneShim({className:"custom-path-container shape"})],e)}(f.AbstractComponentView);e.AbstractCustomPathComponentView=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={GOOGLE_API_ID:"Google",BUILTIN_API_ID:"BuiltIn",UPLOADED_API_ID:"Uploaded",DEFAULT_FONT_FAMILY_GUID:"Google|Roboto",DEFAULT_FONT_VARIANT_GUID:"Google|Roboto|400|normal",DEFAULT_FONT_WEIGHT:400,DEFAULT_FONT_STYLE:"normal",FONT_STYLE_ITALIC:"italic",FONT_STYLE_NORMAL:"normal",FONT_STYLE_OBLIQUE:"oblique",EXPERIENCE_FAMILY_GUIDS_KEY:"familyGuids"}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(42),s=o(n(0)),u=o(n(9)),l=o(n(10)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},function(t,e,n){"use strict";var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,n){"use strict";var i,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(i.read||i)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||i.setDimensions(window.screen.width,window.screen.height),e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=new(i(n(35)).default),a={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=a.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=a.get(t),n=r.default.get(e,["original","width"],null),i=r.default.get(e,["original","height"],null);return n&&i?{width:n,height:i}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?a.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,n,i){var r={id:t,url:e,original:{width:n,height:i}};return o.put(t,r),r},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(0));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var n=this.getBlendingModeChoices(),i=a.default.findIndex(n,{value:t}),r=0===i,o=i===n.length-1,u=-1===i;return e===s.PREVIOUS?u||r?null:n[i-1].value:u||o?null:n[i+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var n=e.split("."),i=n[n.length-1].toLowerCase();return l.indexOf(i)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(12)),a=i(n(2)),s=i(n(273)),u=i(n(275)),l=i(n(278)),c=i(n(280)),d=i(n(25));t=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var n,i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,overlayed:!0},i,e),u=(n=o.theme,d.default.getMostContrasting(n.backgroundColor,n.menuFgColor,n.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var c=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,overlayed:o.overlayed});return this.loadingViews.push(c),t.prepend(c.$el),c.render(),o.startImmediately&&c.start(),{destroy:function(){c.destroy()},start:function(){c.start()},stop:function(){c.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var n=new u.default;t.append(n.$el)},showEmbeddedPreviewerWarning:function(e){var n=new l.default({module:t});n.render(),e.append(n.$el)},showDeletedPageWarning:function(e){var n=new c.default({module:t});n.render(),e.append(n.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(74)),s=i(n(70)),u=function(t){a.default.call(this,t),this.eventHandlerMap={}};(u.prototype=Object.create(a.default.prototype)).constructor=u,o.default.extend(u.prototype,{sendEvent:function(t,e){return this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e),r.default.Deferred().resolve()},invokeOnParentPage:function(t){t=o.default.isArray(t)?t:[t],t=o.default.map(t,(function(t){return t.toJSON()})),s.default.invokeGlobalFunctions(t)},registerEventHandler:function(t,e){this.eventHandlerMap[t]=e}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(12)),u=i(n(2)),l=i(n(161)),c=i(n(18)),d=i(n(3)),f=i(n(9)),h=i(n(80)),p=i(n(54)),g=i(n(264)),v=i(n(15)),m=i(n(10)),y="top",b="bottom",_="scranchor",w="component",E=null,T=null,S=null,A=null,P=null,x=null,O=null;t=new s.default.Module({id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new r.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart"},delegate:{init:function(e,n){S=e,O=n.performanceTracker;var i=o.default.extend({module:t,marginTopCallback:function(){return 0},documentVersion:S},n||{});T=new g.default(i);var r=o.default.extend({module:t,documentVersion:S,scaleContext:T},n||{});(E=new l.default(r)).preloadMedia();var s=new h.default(S.getEnabledPageIndexes(),S.isCarousel()),c=f.default.parsePageFromLocation();P=S.getPageInfoByNumberOrSlug(c).number;var d=S.getNearestEnabledPage(P);P===d||u.default.previewMode||(a.default.info("Requesting disabled page",P),P=d),x=s.getPageIndexesToLoad(P-1),this.registerEvents()},triggerExperienceLevelInteractions:function(e){e.get("interactions")&&o.default.each(e.get("interactions"),(function(e){switch(e.action){case"lightbox":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_LIGHTBOX,e)}),1e3*e.delay);break;case"product":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_PRODUCT_PANEL,e)}),1e3*e.delay);break;case"shopping-cart":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_SHOPPING_CART,e)}),1e3*e.delay)}}))},registerEvents:function(){v.default.on("sdk.experience.page.goto",o.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),v.default.on("sdk.experience.page.next",o.default.bind((function(t){this.nextPage()}),this)),v.default.on("sdk.experience.page.previous",o.default.bind((function(t){this.previousPage()}),this)),v.default.on("sdk.component.video.start",o.default.bind((function(t){this.startVideo(t.componentId)}),this)),v.default.on("sdk.component.video.stop",o.default.bind((function(t){this.stopVideo(t.componentId)}),this)),v.default.on("sdk.component.text.settext",o.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),v.default.on("sdk.component.image.seturl",o.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),v.default.on("sdk.component.image.reset",o.default.bind((function(t){this.resetImage(t.componentId)}),this)),v.default.on("sdk.component.click",o.default.bind((function(t){this.clickComponent(t.componentId)}),this)),v.default.on("sdk.component.show",o.default.bind((function(t){this.showComponent(t.componentId)}),this)),v.default.on("sdk.component.hide",o.default.bind((function(t){this.hideComponent(t.componentId)}),this)),v.default.on("sdk.layer.show",o.default.bind((function(t){this.showLayer(t.layerId)}),this)),v.default.on("sdk.layer.hide",o.default.bind((function(t){this.hideLayer(t.layerId)}),this)),v.default.on("sdk.page.animations.start",o.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.animations.pause",o.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.disable",o.default.bind((function(t){this.disablePage(t.pageNum)}),this)),v.default.on("sdk.page.enable",o.default.bind((function(t){this.enablePage(t.pageNum)}),this))},createPageViews:function(){var t=[];p.default.on(p.default.publishedEvents.PAGE_RELOAD,(function(){E.scale()})),(A=S.editorPagesManifest).each(o.default.bind((function(e,n){var i=this.createSinglePageView(e,n);t.push(i)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var n=S.getPages()[e],i=p.default.createPageView(n,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:S,scaleContext:T,isRequestedPage:e===P-1});return u.default.previewMode&&n.on("remote",function(){e===E.getCurrentPage().getPageIndex()&&E.mainContentLink.render()}.bind(this)),i},getPageViews:function(){return this.pageViews},scale:function(){E.scalePageComponents()},preloadPageMedia:function(){var t=o.default.map(S.getPages(),(function(t){return T.getPageScaleContext(t)}));S.shouldLazyLoad()?(o.default.each(x,o.default.bind((function(e,n){var i=S.getPages()[e];0===n?O.mark(O.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===n&&O.mark(O.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.debug("Lazy preloading media for page: "+(e+1));var r=0===n;i.lazyPreloadAllMedia(t[e],r)}),this)),1===x.length&&O.mark(O.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(S.getPages(),(function(e,n){o.default.includes(x,n)||(a.default.debug("Lazy preloading media for page: "+(n+1)),e.lazyPreloadAllMedia(t[n],!1))}))):(O.mark(O.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),o.default.each(x,o.default.bind((function(e,n){var i=S.getPages()[e],r=t[e];a.default.debug("Preloading visible media for page: "+(e+1)),i.preloadVisibleMedia(r,!0)}),this)),O.mark(O.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(S.getPages(),(function(e,n){o.default.includes(x,n)||(a.default.debug("Preloading visible media for page: "+(n+1)),e.preloadVisibleMedia(t[n],!1))})),o.default.each(S.getPages(),(function(e,n){a.default.debug("Preloading hidden media for page: "+(n+1)),e.preloadHiddenMedia(t[n])})))},renderPages:function(){this.createPageViews(),E.reset(this.pageViews,P),this.preRenderPages(),a.default.debug("Setting up the lazy preRender Defer"),o.default.defer(o.default.bind(t.startLazyPrerender,t));var e=E.showPage(P);return e.done(t.firstPageShown.resolve),e},activateFirstPage:function(){E.getBackgroundImagePromise().done(o.default.bind(E.showBackground,E));var e=E.getCurrentPage();if(E.activatePage(e),t.triggerExperienceLevelInteractions(S),window.location.hash)e.triggerScrollTo(window.location.hash);else if(!u.default.isEmbedded&&d.default.isWindows()){var n="page-"+this.getCurrentPageNumber()+"-top";e.focusArbiter.moveFocusToElement(n)}},preRenderPages:function(){O.mark(O.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=S.shouldLazyLoad()?[this.pageViews[x[0]]]:o.default.map(x,o.default.bind((function(t){return this.pageViews[t]}),this));var e=[];o.default.each(t,o.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),r.default.when.apply(r.default,e).done(o.default.bind((function(){O.mark(O.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===t.firstPageShown.state()},getFirstPageReadyPromise:function(){return t.firstPageShown},nextPage:function(){E&&E.nextPage()},previousPage:function(){E&&E.previousPage()},jumpToPage:function(t,e){E&&E.jumpToPage(t,e)},show:function(){E&&E.show()},hide:function(){E&&E.hide()},el:function(){return E?E.$el:null},getCurrentPageHeight:function(){if(E){var t=E.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return E?E.currentPageSlug:null},getCurrentPageNumber:function(){return E?E.currentPage:null},isLastPage:function(t){var e=A.length,n=A.at(e-1);return o.default.last(n.uri.split("/"))===t},isFirstPage:function(t){var e=A.at(0);return o.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var n=E.getCurrentPage(),i=this.getScrollPositionForInteraction(t,e),r=u.default.shouldReduceMotion?0:300;return t!==y&&t!==b||(e="page-"+(n.model.pageIndex+1)+"-"+t),n.$pageContainer.animate({scrollTop:i},r,"easeOutCubic",(function(){n.focusArbiter.moveFocusToElement(e)})),{scrollPosition:i,pageHeight:n.model.getPageHeight(S),visibleHeight:n.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case y:return 0;case b:return E.getCurrentPage().model.getPageHeight(S);case _:var n=E.getCurrentPage().model.getScranchorsForCurrentVariant();return n&&o.default.has(n,e)?n[e]:(a.default.warn("Could not find scranchor for id: "+e),null);case w:var i=E.getCurrentPage().model,r=i.findLayerById(e);if(!r)return a.default.warn("Could not find component to scroll to: "+e),null;if("folder"===r.type&&!(r=i.constructor.findTopmostFolderContent(r)))return a.default.warn("Attempted to scroll to empty folder component: "+e),null;var s=r.y;return r.parentSmartgroup&&(s+=r.parentSmartgroup.options.y),s;default:return a.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(u.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(E){var n=f.default.buildUriForPageNumber(E.currentPage),i=E.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+n,i)}},shareOnSocial:function(t,e,n){e=m.default.removeEmbedParams(e);var i=o.default.isEmpty(u.default.openGraphUrl)?e:u.default.openGraphUrl;switch(t){case"share-twitter":c.default.shareOnTwitter(i);break;case"share-linkedin":c.default.shareOnLinkedIn(i);break;case"share-pinterest":c.default.shareOnPinterest(i,n);break;case"share-facebook":c.default.shareOnFacebook(e);break;case"share-email":c.default.shareViaEmail(e)}},addClickShield:function(){E&&E.addClickShield()},removeClickShield:function(){E&&E.removeClickShield()},disableGestures:function(){o.default.isFunction(E.disableGestures)&&E.disableGestures()},enableGestures:function(){o.default.isFunction(E.enableGestures)&&E.enableGestures()},getExperienceWidth:function(){return E.getExperienceWidth()},getExperienceHeight:function(){return E.getExperienceHeight()},startVideo:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=E.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=E.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var n=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);o.default.each(i,(function(t){var n=E.getCurrentPage().findChildView(t);n&&"text"===n.type&&n.setTextFromSDK(o.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,n){var i=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),a=[t].concat(i);o.default.each(a,(function(t){var i=E.getCurrentPage().findChildView(t);if(i&&"image"===i.type)if(i.srcOverride=e,i.dimensionsOverride=n,n){var o=new Image;o.onload=function(){var t=i.$imgEl.attr("style"),e=i.$imgEl.attr("alt");i.$imgEl.remove();var n=r.default(o);n.attr("style",t).attr("alt",e),i.$imgEl=r.default(n),i.$el.append(i.$imgEl)},o.src=e}else i.$imgEl.attr("src",e)}))},resetImage:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=E.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(e);E.getCurrentPage().invokeShowAction(n)},hideLayer:function(t){var e=E.getCurrentPage(),n=e.model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(n);e.invokeHideAction(i)},clickComponent:function(t){var e=E.getCurrentPage(),n=e.model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);o.default.each(i,(function(t){var n=e.findChildView(t);n&&n.simulateClick()}))},showComponent:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=E.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=E.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=E.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=E.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=E.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleAnimations:function(){(u.default.shouldReduceMotion=!u.default.shouldReduceMotion,r.default("#main").toggleClass("ceros-no-animate"),u.default.shouldReduceMotion)||E.getCurrentPage().restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){E.disablePage(t)},enablePage:function(t){E.enablePage(t)},isLayerVisible:function(t){return o.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))}},startLazyPrerender:function(){a.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],n=this.getPageViews();o.default.each(x,(function(t){e.push(n[t])})),o.default.each(n,(function(t,n){o.default.includes(x,n)||e.push(t)}));var i=r.default.Deferred().resolve();return o.default.each(e,(function(t){t.isPrerendered()||(i=i.then(o.default.bind(t.startLazyPrerender,t)))})),i.then((function(){a.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),i.promise()},currentPageNumber:function(){return E.currentPage||1}});e.default=t},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!0,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(n(14).BaseInteraction);e.BaseURLInteraction=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(2)),u=i(n(3)),l=n(6),c=i(n(90)),d=i(n(199)),f=i(n(201)),h=i(n(10)),p=s.default.mediaDomainMap?r.default.invert(s.default.mediaDomainMap):null,g=[10,20,30,40,50,60,70,80,90,100];e.default=l.AbstractComponentView.extend({type:"video",tagName:"div",className:null,EVENTS:{VIDEO_READY:"video_ready"},isVideoReady:!1,playedOnce:!1,videoSlug:null,$vid:null,videoHandle:null,videoTracker:null,tapToPlay:!0,muted:!1,isAutoPaused:!1,isManuallyPaused:!1,isPinned:void 0,isRewound:!1,initialize:function(){l.AbstractComponentView.prototype.initialize.apply(this),this.areMediaPropertiesSet()&&(this.videoSlug=this.options.video&&this.options.video.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,r.default.isUndefined(this.options.tapToPlay)||(this.tapToPlay=this.options.tapToPlay),r.default.isUndefined(this.options.muted)||(this.muted=this.options.muted),this._initializeDom(),s.default.previewMode&&(this.mediaLoadingScreen=new c.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),s.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},hideMediaLoadingScreen:function(){this.mediaLoadingScreen.close()},onActivationStart:function(){this.videoTracker&&this.videoTracker.enableTracking()},areMediaPropertiesSet:function(){return this.options.video&&this.options.poster},attachMedia:function(){var t=new o.default.Deferred;if(this.areMediaPropertiesSet()){var e=this.getPosterFrameResource();e?e.loadNow().done(r.default.bind((function(e){this.$poster.attr("src",e.getSrc()),t.resolve()}),this)):t.resolve()}else t.resolve();return t},getPosterFrameResource:function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||a.default.warn("Poster image should have been added to resource loader during preload")),t},_hidePoster:function(){this.$poster&&this.$poster.hide()},_showPoster:function(){this.$poster&&this.$poster.show()},_isPosterShowing:function(){return this.$poster&&"none"!==this.$poster.css("display")},doTriggerOnScroll:function(){return!0},_getPosterFrameSrc:function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},_initializeDom:function(){this.$poster=o.default("<img>",{width:this.options.width,height:this.options.height,position:"absolute",top:0,left:0}),this.$el.append(this.$poster)},getAriaElement:function(){return this.$poster},onActivationEnd:function(){this.canAutoplay()&&!this.isManuallyPaused?this.play():this._isPosterShowing()&&this._loadVideo()},onExitStart:function(){this._hideVideoAndShowPoster(),this.autoPause(),this._rewindEndedAutoplayingVideo()},_getVideoFormats:function(){throw new Error("Device-specific implementation")},getResolvedVideoUrlForFormat:function(t){var e,n=this.options.videoMedia;if(!r.default.isUndefined(n)&&!r.default.isNull(n)){var i=n.encodings;if(!i[t])return null;e=i[t],e=h.default.makeUrlAbsolute(e),e=h.default.replaceProtocolIfHttpsRequest(e),p&&(e=this.switchAmazonDomainInUrl(e))}return r.default.isUndefined(e)&&(a.default.warn("Resolved video not found!",e),e=this.options.video+"/redirect/"+t),e},switchAmazonDomainInUrl:function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var n=e[1],i=e[2];r.default.has(p,i)&&(t=t.replace(n,p[i]))}return t},_setVideoSources:function(){var t=this._getVideoFormats();r.default.each(t,r.default.bind((function(t){var e=this.getResolvedVideoUrlForFormat(t.format);if(e){var n="video/"+t.type;"hls-playlist"!==t.format&&"dash-playlist"!==t.format||(n="application/"+t.type),this.$vid.append(o.default("<source>",{src:e,type:n}))}}),this))},_isLoopForever:function(){return!0===this.options.videoAutoPlay&&!0===this.options.videoLoop},_isShowControls:function(){return!1===this.options.videoAutoPlay||r.default.isUndefined(this.options.videoHideControls)||!1===this.options.videoHideControls},_hideVideo:function(){this.$vid&&this.$vid.hide()},_showVideo:function(){this.$vid&&this.$vid.show()},_hideVideoAndShowPoster:function(){this.videoHandle&&!this.videoHandle.currentTime&&(this._showPoster(),this.isVideoReady&&this._hideVideo())},_hidePosterAndShowVideo:function(){this.isVideoReady&&this._showVideo(),this._hidePoster()},_isPlaying:function(){return this.videoHandle&&!1===this.videoHandle.ended&&!1===this.videoHandle.paused&&this.videoHandle.currentTime>0},_isEnded:function(){return this.isVideoReady&&this.videoHandle.ended},_setCurrentTime:function(t){this.isVideoReady&&(this.videoHandle.currentTime=t)},reset:function(){l.AbstractComponentView.prototype.reset.apply(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},whenLeavingVisibleBoundaries:function(){r.default.isUndefined(this.isPinned)&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&r.default.each(this.parentViews,r.default.bind((function(t){if(t.options.fixedPosition)return this.isPinned=!0,!1}),this))),this.isPinned||(l.AbstractComponentView.prototype.whenLeavingVisibleBoundaries.apply(this),this.disableVideoTrackingAndAutoPlayingVideo())},disableVideoTrackingAndAutoPlayingVideo:function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},disableVideoTracking:function(){this.videoTracker&&this.videoTracker.disableTracking()},pauseAnyVideoAndRewindAutoPlayingVideo:function(){this.autoPause(),this._rewindEndedAutoplayingVideo()},_rewindEndedAutoplayingVideo:function(){this.options.videoAutoPlay&&this._isEnded()&&(this._setCurrentTime(0),this.isRewound=!0)},loadAndShowVideo:function(){this.isVideoReady?this._hidePosterAndShowVideo():this._loadVideo()},play:function(){this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(this.EVENTS.VIDEO_READY,r.default.bind((function(){this.videoHandle.play()}),this)),this.isRewound=!1},autoPause:function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},getElementWidth:function(){return this.options.width},getElementHeight:function(){return this.options.height},buildVideoElement:function(){var t={id:this.id,width:this.getElementWidth(),height:this.getElementHeight(),poster:this._getPosterFrameSrc(),preload:"auto","webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(t.muted=!0),this._isLoopForever()&&(t.loop=!0),this.$vid=o.default("<video>",t),this.$vid.prop("controls",this._isShowControls()),this.$vid.prop("controlsList","nodownload"),this.$vid.css("display","none"),this.videoHandle=this.$vid[0],this.videoHandle.muted=this.muted,this.videoHandle.autoplay=this.canAutoplay(),u.default.isDesktopSafari()||u.default.isMobileSafari()?this.$vid.css("object-fit","cover"):this.$vid.css("object-fit","fill"),this.$poster.after(this.$vid)},_loadVideo:function(){if(!this.$vid){this.buildVideoElement();var t=new d.default(this.$vid),e=r.default.get(this.options,"videoMedia.duration");this.videoTracker=new f.default(t,e),this._configureVideoEvents(t),this.configurePlatformSpecificEvents(),this.doPlatformSpecificSetup(),this.bindVideoElementPauseAndPlayForManualPauseDetection()}},manuallyPause:function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},isPaused:function(){return this.$vid[0].paused},_configureVideoEvents:function(t){t.on("play",r.default.bind((function(){this.playedOnce=!0,a.default.debug("Currently playing from src "+t.getCurrentSource())}),this)),this.videoTracker.on(this.videoTracker.EVENTS.PLAY,r.default.bind((function(t){this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PLAY,t)}),this)),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,r.default.bind((function(t){this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,t)}),this)),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,r.default.bind((function(t){r.default.includes(g,t.progressPercent)&&this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,t)}),this)))},bindVideoElementPauseAndPlayForManualPauseDetection:function(){this.$vid.bind("pause",r.default.bind((function(t){this.onVideoPause()}),this)),this.$vid.bind("play",r.default.bind((function(t){this.onVideoPlay()}),this))},onVideoPause:function(){this.isManuallyPaused=!this.isAutoPaused},onVideoPlay:function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},triggerEvent:function(t,e){var n=r.default.extend({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,n)},canAutoplay:function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},_applyRotation:function(t,e,n){},_applyBackground:function(t){},_applyBorder:function(t){},_configureAction:function(){}})},function(t,e,n){"use strict";var i,r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var s,u=a.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=r(u,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink"}(s=e.properties||(e.properties={})),function(t){t.PARAGRAPH="paragraph",t.LINE="line",t.CHAR="char"}(e.TextRenderMode||(e.TextRenderMode={})),e.MODEL_DEFAULTS=((i={})[s.HTML_TAG]=e.DEFAULT_HTML_TAG,i[s.TITLE]="Text",i[s.TEXT_CONTENT]="",i[s.TEXT_SPANS]=[],i[s.DEFAULT_SPAN]=void 0,i[s.INDENT]=0,i[s.JUSTIFY]="left",i[s.COLUMNS]=1,i[s.COLUMN_GAP]=0,i[s.LEADING]=38,i[s.TEXT_SHADOW]={},i[s.AUTO_LEADING]=!0,i[s.TEXT_TRANSFORM]="none",i[s.PADDING_TOP]=0,i[s.PADDING_BOTTOM]=0,i[s.PADDING_RIGHT]=0,i[s.PADDING_LEFT]=0,i[s.SHOW_OVERFLOW]=!0,i[s.SYNCED]=!1,i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(36)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var n=t+"/media";e&&(n+="?imagesOnly=true");var i=r.default.ajax({url:n,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,n,i){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+i)}));return u.push(i),i},loadImage:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var n=o.default.get(e,"url",null),i=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null);return s.default.putImageInfo(t,n,i,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return s.default.has(t)||!a.default.isStudio?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadImage(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),n=o.default.get(t,["original","height"]);return e&&n?{width:e,height:n}:null}))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUE.NAME:return t.HUE.DEFAULT;case t.SATURATION.NAME:return t.SATURATION.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUE.NAME,this.SATURATION.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return r.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUE.NAME]=this.HUE.DEFAULT,t[this.SATURATION.NAME]=this.SATURATION.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:"brightness",MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:"contrast",MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUE={NAME:"hue-rotate",MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATION={NAME:"saturate",MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:"sepia",MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:"invert",MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(71)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]};r.default.extend(o.prototype,{invoke:function(){for(var t=window,e=null,n=this.functionPath.split("."),i=0;i<n.length&&(i>0&&(t=e),e=t[n[i]]);i++);if(t&&e&&"function"==typeof e)return e.apply(t,this.args)},toJSON:function(){return{functionPath:this.functionPath,args:this.args}},toString:function(){return JSON.stringify(this.toJSON())}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(12)),o=i(n(2)),a=i(n(154));t=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(e){var n=o.default.themeObj.menuFgColor,i=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:t,menuBackgroundColor:i,menuForegroundColor:n,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(12)),a=i(n(2)),s=i(n(3)),u=i(n(25)),l=i(n(156));t=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,s=u.default.fromHex(i);return s.a=.1,this.chromeView=new l.default({module:t,menuBackgroundColor:o,menuBorderColor:s,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(12)),o=i(n(158));t=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(12)),a=i(n(2)),s=i(n(25)),u=i(n(13)),l=i(n(160));t=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,u=s.default.fromHex(i);u.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:o,menuBorderColor:u,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:t}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,n){var i=!n||t,r=!n||e;this.updateFlippers(i,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(12)),a=i(n(2)),s=n(167);t=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_MOUSEDOWN_INTERACTION:"page.component.mousedown.interaction",PAGE_COMPONENT_MOUSEUP_INTERACTION:"page.component.mouseup.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(e,n){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return n=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},i,n||{}),new s.PageView(r.default.extend(n,{module:t,model:e}))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),o=i(n(3)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.invokeObjectState=function(t){this.childViews&&this.childViews.forEach((function(e){e.invokeObjectState(t)}))},e.prototype.revokeObjectState=function(t,e){this.childViews&&this.childViews.forEach((function(n){n.revokeObjectState(t,e)}))},e.prototype.removeAllActiveStates=function(){this.childViews&&this.childViews.forEach((function(t){t.removeAllActiveStates()}))},e.prototype.addActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.addActiveState(t)}))},e.prototype.removeActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.removeActiveState(t)}))},e}(o(n(176)).default);e.FolderView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(1)),a=i(n(0)),s=i(n(3)),u=i(n(2)),l=n(6),c=i(n(90)),d=n(26),f=n(55),h=n(47),p=i(n(19)),g=i(n(20)),v=n(28);e.default=l.AbstractComponentView.extend({type:"image",image:null,srcOverride:null,dimensionsOverride:!1,initialize:function(){this.$imgEl=null,this.imageReadyPromises={},l.AbstractComponentView.prototype.initialize.call(this),this.imageLoader=this.options.imageLoader,u.default.previewMode&&(this.mediaLoadingScreen=new c.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},render:function(){return a.default.isNull(this.$imgEl)&&(this.$imgEl=o.default("<img/>"),this.$imgEl.css("display","block"),this.hasShadow(this.options.shadow)?s.default.isIos()&&this.options.shadow.blur&&d.CssUtils.setTransformToElement(this.$imgEl,{translateZ:0}):(s.default.isDesktopSafari()&&f.WebkitUtils.hardwareAccelerateTransform(this.$imgEl),s.default.isIos()&&this.options.fixedPosition&&f.WebkitUtils.hardwareAccelerateTransform(this.$imgEl)),this.$el.append(this.$imgEl)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$imgEl,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip(),l.AbstractComponentView.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),u.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),a.default.isNil(this.options.effects)||this._applyImageEffects(this.options.effects),a.default.isNil(this.options.blendingMode)||this._applyBlendingMode(this.options.blendingMode),this},hideMediaLoadingScreen:function(){this.mediaLoadingScreen.close()},_applyImageFlip:function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?"-1":"1",n=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?"-1":"1";d.CssUtils.setTransformToElement(this.$imgEl,{scale:{x:e,y:n}})},_applyImageEffects:function(t,e){t=a.default.isNil(t)?this.options.effects:t;var n=this.getApplyShadowTarget(),i=n.css("filter"),r="";if(i){var o=i.match(/drop-shadow\(.*?\)/g);o&&(r=o[0])}var s="";a.default.isNil(t)||(s=this.computeEffect(t,e)),n.css("filter",s+" "+r),n.css("-webkit-filter",s+" "+r)},_applyBlendingMode:function(t){t=a.default.isNil(t)?this.options.blendingMode:t,this.$imgEl.parent().css("mix-blend-mode",t)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},computeEffect:function(t,e){var n=t[h.ImageEffects.BRIGHTNESS.NAME],i=t[h.ImageEffects.CONTRAST.NAME],r=t[h.ImageEffects.HUE.NAME],o=t[h.ImageEffects.SATURATION.NAME],s=t[h.ImageEffects.SEPIA.NAME],u=t[h.ImageEffects.INVERT.NAME],l="",c="",d="";(e||!a.default.isNil(n)&&n!==h.ImageEffects.defaultValueOf(h.ImageEffects.BRIGHTNESS.NAME))&&(n+=100,l=this.createImageEffectCssString(h.ImageEffects.BRIGHTNESS,n)),(e||!a.default.isNil(i)&&i!==h.ImageEffects.defaultValueOf(h.ImageEffects.CONTRAST.NAME))&&(i+=100,c=this.createImageEffectCssString(h.ImageEffects.CONTRAST,i)),(e||!a.default.isNil(o)&&o!==h.ImageEffects.defaultValueOf(h.ImageEffects.SATURATION.NAME))&&(0===(o+=100)&&(o=1),d=this.createImageEffectCssString(h.ImageEffects.SATURATION,o));var f={};return f[h.ImageEffects.BRIGHTNESS.NAME]=l,f[h.ImageEffects.CONTRAST.NAME]=c,f[h.ImageEffects.SATURATION.NAME]=d,f[h.ImageEffects.HUE.NAME]=this.createEffectStringIfPresent(r,h.ImageEffects.HUE,e),f[h.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(s,h.ImageEffects.SEPIA,e),f[h.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(u,h.ImageEffects.INVERT,e),h.ImageEffects.computeBrowserImageFilter(f)},createImageEffectCssString:function(t,e){return t.NAME+"("+e+t.UNIT+")"},createEffectStringIfPresent:function(t,e,n){return n||!a.default.isNil(t)&&t!==h.ImageEffects.defaultValueOf(e.NAME)?this.createImageEffectCssString(e,t):""},getApplyBorderTarget:function(){return this.$imgEl},getApplyShadowTarget:function(){return this.$imgEl},getApplyDimensionsTarget:function(){return this.$imgEl},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.$imgEl.attr("src",t),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$imgEl.on("load",a.default.bind((function(){this.addAltText(this.$imgEl),e.resolve()}),this)),this.$imgEl.on("error",a.default.bind((function(){this.addAltText(this.$imgEl)}),this)),this.$imgEl.attr("src",t),e.promise())},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=p.default.hasFeature(g.default.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},callObjectStateInvoker:function(t,e){v.ObjectStateInvoker.invokeImageObjectState(this,t,e)},applyTransitionToTarget:function(t){this.getApplyShadowTarget().css("transition",t),this.$el.css("transition",t)}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!0,configurable:!0}),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e}(o(n(207)).default);e.AbstractTransformableGroupView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(8)),s=i(n(224));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var n=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),i=!n&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!i;if(n){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(1)),s=i(n(2)),u=i(n(30)),l=i(n(225)),c=i(n(93)),d=function(t,e,n,i){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=n/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){d(t,e,n,i)}));i.resolve(l)}else o.default.defer((function(){d(t,e,n,i)}));else r.default.info("could not find img baseline marker!")},f=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.default.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.default.DEFAULT_FONT_VARIANT_GUID}),e){var n=new l.default({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new c.default(e.variantName,{fontFamily:n,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.default.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,n){var i=new a.default.Deferred;if(e<=1)return i.resolve(0),i.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:n+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:f(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),d(r,t,e,i),i.done((function(){r.remove()})),i.promise()},formatFamilyNameForCSS:f}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(42),s=o(n(9)),u=o(n(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(n(23).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(12)),a=i(n(3)),s=i(n(9)),u=i(n(0)),l=i(n(1)),c=i(n(15)),d=r(n(45));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};t=new o.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(e,n,i,r,o){var a={mode:e,pageNumber:null,pageSlug:null,layoutSlug:i,title:r,hash:o};return e===t.PAGE_MODES.NUMBER?a.pageNumber=n:a.pageSlug=n,a},getCurrentHistoryState:function(){var e=t.getWindowContext();if(e.history&&e.history.state&&e.history.state.mode)return e.history.state;var n=s.default.parsePageFromLocation(),i=u.default.isString(n)?t.PAGE_MODES.SLUG:t.PAGE_MODES.NUMBER,r=s.default.parseLayoutFromLocation(),o=e.document.title,a=e.location.hash;return t.buildHistoryState(i,n,r,o,a)},navigateTo:function(e,n,i,r){var o=t.getWindowContext(),c=d.escapeComponentId(o.location.hash);c=c&&l.default(c).parents(".page-viewport").hasClass("top")?o.location.hash:void 0;var f=s.default.buildUri(e,n,i,c);if(f)if(r||(r=o.document.title),u.default.endsWith(o.location.href,f)&&null!==o.history.state)document.title=r;else{if(a.default.html5()&&o.history&&o.history.pushState){var h=t.buildHistoryState(e,n,i,r,c);o.history.pushState(h,r,f)}document.title=r}},navigateToPageNumber:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.NUMBER,e,i,n)},navigateToLayout:function(e){var n=t.getCurrentHistoryState(),i=n.mode,r=i===t.PAGE_MODES.NUMBER?n.pageNumber:n.pageSlug,o=n.title;t.navigateTo(i,r,e,o)},navigateToPageSlug:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.SLUG,e,i,n)},bindPopstate:u.default.once((function(){t.getWindowContext().onpopstate=function(e){e.state&&e.state.mode&&c.default.trigger(t.publishedEvents.POPSTATE,e.state)}})),getWindowContext:function(){return window}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(12)),a=i(n(2)),s=i(n(3)),u=i(n(13)),l=i(n(266)),c=i(n(10));t=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:t}),this.registerEvents(),this},showLightbox:function(t,e,n,i){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:n,showCloseButton:i,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var n=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(n=!0);var i,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),i=n?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",i);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return e=c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=t},function(t,e,n){"use strict";(function(){window.Modernizr=function(t,e,n){var i,r,o={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d={},f=[],h=f.slice,p=function(t,n,i,r){var o,u,l,c,d=e.createElement("div"),f=e.body,h=f||e.createElement("body");if(parseInt(i,10))for(;i--;)(l=e.createElement("div")).id=r?r[i]:s+(i+1),d.appendChild(l);return o=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(f?d:h).innerHTML+=o,h.appendChild(d),f||(h.style.background="",h.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),u=n(d,t),f?d.parentNode.removeChild(d):(h.parentNode.removeChild(h),a.style.overflow=c),!!u},g={}.hasOwnProperty;function v(t){l.cssText=t}function m(t,e){return typeof t===e}for(var y in r=m(g,"undefined")||m(g.call,"undefined")?function(t,e){return e in t&&m(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=h.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(h.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(h.call(arguments)))};return i}),d.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},d.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},d.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},d)r(d,y)&&(i=y.toLowerCase(),o[i]=d[y](),f.push((o[i]?"":"no-")+i));return o.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&o.addTest(i,t[i]);else{if(t=t.toLowerCase(),o[t]!==n)return o;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),o[t]=e}return o},v(""),u=null,function(t,e){var n,i,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s=0,u={};function l(){var t=h.elements;return"string"==typeof t?t.split(" "):t}function c(t){var e=u[t._html5shiv];return e||(e={},s++,t._html5shiv=s,u[s]=e),e}function d(t,n,r){return n||(n=e),i?n.createElement(t):(r||(r=c(n)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function f(t){t||(t=e);var r=c(t);return!h.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return h.shivMethods?d(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(h,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,i=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){n=!0,i=!0}}();var h={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:f,createElement:d,createDocumentFragment:function(t,n){if(t||(t=e),i)return t.createDocumentFragment();for(var r=(n=n||c(t)).frag.cloneNode(),o=0,a=l(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=h,f(e)}(this,e),o._version="2.6.2",o._prefixes=c,o.testStyles=p,o}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},function(t,e,n){"use strict";
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.6
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */t.exports=function(){return n={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,n="initial",i=n,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,f={x:null,y:null},h={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var v=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(i=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},m=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=T(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(S(r)&&(d=!1),d&&n!==r&&(E("input",n=r),y("input")),d&&i!==r){var f=document.activeElement;f&&f.nodeName&&(-1===a.indexOf(f.nodeName.toLowerCase())||"button"===f.nodeName.toLowerCase()&&!O(f,"form"))&&(E("intent",i=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?n:i),P(e)},b=function(t){var e=c[t.type];"pointer"===e&&(e=T(t)),x(t),(!d&&!S(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&i!==e&&(E("intent",i=e),y("intent"))},_=function(n){n.target.nodeName?(e=n.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),n.target.classList&&n.target.classList.length&&t.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):w()},w=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},E=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},T=function(t){return"number"==typeof t.pointerType?h[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},S=function(t){var e=Date.now(),i="mouse"===t&&"touch"===n&&e-r<200;return r=e,i},A=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},P=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?n:i)},x=function(t){f.x!==t.screenX||f.y!==t.screenY?(d=!1,f.x=t.screenX,f.y=t.screenY):d=!0},O=function(t,e){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[A()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",v),window.PointerEvent?(window.addEventListener("pointerdown",m),window.addEventListener("pointermove",b)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",m),window.addEventListener("MSPointerMove",b)):(window.addEventListener("mousedown",m),window.addEventListener("mousemove",b),"ontouchstart"in window&&(window.addEventListener("touchstart",m,t),window.addEventListener("touchend",m))),window.addEventListener(A(),b,t),window.addEventListener("keydown",m),window.addEventListener("keyup",m),window.addEventListener("focusin",_),window.addEventListener("focusout",w)}()),{ask:function(t){return"intent"===t?i:n},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,n=s.length;e<n;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=n,t.p="",t(0);function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,n}()},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(68)),a=function(t,e){return o.default.call(this,e),this.url=t,e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(122)),s=i(n(24)),u=i(n(35)),l=function(t){this.url=t,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(l.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var n=this.createObjectURL(t),i=new a.default(n);return this.putInImageResourceCache(e,i),i},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var n=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var i=s.default.createObjectURL(e);n.resolve(i)}else n.reject()}),this)),this.resourceReady.fail(n.reject),this.putInObjectUrlPromiseCache(e,n),n},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var n=this.createXMLDoc(t);if(n){var i=s.default.createBlob(n);e.resolve(i)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t){var e;try{e=r.default.parseXML(this.xmlString)}catch(t){}if(!e||!r.default.isXMLDoc(e))return null;t&&(t.color?s.default.updateSVGColorStyle(e,t.color):t.gradient?(s.default.addLinearGradient(e,"CerosGradient_1234",t.gradient),s.default.updateSVGColorStyle(e,"url(#CerosGradient_1234)")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(e,"rgba(0,0,0,0)")),s.default.removeIllegalNodes(e);var n=s.default.getImageAspectRatio(e);return n&&n.width>0&&n.height>0&&s.default.setViewportDimensions(e,n.width,n.height),e},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var n=s.default.convertToXMLString(t);e.resolve(n)}else e.reject();else r.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){e.resolve(t)},error:function(){e.reject()}});return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(5)),s=i(n(13)),u=i(n(34)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),f=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,l.length)===l)switch(e.event.substr(l.length)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},h=function(t,e){var n=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(n,"*")},p=null,g=function(){h(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",f)},announceScrollTo:function(t){h(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){h(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){h(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){h(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(1)),s=i(n(3)),u=i(n(2)),l=i(n(5)),c=i(n(17)),d=i(n(128)),f=i(n(130)),h=i(n(132)),p=i(n(39)),g=i(n(51)),v=i(n(50)),m=i(n(53)),y=i(n(41)),b=i(n(64)),_=i(n(52)),w=null,E=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),s.default.msie?t.addClass("msie"+s.default.msieVersion()):t.addClass("non-msie"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),n=a.default("#main");g.default.shouldShow()&&n.append('<div id="chrome"></div>'),n.append('<div id="viewport"></div>'),n.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(y.default.el()),a.default("#flippers").replaceWith(m.default.el()),a.default("#lightbox").replaceWith(b.default.el()),a.default("#main").append(v.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(g.default.el()),g.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView()},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},showInfo:function(t){var e=a.default("#information-bar-container");0==e.length&&(a.default("body").append('<div id="information-bar-container"></div>'),e=a.default("#information-bar-container"));new h.default({el:e}).showMessage(t)},initPreviewerSelectionView:function(){return new d.default({el:".previewer-selection-header"})},initPreviewerFrameView:function(){return new f.default({el:".adaptive-layouts-frame"})},showDocument:function(){g.default.shouldShow()&&(g.default.show(),g.default.initiallyHidden()&&g.default.hide()),v.default.shouldShow()&&v.default.show(),a.default("#main").addClass("document"),y.default.show(),m.default.show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},showLoadingExperience:function(){w=p.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode,overlayed:!1})},hideLoadingExperience:function(){w?w.destroy():r.default.warn("Showing document but never showed the loading experience")},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),_.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(_.default.el())}});e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(0)),s=i(n(12)),u=i(n(135));t=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(t){this.options=t||{},this.enabled=!!this.options.enabled};i(n(0)).default.extend(o.prototype,{isEnabled:function(){return this.enabled},sendEvent:function(t,e){return r.default.Deferred().resolve()},updateScale:function(t){}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(33)),o=n(142),a=n(143);e.default={setExperienceTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,n,!1)},setDomainTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,n,!1)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCookieData:function(t){var e=r.default.get(t);if(e){var n=decodeURIComponent(e);try{return JSON.parse(n)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,n,i,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:n||"/",domain:i||"",samesite:"lax",secure:o})},parseError:function(t,e){var n=(new Date).getTime();n-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=n)}}},function(t,e,n){"use strict";var i;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function m(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=m((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=m((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function T(t,e){return void 0===t?e:t}function S(t,e,n){v(O(e),(function(e){t.addEventListener(e,n,!1)}))}function A(t,e,n){v(O(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];I(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function M(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}}var k=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var D="ontouchstart"in r,N=void 0!==M(r,"PointerEvent"),F=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=["x","y"],U=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function j(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=G(e));r>1&&!n.firstMultiple?n.firstMultiple=G(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=H(i);e.timeStamp=h(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=z(s,u),e.distance=Y(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var l=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,d=i,Y(d[0],d[1],U)/Y(c[0],c[1],U)):1,e.rotation=a?function(t,e){return z(e[1],e[0],U)+z(t[1],t[0],U)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=W(s,u,l);i=c.x,r=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=$(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c,d;var p=t.element;P(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function G(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=V);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function z(t,e,n){n||(n=V);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(L(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4};function q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}_(q,B,{handler:function(t){var e=K[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Q,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,B,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=X[i],o=Z[t.pointerType]||t.pointerType,a="touch"==o,s=I(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function it(t,e){var n=C(t.touches),i=C(t.changedTouches);return 12&e&&(n=R(n.concat(i),"identifier",!0)),[n,i]}_(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function at(t,e){var n=C(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=C(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return P(t.target,u)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}_(ot,B,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){B.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(st,B,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=M(c.style,"touchAction"),ft=void 0!==dt,ht=function(){if(!ft)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&ht[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(x(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=x(i,"none")&&!ht.none,o=x(i,"pan-y")&&!ht["pan-y"],a=x(i,"pan-x")&&!ht["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=k++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function vt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function mt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){gt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function Et(){gt.apply(this,arguments),this._timer=null,this._input=null}function Tt(){bt.apply(this,arguments)}function St(){bt.apply(this,arguments)}function At(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Pt.defaults.preset),new xt(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+vt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=mt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Et,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(Tt,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(St,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=mt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(At,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.8",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Tt,{enable:!1}],[wt,{enable:!1},["rotate"]],[St,{direction:6}],[_t,{direction:6},["swipe"]],[At],[At,{event:"doubletap",taps:2},["tap"]],[Et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function xt(t,e){var n;this.options=u({},Pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(N?tt:F?ot:D?st:q))(n,j),this.touchAction=new pt(this,this.options.touchAction),Ot(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ot(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,(function(r,o){n=M(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}xt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return v(O(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return v(O(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Pt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xt,Input:B,TouchAction:pt,TouchInput:ot,MouseInput:q,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:bt,Tap:At,Pan:_t,Swipe:St,Pinch:wt,Rotate:Tt,Press:Et,on:S,off:A,each:v,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Pt,void 0===(i=function(){return Pt}.call(e,n,e,t))||(t.exports=i)}(window,document)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(3)),s=i(n(24));e.default={CONSTANTS:{DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},calculateWidthForDevicePixelRatio:function(t){return t*a.default.pixelRatio()},constrain:function(t,e,n){return s.default.isVectorBased(t)?o.default.scaleBoxToMaxDimension(e,n,this.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE):{width:Math.round(e/2),height:Math.round(n/2)}},base64toBlob:function(t,e,n){e=r.default.isString(e)?e:"",n=r.default.isNumber(n)?n:512;for(var i=atob(t),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},createFileFromBase64:function(t,e,n){return new File([this.base64toBlob(t)],e,{type:n})},isBase64EncodedImage:function(t){return"data:image"===t.slice(0,10)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(r.default.isObject(n))for(var i in n)r.default.isFunction(n[i])?t[i]=r.default.bind(n[i],t):t[i]=n[i]}}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,n=null,i=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(n=r,i=!0,!1):e>t?(n=r,!1):void 0}),this)),i?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===n&&(n=e.length),e.splice(n,0,t));var o,a=[],s=n;for(o=0;o<this.lookBehind;o++){if(-1===--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=n,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[n],a,u)},combinePageIndexArrays:function(t,e,n){for(var i=[t],o=0;o<n.length||o<e.length;)o<n.length&&i.push(n[o]),o<e.length&&i.push(e[o]),o++;return r.default.uniq(i)}},e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(82),l=s(n(0)),c=s(n(19)),d=s(n(20)),f=function(t){function e(e,n){var i=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(i,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),n)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.default.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=n(42),u=o(n(2)),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scrollTargetType=e.scrollTargetType||"",i.scrollTargetScranchor=e.scrollTargetScranchor,i}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded)return"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(11));e.default=r.default.extend({initiallyVisible:!0,mediaHasBeenLoaded:!0,childViews:null,initialize:function(){r.default.prototype.initialize.call(this),this.parentViews=[],this.visible=this.options.visible,this.initiallyVisible=this.options.visible,this.mediaHasBeenLoaded=this.options.visible},close:function(){},preloadMedia:function(){},preloadMediaNow:function(){},attachMedia:function(){},scaleComponent:function(){},doCustomScaling:function(){},getRatioForCustomScaling:function(){return 1},onAttach:function(){},pauseAnimations:function(){},resumeAnimations:function(){},reset:function(){},getExtents:function(){},getId:function(){return this.id},isInitiallyVisible:function(){return this.initiallyVisible},runAllChildViewExitAnimaions:function(){},areAllParentsVisible:function(){},childrenUseBlendingModes:function(){return!1},hasActiveBlendingMode:function(){return!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(1)),a=i(n(0)),s=i(n(5)),u=i(n(170)),l=i(n(78)),c=i(n(171)),d=n(55),f=i(n(172)),h="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(h,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&this.$el.hide(),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(h).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return f.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop}}),e.default=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function o(t,e,n,i){this.topY=t,this.bottomY=e,r.default.isNil(n)||r.default.isNil(i)||(this.hasXBoundaries=!0,this.leftX=n,this.rightX=i)}o.prototype.getEntryAnimationVisibleBoundaries=function(t,e){var n=this.topY,i=this.bottomY,r=this.leftX,a=this.rightX;return n>0&&(n+=50),i<t&&(i-=50),this.hasXBoundaries&&(r>0&&(r+=50),a<e&&(a-=50)),new o(n,i,r,a)},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(22);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.x||void 0!==this.config.y},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return void 0!==this.config.x||void 0!==this.config.y||void 0!==this.config.x2||void 0!==this.config.y2},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t.prototype.hasExtentsChange=function(){return this.hasPositionChange()||this.hasDimensionsChange()||this.hasRotationChange()||this.hasBorderChange()||this.hasStrokeChange()||this.hasLinePositionChange()},t}();e.ObjectState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(6);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var n=this.getModule(),i=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.SUBMIT);n.trigger(n.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(i)})),r.default.isEmpty(i)||r.default.each(i,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(7)),o=i(n(11)),a=i(n(195));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=function(t){var e=this;return function(n){t&&Object.keys(t).forEach((function(e){n.prototype[e]=t[e]}));var i=n,r=n.prototype;n.prototype.constructor=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Object.keys(r).forEach((function(t){void 0!==r[t]&&(e[t]=r[t])})),i.apply(e,t)}}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var n=t,i=this.moveToStartingPoint(n[0]),r=1;r<n.length;r++)i+=this.generateCurveSection(n[r-1],n[r]);return e&&(i+=this.generateCurveSection(n[n.length-1],n[0]),i+=this.closePath()),i},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(30)),s=function(t,e){e=e||{},this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent};s.prototype={getFontFamily:function(){return this.fontFamily},getName:function(){return this.name},getCssFamilyName:function(){return this.cssFamilyName},getFontStyle:function(){return this.fontStyle},getFontWeight:function(){return this.fontWeight},getGuid:function(){return this.guid},isItalic:function(){return this.fontStyle===a.default.FONT_STYLE_ITALIC},isUploaded:function(){return this.fontFamily.isUploaded()},isBuiltIn:function(){return this.fontFamily.isBuiltIn()},getMetricsUrl:function(){return this.metricsUrl?(new o.default.Deferred).resolve(this.metricsUrl):o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then(r.default.bind((function(t){return this.metricsUrl=t[0].metricsFileURL,this.metricsUrl}),this))},getMetrics:function(){return this.metrics?o.default.Deferred().resolve(this.metrics):(this.metricsLoadingDeferred||(this.metricsLoadingDeferred=new o.default.Deferred,this.getMetricsUrl().then(r.default.bind((function(t){o.default.ajax({url:t,dataType:"json",cache:!0}).done(r.default.bind((function(t){this.metrics=t,this.metricsLoadingDeferred.resolve(t)}),this)).fail(r.default.bind((function(t){this.metricsLoadingDeferred.reject(t)}),this))}),this))),this.metricsLoadingDeferred.promise())},setWebFontStylesLoaded:function(){this.webFontStylesLoaded=!0}},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=i(n(4)),s=i(n(16)),u=i(n(60)),l=i(n(228)),c=function(t){if(this.variants=[],t.defaultSpan){var e=this.getVariant(t.defaultSpan);this.variants.push(e)}r.default.each(t.textSpans,r.default.bind((function(e){var n=r.default.extend({},t.defaultSpan,e),i=this.getVariant(n);this.variants.push(i)}),this)),r.default.each(t.states,r.default.bind((function(e){if(e.defaultSpan){var n=r.default.extend({},t.defaultSpan,e.defaultSpan),i=this.getVariant(n);this.variants.push(i)}}),this)),this.variants=r.default.uniq(this.variants),this.resources=null};r.default.extend(c.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger("variant-loaded",t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=e}else{var n=t.getFontFamily().getFamilyName()+":"+l.default.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),i=s.default.addGoogleWebFont(n);i.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),i.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=i}}),this)))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(n){t.call(e,n)})),this.on("variant-loaded",t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on("variant-failed",t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&(r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state())}),this))}}),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(231),o=n(232),a=n(233),s=n(234),u=n(235),l=n(236),c=n(237),d=n(238),f=n(82),h=n(239),p=n(240),g=n(241),v=n(242),m=n(243),y=n(244),b=n(245),_=n(246),w=n(247),E=n(248),T=n(249),S=n(250),A=n(251),P=n(81),x=n(252),O=n(253),I=n(22),C=n(255),R=function(){function t(){}return t.constructorFor=function(t){switch(t){case I.ActionTypes.nextPage:return o.NextPageInteraction;case I.ActionTypes.prevPage:return h.PreviousPageInteraction;case I.ActionTypes.gotoPage:return d.GoToPageInteraction;case I.ActionTypes.url:return r.GoToURLInteraction;case I.ActionTypes.scrollTo:return f.ScrollToInteraction;case I.ActionTypes.scrollToObject:return P.ScrollToObjectInteraction;case I.ActionTypes.changeState:return O.ChangeStateInteraction;case I.ActionTypes.showOnly:return _.ShowComponentInteraction;case I.ActionTypes.hideOnly:return b.HideComponentInteraction;case I.ActionTypes.toggleCanvasTargets:return g.ToggleLayersInteraction;case I.ActionTypes.enableDisablePage:return w.PageVisibilityInteraction;case I.ActionTypes.lightbox:return E.LightboxVisibilityInteraction;case I.ActionTypes.product:return T.ProductPanelVisibilityInteraction;case I.ActionTypes.shoppingCart:return S.ShoppingCartVisibilityInteraction;case I.ActionTypes.fullscreen:return A.FullScreenInteraction;case I.ActionTypes.showCanvasTargetsOnHover:case I.ActionTypes.showCanvasTargets:case I.ActionTypes.showAndStayVisibleCanvasTargets:return y.ShowLayersInteraction;case I.ActionTypes.hideCanvasTargets:case I.ActionTypes.hideAndStayHiddenCanvasTargets:return p.HideLayersInteraction;case I.ActionTypes.cycleNext:return m.CycleNextInteraction;case I.ActionTypes.cyclePrevious:return v.CyclePreviousInteraction;case I.ActionTypes.email:return s.ShareEmailInteraction;case I.ActionTypes.facebook:return u.ShareFacebookInteraction;case I.ActionTypes.twitter:return c.ShareTwitterInteraction;case I.ActionTypes.pinterest:return l.SharePinterestInteraction;case I.ActionTypes.linkedin:return a.ShareLinkedInInteraction;case I.ActionTypes.toggleReducedMotion:return x.ToggleReducedMotionInteraction;default:return C.InvalidInteraction}},t.initializeInteractions=function(e,n){var r=[];if(!i.get(e,"length"))return r;for(var o=0,a=e;o<a.length;o++){var s=a[o];if(s.trigger&&s.action){var u=t.constructorFor(s.action);r.push(new u(s,n))}}return r},t}();e.InteractionFactory=R},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(43));e.default={find:function(t,e){var n=null,i=function(t){return r.default.some(t,(function(t){return t.id===e||t instanceof o.default&&t.el&&t.el.id===e?(n=t,!0):!!t.childViews&&i(t.childViews)}))};return t&&i(t),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(12)),u=i(n(2)),l=i(n(15)),c=i(n(9)),d=i(n(100)),f=i(n(8)),h=i(n(59)),p=["sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],g=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},v=function(t,e){var n={name:"ceros.sdk.player:"+t,version:"1.1.0",params:e};u.default.isEmbedded&&g(parent,n),g(window,n)},m=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf("ceros.sdk.player:")){var e,n,i={};try{i=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(i.name){if(i.name=(e=i.name,n=new RegExp("^ceros.sdk.player:"),e.replace(n,"")),-1===p.indexOf(i.name))return void a.default.debug("Received message that is not an SDK event: "+i.name);l.default.trigger(i.name,i.params)}}},y=function(){var t={},e=function(e,n,i){i&&!o.default.isEmpty(i)&&o.default.each(i,(function(i){t[i]||(t[i]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[i][e].push(n)}))};this.addPageTags=function(t,n){e("pages",t,n)},this.addSyncedObjectTags=function(t,n){e("syncedObjects",t,n),e("smartgroups",t,n)},this.addLayerTags=function(t,n){e("layers",t,n)},this.addComponentTags=function(t,n){e("components",t,n)},this.getTags=function(){return t}};t=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,n){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",m);var i=this.buildExperienceData(t,e,n);this.experienceID=t.get("slug"),this.registerEvents(),v("ready",i)}},buildExperienceData:function(t,e,n){var i=new y,r=this.buildPages(e,i),o=this.buildSyncedObjects(e.get("smartgroups"),i),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:i.getTags(),userToken:n};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var n=[],i=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=i.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),n.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),n},buildPages:function(t,e){var n=[];return o.default.each(t.getPages(),o.default.bind((function(i,r){var o=[];i.get("layerHierarchies")&&(o=this.buildLayers(i.get("layerHierarchies")[f.default.getVariant()],e,i.getSlug(),i.get("layerDictionary"))),n.push({pageSlug:i.getSlug(),pageNumber:i.getPageIndex()+1,payload:i.getSdkPayload(),tags:i.getSdkTags(),layers:o,width:i.getPageWidth(t),height:i.getPageHeight(t),enabled:!i.getDisabled()}),e.addPageTags(i.getSlug(),i.getSdkTags())}),this)),n},buildLayers:function(t,e,n,i,r){var s=[],u=this;return t&&o.default.each(t,(function(t){var l=function t(s){var l=s.items,c=o.default.cloneDeep(i[s.id]);if(c){if(r&&(c.parentSmartGroup=r),h.default.reconcileComponentForCurrentVariant(c),c.items=l,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:n,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(e){var n=t(e);n&&d.push(n)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:n,type:c.type}}return u.buildComponent(c,e,n)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:s})}(t);l&&s.push(l)})),s},buildComponent:function(t,e,n){var i,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":i="hotspot";break;case"image-component":i="image";break;case"line-component":i="line";break;case"shape-component":i="shape";break;case"text-component":i="text";break;case"video-widget":i="video"}var o={id:r,type:i,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:n};return"text"===i&&(o.textContent=t.textContent),"image"===i&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this))},announcePageChanged:function(t){v("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){v("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),v("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),v("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){v("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){v("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),v("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),v("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),v("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";v("context.value.response",{variableName:t,variableValue:e})},announceScrollTo:function(t){v("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){v("timed.interaction.fired",t)},getNewTagMap:function(){return new y}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(5)),s=i(n(2)),u=i(n(4)),l=i(n(48)),c=i(n(268)),d=i(n(94)),f=i(n(102)),h=i(n(103)),p=i(n(272)),g=i(n(36)),v=i(n(46)),m=i(n(8)),y=i(n(59)),b={},_=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),n=t.getExperienceHeight();return e>n?e:n},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,n){if(e)throw u.default.error(e),t.reject(e),Error(e);n.on("remoteop",o.default.bind((function(t){this._processRemoteOps(n,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(n),this.setDocSnapshotAndReconciledLayers(n.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,n)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var n=this,i=[],r=m.default.getVariant();return o.default.reduce(t,(function(t,i){var a=o.default.cloneDeep(e[i.id]);return a&&(y.default.reconcileComponentForVariant(r,a),i.items&&i.items.length>0&&(a.items=n.reconcileLayers(i.items,e)),t.push(a)),t}),i),n.setReconciledVariant(r),i},getScranchorsForCurrentVariant:function(){var t=m.default.getVariant(),e=this.get("scranchors");"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e);return e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[m.default.getVariant()],e=this.get("layerDictionary"),n=this.reconcileLayers(t,e);this.set("layers",n)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return v.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,n=t||e.get("layers")||[];o.default.each(n,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?e.resolveSmartgroupsAndMedia(t.items):e.resolveObjectMedia(t),t})),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.trigger("reload")}),this))},resolveSmartgroupReference:function(t){var e=this,n=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);n?t.layers=o.default.map(n.layerHierarchies.desktop,o.default.bind((function(i){return i=function i(a){var s=n.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=_.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,i):e.resolveObjectInSmartgroup(a,t.id),a}(i)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return _.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":(e=g.default.get(t.image))&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":(e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video);break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode()}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var n={},i=!1,r=!1,a=0;a<e.length;a++){var s=e[a];if(h.default.isLayerHierarchiesMoveOrDelete(s))r=!0;else if(!h.default.isLayerDictionaryDelete(s)&&!h.default.isBlacklistedPagePropertyForPreviewOps(s)){var u=h.default.getComponentFromOp(t,s);if(u&&delete b[u.id],h.default.isMediaReloadRequiredForComponent(s,u)){i=!0;break}!u||h.default.isPageReloadRequiredForComponent(s,u)?r=!0:n[u.id]=JSON.parse(JSON.stringify(u))}}i?this.refetchMedia(t):r?this.triggerPageReload(t):o.default.each(n,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var n=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[m.default.getVariant()]),e.layerDictionary);this.set("layers",n)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.trigger("reload")},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var n=e||this.get("layerDictionary"),i=o.default.filter(n,"smartgroupId");return o.default.reduce(i,o.default.bind((function(e,n){var i=this.getSmartgroupLayerDictionary(n.smartgroupId);return o.default.some(i,(function(e){return e.id===t}))&&e.push(_.buildSmartgroupInstanceObjectId(n.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!b.hasOwnProperty(t)){var e=function(n){for(var i=0;i<o.default.get(n,"length");++i){if(n[i].id===t)return n[i];if(n[i].items||n[i].layers){var r=n[i].items||n[i].layers,a=e(r);if(a)return a}}return null};b[t]=e(this.get("layers"))}return b[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(_.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,n=0;n<o.default.get(t,"items.length",0);++n){var i=t.items[n];"folder"===i.type&&(i=_.findTopmostFolderContent(i)),e?i.y===e.y?e=i.y<e.y?i:e:i.y<e.y&&(e=i):e=i}return e}});o.default.extend(_.prototype,f.default),e.default=_},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=i(n(4)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var n=this.get("overrides");return r.default.get(n,[e,t])}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=i(n(271)),s=["image","background","backgroundHasBeenSet","crop"],u=["video","poster"],l=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var n=this.getLayerTypeFromLayer(e);if(r.default.includes(["smartgroup_definition","folder","group"],n)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t)){return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this))}return!1},isMediaReloadRequiredForOp:function(t,e){var n=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,n)},someOpPropertySuchThat:function(t,e){var n=o.default.getVariant();if("desktop"===n)return e(this.getPropertyNameFromPath(t.p));var i=this.getPropertyNamesFromOverridesOp(t,n);return r.default.some(i,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;if(this.isComponentCreation(t))return!0;if(this.isComponentUpdate(t)){var n=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(n=!0)})),this.someOpPropertySuchThat(t,(function(t){("video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"blendingMode"===t||"fixedPosition"===t)&&(n=!0)})),n}throw"Wrong Op Type passed"}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&(2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od))},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&("layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi))},isComponentUpdate:function(t){return!!r.default.isArray(t.p)&&(!!a.default.isUpdateForLazyAddedField(t)||!(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var n=t.oi[e],i=t.od[e],o=r.default.union(r.default.keys(n),r.default.keys(i));return r.default.filter(o,(function(t){return!r.default.isEqual(n[t],i[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var n=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,n)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?"smartgroup_definition":void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(s,e):"video-widget"===t.type&&r.default.includes(u,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(l,t.p[0]))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(11)),a=i(n(7)),s=i(n(279));e.default=o.default.extend({className:"warning",module:null,showBranding:!1,importantText:"",descriptiveText:"",buttonText:"Dismiss",initialize:function(){o.default.prototype.initialize.call(this),this.module=this.options.module},render:function(){this.$el.html(a.default.render(s.default,{showBranding:this.showBranding,importantText:this.importantText,descriptiveText:this.descriptiveText,buttonText:this.buttonText})),this.bindEvents()},bindEvents:function(){this.bindInteraction(this.$el.find("button.dismiss"),r.default.bind((function(t){t.preventDefault(),this.onDismissHandler()}),this))},onDismissHandler:function(){}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1));n(106),n(65),n(107),n(111),n(112),n(115),n(116);var o=i(n(117));r.default((function(){o.default.run()}))},function(t,e,n){"use strict";(function(t){Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,n,i){return t*n+e*i},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return!(t+n<r)&&(!(t>r+a)&&(!(e+i<o)&&!(e>o+s)))},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),n=arguments[1].getX(),i=arguments[1].getY(),r=arguments[2]);var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,n,i,r,o,a,s,u){var l=t+n/2,c=e+i/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),f=d.x,h=d.y,p=(d=Math.rotateCoord(t+n,e,l,c,r)).x,g=d.y,v=(d=Math.rotateCoord(t,e+i,l,c,r)).x,m=d.y,y=(d=Math.rotateCoord(t+n,e+i,l,c,r)).x,b=d.y,_=o,w=o+s,E=a,T=a+u;if(f<_&&p<_&&v<_&&y<_)return!1;if(f>w&&p>w&&v>w&&y>w)return!1;if(h<E&&g<E&&m<E&&b<E)return!1;if(h>T&&g>T&&m>T&&b>T)return!1;var S=-1*(g-h),A=p-f,P=Math.dot(S,A,_-f,E-h),x=Math.dot(S,A,w-f,E-h),O=Math.dot(S,A,_-f,T-h),I=Math.dot(S,A,w-f,T-h);return!(P<=0&&x<=0&&O<=0&&I<=0)&&(S=-1*(b-g),A=y-p,P=Math.dot(S,A,_-p,E-g),x=Math.dot(S,A,w-p,E-g),O=Math.dot(S,A,_-p,T-g),I=Math.dot(S,A,w-p,T-g),!(P<=0&&x<=0&&O<=0&&I<=0)&&(S=-1*(m-b),A=v-y,P=Math.dot(S,A,_-y,E-b),x=Math.dot(S,A,w-y,E-b),O=Math.dot(S,A,_-y,T-b),I=Math.dot(S,A,w-y,T-b),!(P<=0&&x<=0&&O<=0&&I<=0)&&(S=-1*(h-m),A=f-v,P=Math.dot(S,A,_-v,E-m),x=Math.dot(S,A,w-v,E-m),O=Math.dot(S,A,_-v,T-m),I=Math.dot(S,A,w-v,T-m),!(P<=0&&x<=0&&O<=0&&I<=0))))},Math.angleBetweenLines=function(t,e){var n={x:t.x2-t.x1,y:t.y2-t.y1},i={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(n.x,n.y,i.x,i.y),o=n.x*i.y-n.y*i.x;return Math.atan2(o,r)},t.Math=Math}).call(this,n(32))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));n(109),n(110),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){try{new Uint8Array(1);return}catch(t){}function t(t,e){return this.slice(t,e)}function e(t,e){arguments.length<2&&(e=0);for(var n=0,i=t.length;n<i;++n,++e)this[e]=255&t[n]}function n(n){var i;if("number"==typeof n){i=new Array(n);for(var r=0;r<n;++r)i[r]=0}else i=n.slice(0);return i.subarray=t,i.buffer=i,i.byteLength=i.length,i.set=e,"object"==typeof n&&n.buffer&&(i.buffer=n.buffer),i}window.Uint8Array=n,window.Uint32Array=n,window.Int32Array=n}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return(t>=r&&t<=r+a||t+n>=r&&t+n<=r+a)&&(e>=o&&e<=o+s||e+i>=o&&e+i<=o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=n,y:e+=i}},Math.pointInPoly=function(t,e,n){var i,r,o=!1,a=t.length;for(i=0,r=a-1;i<a;r=i++)t[i].y>n!=t[r].y>n&&e<(t[r].x-t[i].x)*(n-t[i].y)/(t[r].y-t[i].y)+t[i].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit)},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,n){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var i=null;return{send:function(n,o){var a="",s=(e.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(e.timeout)&&(i.timeout=e.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,e={code:200,message:"success"},n={text:i.responseText};try{if("html"===s||/text\/html/i.test(i.contentType))n.html=i.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(i.contentType))try{n.json=JSON.parse(i.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(t){throw t}finally{o(e.code,e.message,n,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),i.open(t.type,t.url),i.send(a)},abort:function(){i&&i.abort()}}}}))}e.default=r.default},function(t,e,n){"use strict";!function(){var t=e,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){this.message=t}i.prototype=new Error,i.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var e,r,o=String(t),a=0,s=n,u="";o.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=3/4))>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|r}return u}),t.atob||(t.atob=function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,u="";o=e.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?u+=String.fromCharCode(255&r>>(-2*a&6)):0)o=n.indexOf(o);return u})}()},function(t,e,n){"use strict";var i,r;i=[n(1)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,n=Math.sqrt,i=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=2*o/3,l=2*o/4.5;function c(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return i(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-e(t,2))},easeOutCirc:function(t){return n(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-e(2*t,2)))/2:(n(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*i((10*t-10.75)*u)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*i((10*t-.75)*u)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*i((20*t-11.125)*l)/2:e(2,-20*t+10)*i((20*t-11.125)*l)/2+1},easeInBack:function(t){return 2.70158*t*t*t-a*t*t},easeOutBack:function(t){return 1+2.70158*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-c(1-t)},easeOutBounce:c,easeInOutBounce:function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2}})}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;if(l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,!r.default.support.linearGradient){r.default.cssNumber[s]=!0;r.default.cssHooks[s]={set:function(t,e){var n=c.exec(e);if(o.default.isEmpty(n))t.style[s]=e;else{n[0];var i=n[4],r=n[5],u=n[6],l=n[7],d=n[8];t.style[s]=function(t,e,n,i,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+("linear-gradient("+(n=90-parseInt(n,10))+"deg,"+i+" "+r+"%,"+o+" "+s+"%)")}(0,0,i,r,u,l,d)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)));e.default={isMobile:r}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,n={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(Edge)\/([0-9.]*)/))?(n.name=o,n.version=e[2],n.engine=u):(e=t.match(/(Firefox)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(n.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",n.version=e[2],n.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))?(n.name=e[1],n.version=e[2],n.engine=u):(e=t.match(/Trident\/[0-9.]+;.*rv:([0-9.]*)/))&&(n.name="MSIE",n.version=e[1],n.engine=u),r.default.isNull(n.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(n.engine=s),n}};e.default=l},function(t,e,n){"use strict";(function(t){!function(e){function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var i,r;r={},n.m=i=[function(t,e,n){n(1),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(78),n(81),n(83),n(85),n(86),n(87),n(88),n(90),n(91),n(93),n(101),n(102),n(103),n(104),n(112),n(113),n(115),n(116),n(117),n(119),n(120),n(121),n(122),n(123),n(124),n(126),n(127),n(128),n(129),n(135),n(136),n(138),n(139),n(140),n(144),n(145),n(147),n(148),n(150),n(151),n(152),n(153),n(154),n(161),n(163),n(164),n(165),n(167),n(168),n(170),n(171),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(186),n(187),n(189),n(191),n(192),n(193),n(194),n(195),n(197),n(199),n(201),n(202),n(204),n(205),n(207),n(208),n(209),n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(233),n(234),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(261),n(263),n(264),n(265),n(266),n(268),n(271),n(272),n(273),n(274),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(348),n(349),n(350),n(351),n(352),n(353),n(355),n(357),n(358),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(392),n(395),n(396),n(397),n(398),n(400),n(401),n(403),n(404),n(405),n(406),n(407),n(408),n(410),n(411),n(412),n(413),n(415),n(416),n(417),n(418),n(419),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(484),n(485),n(486),n(487),n(488),n(492),t.exports=n(491)},function(t,n,i){var r=i(2),o=i(3),a=i(23),s=i(5),u=i(45),l=i(6),c=i(15),d=i(46),f=i(14),h=i(20),p=i(47),g=i(9),v=i(13),m=i(8),y=i(48),b=i(50),_=i(36),w=i(52),E=i(43),T=i(4),S=i(19),A=i(7),P=i(18),x=i(21),O=i(22),I=i(29),C=i(31),R=i(30),M=i(53),k=i(54),L=i(55),D=i(56),N=i(27),F=i(57).forEach,V=I("hidden"),U="Symbol",B="prototype",j=M("toPrimitive"),G=N.set,H=N.getterFor(U),W=Object[B],$=o.Symbol,Y=o.JSON,z=Y&&Y.stringify,K=T.f,q=S.f,X=w.f,Z=A.f,J=O("symbols"),Q=O("op-symbols"),tt=O("string-to-symbol-registry"),et=O("symbol-to-string-registry"),nt=O("wks"),it=o.QObject,rt=!it||!it[B]||!it[B].findChild,ot=s&&l((function(){return 7!=y(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=K(W,e);i&&delete W[e],q(t,e,n),i&&t!==W&&q(W,e,i)}:q,at=function(t,e){var n=J[t]=y($[B]);return G(n,{type:U,tag:t,description:e}),s||(n.description=e),n},st=u&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof $},ut=function(t,e,n){t===W&&ut(Q,e,n),h(t);var i=v(e,!0);return h(n),c(J,i)?(n.enumerable?(c(t,V)&&t[V][i]&&(t[V][i]=!1),n=y(n,{enumerable:m(0,!1)})):(c(t,V)||q(t,V,m(1,{})),t[V][i]=!0),ot(t,i,n)):q(t,i,n)},lt=function(t,e){h(t);var n=g(e),i=b(n).concat(ht(n));return F(i,(function(e){s&&!ct.call(n,e)||ut(t,e,n[e])})),t},ct=function(t){var e=v(t,!0),n=Z.call(this,e);return!(this===W&&c(J,e)&&!c(Q,e))&&(!(n||!c(this,e)||!c(J,e)||c(this,V)&&this[V][e])||n)},dt=function(t,e){var n=g(t),i=v(e,!0);if(n!==W||!c(J,i)||c(Q,i)){var r=K(n,i);return!r||!c(J,i)||c(n,V)&&n[V][i]||(r.enumerable=!0),r}},ft=function(t){var e=X(g(t)),n=[];return F(e,(function(t){c(J,t)||c(C,t)||n.push(t)})),n},ht=function(t){var e=t===W,n=X(e?Q:g(t)),i=[];return F(n,(function(t){!c(J,t)||e&&!c(W,t)||i.push(J[t])})),i};u||(x(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==e?String(arguments[0]):e,n=R(t),i=function(t){this===W&&i.call(Q,t),c(this,V)&&c(this[V],n)&&(this[V][n]=!1),ot(this,n,m(1,t))};return s&&rt&&ot(W,n,{configurable:!0,set:i}),at(n,t)})[B],"toString",(function(){return H(this).tag})),A.f=ct,S.f=ut,T.f=dt,_.f=w.f=ft,E.f=ht,s&&(q($[B],"description",{configurable:!0,get:function(){return H(this).description}}),a||x(W,"propertyIsEnumerable",ct,{unsafe:!0})),k.f=function(t){return at(M(t),t)}),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:$}),F(b(nt),(function(t){L(t)})),r({target:U,stat:!0,forced:!u},{for:function(t){var e=String(t);if(c(tt,e))return tt[e];var n=$(e);return et[tt[e]=n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(c(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,n){return n===e?y(t):lt(y(t),n)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(p(t))}}),Y&&r({target:"JSON",stat:!0,forced:!u||l((function(){var t=$();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}))},{stringify:function(t){for(var n,i,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(i=n=r[1],(f(n)||t!==e)&&!st(t))return d(n)||(n=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),r[1]=n,z.apply(Y,r)}}),$[B][j]||P($[B],j,$[B].valueOf),D($,U),C[V]=!0},function(t,n,i){var r=i(3),o=i(4).f,a=i(18),s=i(21),u=i(25),l=i(32),c=i(44);t.exports=function(t,n){var i,d,f,h,p,g=t.target,v=t.global,m=t.stat;if(i=v?r:m?r[g]||u(g,{}):(r[g]||{}).prototype)for(d in n){if(h=n[d],f=t.noTargetGet?(p=o(i,d))&&p.value:i[d],!c(v?d:g+(m?".":"#")+d,t.forced)&&f!==e){if(typeof h==typeof f)continue;l(h,f)}(t.sham||f&&f.sham)&&a(h,"sham",!0),s(i,d,h,t)}}},function(e,n){var i=function(t){return t&&t.Math==Math&&t};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()},function(t,e,n){var i=n(5),r=n(7),o=n(8),a=n(9),s=n(13),u=n(15),l=n(16),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(6);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(10),r=n(12);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(6),r=n(11),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(t==e)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(5),r=n(6),o=n(17);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(3),r=n(14),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(5),r=n(19),o=n(8);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(5),r=n(16),o=n(20),a=n(13),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(3),r=n(22),o=n(18),a=n(15),s=n(25),u=n(26),l=n(27),c=l.get,d=l.enforce,f=String(u).split("toString");r("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),d(n).source=f.join("string"==typeof e?e:"")),t!==i?(u?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u.call(this)}))},function(t,n,i){var r=i(23),o=i(24);(t.exports=function(t,n){return o[t]||(o[t]=n!==e?n:{})})("versions",[]).push({version:"3.3.3",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var i=n(3),r=n(25),o="__core-js_shared__",a=i[o]||r(o,{});t.exports=a},function(t,e,n){var i=n(3),r=n(18);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(22);t.exports=i("native-function-to-string",Function.toString)},function(t,e,n){var i,r,o,a=n(28),s=n(3),u=n(14),l=n(18),c=n(15),d=n(29),f=n(31);if(a){var h=new s.WeakMap,p=h.get,g=h.has,v=h.set;i=function(t,e){return v.call(h,t,e),e},r=function(t){return p.call(h,t)||{}},o=function(t){return g.call(h,t)}}else{var m=d("state");f[m]=!0,i=function(t,e){return l(t,m,e),e},r=function(t){return c(t,m)?t[m]:{}},o=function(t){return c(t,m)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(3),r=n(26),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var i=n(22),r=n(30),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,n){var i=0,r=Math.random();t.exports=function(t){return"Symbol("+String(t===e?"":t)+")_"+(++i+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(15),r=n(33),o=n(4),a=n(19);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];i(t,c)||s(t,c,u(e,c))}}},function(t,e,n){var i=n(34),r=n(36),o=n(43),a=n(20);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,n,i){var r=i(35),o=i(3),a=function(t){return"function"==typeof t?t:e};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){t.exports=n(3)},function(t,e,n){var i=n(37),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(15),r=n(9),o=n(38).indexOf,a=n(31);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;u<e.length;)i(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(9),r=n(39),o=n(41),a=function(t){return function(e,n,a){var s,u=i(e),l=r(u.length),c=o(a,l);if(t&&n!=n){for(;c<l;)if((s=u[c++])!=s)return!0}else for(;c<l;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(6),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(6);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(11);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(12);t.exports=function(t){return Object(i(t))}},function(t,n,i){var r=i(20),o=i(49),a=i(42),s=i(31),u=i(51),l=i(17),c=i(29)("IE_PROTO"),d="prototype",f=function(){},h=function(){var t,e=l("iframe"),n=a.length;for(e.style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h[d][a[n]];return h()};t.exports=Object.create||function(t,n){var i;return null!==t?(f[d]=r(t),i=new f,f[d]=null,i[c]=t):i=h(),n===e?i:o(i,n)},s[c]=!0},function(t,e,n){var i=n(5),r=n(19),o=n(20),a=n(50);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,u=0;u<s;)r.f(t,n=i[u++],e[n]);return t}},function(t,e,n){var i=n(37),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(34);t.exports=i("document","documentElement")},function(t,e,n){var i=n(9),r=n(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(3),r=n(22),o=n(30),a=n(45),s=i.Symbol,u=r("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,n){e.f=n(53)},function(t,e,n){var i=n(35),r=n(15),o=n(54),a=n(19).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var i=n(19).f,r=n(15),o=n(53)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,n,i){var r=i(58),o=i(10),a=i(47),s=i(39),u=i(60),l=[].push,c=function(t){var n=1==t,i=2==t,c=3==t,d=4==t,f=6==t,h=5==t||f;return function(p,g,v,m){for(var y,b,_=a(p),w=o(_),E=r(g,v,3),T=s(w.length),S=0,A=m||u,P=n?A(p,T):i?A(p,0):e;S<T;S++)if((h||S in w)&&(b=E(y=w[S],S,_),t))if(n)P[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:l.call(P,y)}else if(d)return!1;return f?-1:c||d?d:P}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,n,i){var r=i(59);t.exports=function(t,n,i){if(r(t),n===e)return t;switch(i){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)}}return function(){return t.apply(n,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,n,i){var r=i(14),o=i(46),a=i(53)("species");t.exports=function(t,n){var i;return o(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!o(i.prototype)?r(i)&&null===(i=i[a])&&(i=e):i=e),new(i===e?Array:i)(0===n?0:n)}},function(t,n,i){var r=i(2),o=i(5),a=i(3),s=i(15),u=i(14),l=i(19).f,c=i(32),d=a.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||d().description!==e)){var f={},h=function(){var t=arguments.length<1||arguments[0]===e?e:String(arguments[0]),n=this instanceof h?new d(t):t===e?d():d(t);return""===t&&(f[n]=!0),n};c(h,d);var p=h.prototype=d.prototype;p.constructor=h;var g=p.toString,v="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,n=g.call(t);if(s(f,t))return"";var i=v?n.slice(7,-1):n.replace(m,"$1");return""===i?e:i}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("hasInstance")},function(t,e,n){n(55)("isConcatSpreadable")},function(t,e,n){n(55)("iterator")},function(t,e,n){n(55)("match")},function(t,e,n){n(55)("matchAll")},function(t,e,n){n(55)("replace")},function(t,e,n){n(55)("search")},function(t,e,n){n(55)("species")},function(t,e,n){n(55)("split")},function(t,e,n){n(55)("toPrimitive")},function(t,e,n){n(55)("toStringTag")},function(t,e,n){n(55)("unscopables")},function(t,n,i){var r=i(2),o=i(6),a=i(46),s=i(14),u=i(47),l=i(39),c=i(76),d=i(60),f=i(77),h=i(53)("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",v=!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=f("concat"),y=function(t){if(!s(t))return!1;var n=t[h];return n!==e?!!n:a(t)};r({target:"Array",proto:!0,forced:!v||!m},{concat:function(t){var e,n,i,r,o,a=u(this),s=d(a,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(y(o=-1===e?a:arguments[e])){if(r=l(o.length),p<f+r)throw TypeError(g);for(n=0;n<r;n++,f++)n in o&&c(s,f,o[n])}else{if(p<=f)throw TypeError(g);c(s,f++,o)}return s.length=f,s}})},function(t,e,n){var i=n(13),r=n(19),o=n(8);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var i=n(6),r=n(53)("species");t.exports=function(t){return!i((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var i=n(2),r=n(79),o=n(80);i({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,n,i){var r=i(47),o=i(41),a=i(39),s=Math.min;t.exports=[].copyWithin||function(t,n){var i=r(this),u=a(i.length),l=o(t,u),c=o(n,u),d=2<arguments.length?arguments[2]:e,f=s((d===e?u:o(d,u))-c,u-l),h=1;for(c<l&&l<c+f&&(h=-1,c+=f-1,l+=f-1);0<f--;)c in i?i[l]=i[c]:delete i[l],l+=h,c+=h;return i}},function(t,n,i){var r=i(53),o=i(48),a=i(18),s=r("unscopables"),u=Array.prototype;u[s]==e&&a(u,s,o(null)),t.exports=function(t){u[s][t]=!0}},function(t,n,i){var r=i(2),o=i(57).every;r({target:"Array",proto:!0,forced:i(82)("every")},{every:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=[][t];return!n||!i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(2),r=n(84),o=n(80);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,n,i){var r=i(47),o=i(41),a=i(39);t.exports=function(t){for(var n=r(this),i=a(n.length),s=arguments.length,u=o(1<s?arguments[1]:e,i),l=2<s?arguments[2]:e,c=l===e?i:o(l,i);u<c;)n[u++]=t;return n}},function(t,n,i){var r=i(2),o=i(57).filter;r({target:"Array",proto:!0,forced:!i(77)("filter")},{filter:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,n,i){var r=i(2),o=i(57).find,a=i(80),s="find",u=!0;s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}}),a(s)},function(t,n,i){var r=i(2),o=i(57).findIndex,a=i(80),s="findIndex",u=!0;s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}}),a(s)},function(t,n,i){var r=i(2),o=i(89),a=i(47),s=i(39),u=i(40),l=i(60);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:e,n=a(this),i=s(n.length),r=l(n,0);return r.length=o(r,n,n,i,0,t===e?1:u(t)),r}})},function(t,e,n){var i=n(46),r=n(39),o=n(58),a=function(t,e,n,s,u,l,c,d){for(var f,h=u,p=0,g=!!c&&o(c,d,3);p<s;){if(p in n){if(f=g?g(n[p],p,e):n[p],0<l&&i(f))h=a(t,e,f,r(f.length),h,l-1)-1;else{if(9007199254740991<=h)throw TypeError("Exceed the acceptable array length");t[h]=f}h++}p++}return h};t.exports=a},function(t,n,i){var r=i(2),o=i(89),a=i(47),s=i(39),u=i(59),l=i(60);r({target:"Array",proto:!0},{flatMap:function(t){var n,i=a(this),r=s(i.length);return u(t),(n=l(i,0)).length=o(n,i,i,r,0,1,t,1<arguments.length?arguments[1]:e),n}})},function(t,e,n){var i=n(2),r=n(92);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,n,i){var r=i(57).forEach,o=i(82);t.exports=o("forEach")?function(t){return r(this,t,1<arguments.length?arguments[1]:e)}:[].forEach},function(t,e,n){var i=n(2),r=n(94);i({target:"Array",stat:!0,forced:!n(100)((function(t){Array.from(t)}))},{from:r})},function(t,n,i){var r=i(58),o=i(47),a=i(95),s=i(96),u=i(39),l=i(76),c=i(98);t.exports=function(t){var n,i,d,f,h,p=o(t),g="function"==typeof this?this:Array,v=arguments.length,m=1<v?arguments[1]:e,y=m!==e,b=0,_=c(p);if(y&&(m=r(m,2<v?arguments[2]:e,2)),_==e||g==Array&&s(_))for(i=new g(n=u(p.length));b<n;b++)l(i,b,y?m(p[b],b):p[b]);else for(h=(f=_.call(p)).next,i=new g;!(d=h.call(f)).done;b++)l(i,b,y?a(f,m,[d.value,b],!0):d.value);return i.length=b,i}},function(t,n,i){var r=i(20);t.exports=function(t,n,i,o){try{return o?n(r(i)[0],i[1]):n(i)}catch(n){var a=t.return;throw a!==e&&r(a.call(t)),n}}},function(t,n,i){var r=i(53),o=i(97),a=r("iterator"),s=Array.prototype;t.exports=function(t){return t!==e&&(o.Array===t||s[a]===t)}},function(t,e){t.exports={}},function(t,n,i){var r=i(99),o=i(97),a=i(53)("iterator");t.exports=function(t){if(t!=e)return t[a]||t["@@iterator"]||o[r(t)]}},function(t,n,i){var r=i(11),o=i(53)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,i,s;return t===e?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(n=Object(t),o))?i:a?r(n):"Object"==(s=r(n))&&"function"==typeof n.callee?"Arguments":s}},function(t,e,n){var i=n(53)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,n,i){var r=i(2),o=i(38).includes,a=i(80);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}}),a("includes")},function(t,n,i){var r=i(2),o=i(38).indexOf,a=i(82),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:u||l},{indexOf:function(t){return u?s.apply(this,arguments)||0:o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,e,n){n(2)({target:"Array",stat:!0},{isArray:n(46)})},function(t,n,i){var r=i(9),o=i(80),a=i(97),s=i(27),u=i(105),l="Array Iterator",c=s.set,d=s.getterFor(l);t.exports=u(Array,"Array",(function(t,e){c(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=d(this),n=t.target,i=t.kind,r=t.index++;return!n||n.length<=r?{value:t.target=e,done:!0}:"keys"==i?{value:r,done:!1}:"values"==i?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}}),"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var i=n(2),r=n(106),o=n(108),a=n(110),s=n(56),u=n(18),l=n(21),c=n(53),d=n(23),f=n(97),h=n(107),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,v=c("iterator"),m="values",y="entries",b=function(){return this};t.exports=function(t,e,n,c,h,_,w){r(n,e,c);var E,T,S,A=function(t){if(t===h&&C)return C;if(!g&&t in O)return O[t];switch(t){case"keys":case m:case y:return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",x=!1,O=t.prototype,I=O[v]||O["@@iterator"]||h&&O[h],C=!g&&I||A(h),R="Array"==e&&O.entries||I;if(R&&(E=o(R.call(new t)),p!==Object.prototype&&E.next&&(d||o(E)===p||(a?a(E,p):"function"!=typeof E[v]&&u(E,v,b)),s(E,P,!0,!0),d&&(f[P]=b))),h==m&&I&&I.name!==m&&(x=!0,C=function(){return I.call(this)}),d&&!w||O[v]===C||u(O,v,C),f[e]=C,h)if(T={values:A(m),keys:_?C:A("keys"),entries:A(y)},w)for(S in T)!g&&!x&&S in O||l(O,S,T[S]);else i({target:e,proto:!0,forced:g||x},T);return T}},function(t,e,n){var i=n(107).IteratorPrototype,r=n(48),o=n(8),a=n(56),s=n(97),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,l,!1,!0),s[l]=u,t}},function(t,n,i){var r,o,a,s=i(108),u=i(18),l=i(15),c=i(53),d=i(23),f=c("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(o=s(s(a)))!==Object.prototype&&(r=o):h=!0),r==e&&(r={}),d||l(r,f)||u(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var i=n(15),r=n(47),o=n(29),a=n(109),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var i=n(6);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,n,i){var r=i(20),o=i(111);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():e)},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,n,i){var r=i(2),o=i(10),a=i(9),s=i(82),u=[].join,l=o!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:l||c},{join:function(t){return u.call(a(this),t===e?",":t)}})},function(t,e,n){var i=n(2),r=n(114);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,n){var i=n(9),r=n(40),o=n(39),a=n(82),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=l||c?function(t){if(l)return u.apply(this,arguments)||0;var e=i(this),n=o(e.length),a=n-1;for(1<arguments.length&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);0<=a;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,n,i){var r=i(2),o=i(57).map;r({target:"Array",proto:!0,forced:!i(77)("map")},{map:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(2),r=n(6),o=n(76);i({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,n,i){var r=i(2),o=i(118).left;r({target:"Array",proto:!0,forced:i(82)("reduce")},{reduce:function(t){return o(this,t,arguments.length,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(59),r=n(47),o=n(10),a=n(39),s=function(t){return function(e,n,s,u){i(n);var l=r(e),c=o(l),d=a(l.length),f=t?d-1:0,h=t?-1:1;if(s<2)for(;;){if(f in c){u=c[f],f+=h;break}if(f+=h,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?0<=f:f<d;f+=h)f in c&&(u=n(u,c[f],f,l));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,n,i){var r=i(2),o=i(118).right;r({target:"Array",proto:!0,forced:i(82)("reduceRight")},{reduceRight:function(t){return o(this,t,arguments.length,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(2),r=n(46),o=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,n,i){var r=i(2),o=i(14),a=i(46),s=i(41),u=i(39),l=i(9),c=i(76),d=i(77),f=i(53)("species"),h=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!d("slice")},{slice:function(t,n){var i,r,d,g=l(this),v=u(g.length),m=s(t,v),y=s(n===e?v:n,v);if(a(g)&&("function"!=typeof(i=g.constructor)||i!==Array&&!a(i.prototype)?o(i)&&null===(i=i[f])&&(i=e):i=e,i===Array||i===e))return h.call(g,m,y);for(r=new(i===e?Array:i)(p(y-m,0)),d=0;m<y;m++,d++)m in g&&c(r,d,g[m]);return r.length=d,r}})},function(t,n,i){var r=i(2),o=i(57).some;r({target:"Array",proto:!0,forced:i(82)("some")},{some:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,n,i){var r=i(2),o=i(59),a=i(47),s=i(6),u=i(82),l=[].sort,c=[1,2,3],d=s((function(){c.sort(e)})),f=s((function(){c.sort(null)})),h=u("sort");r({target:"Array",proto:!0,forced:d||!f||h},{sort:function(t){return t===e?l.call(a(this)):l.call(a(this),o(t))}})},function(t,e,n){n(125)("Array")},function(t,e,n){var i=n(34),r=n(19),o=n(53),a=n(5),s=o("species");t.exports=function(t){var e=i(t);a&&e&&!e[s]&&(0,r.f)(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(2),r=n(41),o=n(40),a=n(39),s=n(47),u=n(60),l=n(76),c=n(77),d=Math.max,f=Math.min;i({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var n,i,c,h,p,g,v=s(this),m=a(v.length),y=r(t,m),b=arguments.length;if(0===b?n=i=0:i=1===b?(n=0,m-y):(n=b-2,f(d(o(e),0),m-y)),9007199254740991<m+n-i)throw TypeError("Maximum allowed length exceeded");for(c=u(v,i),h=0;h<i;h++)(p=y+h)in v&&l(c,h,v[p]);if(n<(c.length=i)){for(h=y;h<m-i;h++)g=h+n,(p=h+i)in v?v[g]=v[p]:delete v[g];for(h=m;m-i+n<h;h--)delete v[h-1]}else if(i<n)for(h=m-i;y<h;h--)g=h+n-1,(p=h+i-1)in v?v[g]=v[p]:delete v[g];for(h=0;h<n;h++)v[h+y]=arguments[h+2];return v.length=m-i+n,c}})},function(t,e,n){n(80)("flat")},function(t,e,n){n(80)("flatMap")},function(t,e,n){var i=n(2),r=n(3),o=n(130),a=n(125),s="ArrayBuffer",u=o[s];i({global:!0,forced:r[s]!==u},{ArrayBuffer:u}),a(s)},function(t,n,i){var r=i(3),o=i(5),a=i(131).NATIVE_ARRAY_BUFFER,s=i(18),u=i(132),l=i(6),c=i(133),d=i(40),f=i(39),h=i(134),p=i(36).f,g=i(19).f,v=i(84),m=i(56),y=i(27),b=y.get,_=y.set,w="ArrayBuffer",E="DataView",T="prototype",S="Wrong index",A=r[w],P=A,x=r[E],O=r.Math,I=r.RangeError,C=O.abs,R=O.pow,M=O.floor,k=O.log,L=O.LN2,D=function(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?R(2,-24)-R(2,-77):0,d=t<0||0===t&&1/t<0?1:0,f=0;for((t=C(t))!=t||t===1/0?(r=t!=t?1:0,i=u):(i=M(k(t)/L),t*(o=R(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+l?c/o:c*R(2,1-l))*o&&(i++,o/=2),u<=i+l?(r=0,i=u):1<=i+l?(r=(t*o-1)*R(2,e),i+=l):(r=t*R(2,l-1)*R(2,e),i=0));8<=e;a[f++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;0<s;a[f++]=255&i,i/=256,s-=8);return a[--f]|=128*d,a},N=function(t,e){var n,i=t.length,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=i-1,l=t[u--],c=127&l;for(l>>=7;0<s;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;0<s;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-1/0:1/0;n+=R(2,e),c-=a}return(l?-1:1)*n*R(2,c-e)},F=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},V=function(t){return[255&t]},U=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},j=function(t){return D(t,23,4)},G=function(t){return D(t,52,8)},H=function(t,e){g(t[T],e,{get:function(){return b(this)[e]}})},W=function(t,e,n,i){var r=h(+n),o=b(t);if(o.byteLength<r+e)throw I(S);var a=b(o.buffer).bytes,s=r+o.byteOffset,u=a.slice(s,s+e);return i?u:u.reverse()},$=function(t,e,n,i,r,o){var a=h(+n),s=b(t);if(s.byteLength<a+e)throw I(S);for(var u=b(s.buffer).bytes,l=a+s.byteOffset,c=i(+r),d=0;d<e;d++)u[l+d]=c[o?d:e-d-1]};if(a){if(!l((function(){A(1)}))||!l((function(){new A(-1)}))||l((function(){return new A,new A(1.5),new A(NaN),A.name!=w}))){for(var Y,z=(P=function(t){return c(this,P),new A(h(t))})[T]=A[T],K=p(A),q=0;q<K.length;)(Y=K[q++])in P||s(P,Y,A[Y]);z.constructor=P}var X=new x(new P(2)),Z=x[T].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(x[T],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},{unsafe:!0})}else P=function(t){c(this,P,w);var e=h(t);_(this,{bytes:v.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},x=function(t,n,i){c(this,x,E),c(t,P,E);var r=b(t).byteLength,a=d(n);if(a<0||r<a)throw I("Wrong offset");if(r<a+(i=i===e?r-a:f(i)))throw I("Wrong length");_(this,{buffer:t,byteLength:i,byteOffset:a}),o||(this.buffer=t,this.byteLength=i,this.byteOffset=a)},o&&(H(P,"byteLength"),H(x,"buffer"),H(x,"byteLength"),H(x,"byteOffset")),u(x[T],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var n=W(this,2,t,1<arguments.length?arguments[1]:e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=W(this,2,t,1<arguments.length?arguments[1]:e);return n[1]<<8|n[0]},getInt32:function(t){return F(W(this,4,t,1<arguments.length?arguments[1]:e))},getUint32:function(t){return F(W(this,4,t,1<arguments.length?arguments[1]:e))>>>0},getFloat32:function(t){return N(W(this,4,t,1<arguments.length?arguments[1]:e),23)},getFloat64:function(t){return N(W(this,8,t,1<arguments.length?arguments[1]:e),52)},setInt8:function(t,e){$(this,1,t,V,e)},setUint8:function(t,e){$(this,1,t,V,e)},setInt16:function(t,n){$(this,2,t,U,n,2<arguments.length?arguments[2]:e)},setUint16:function(t,n){$(this,2,t,U,n,2<arguments.length?arguments[2]:e)},setInt32:function(t,n){$(this,4,t,B,n,2<arguments.length?arguments[2]:e)},setUint32:function(t,n){$(this,4,t,B,n,2<arguments.length?arguments[2]:e)},setFloat32:function(t,n){$(this,4,t,j,n,2<arguments.length?arguments[2]:e)},setFloat64:function(t,n){$(this,8,t,G,n,2<arguments.length?arguments[2]:e)}});m(P,w),m(x,E),t.exports={ArrayBuffer:P,DataView:x}},function(t,n,i){var r,o=i(5),a=i(3),s=i(14),u=i(15),l=i(99),c=i(18),d=i(21),f=i(19).f,h=i(108),p=i(110),g=i(53),v=i(30),m=a.DataView,y=m&&m.prototype,b=a.Int8Array,_=b&&b.prototype,w=a.Uint8ClampedArray,E=w&&w.prototype,T=b&&h(b),S=_&&h(_),A=Object.prototype,P=A.isPrototypeOf,x=g("toStringTag"),O=v("TYPED_ARRAY_TAG"),I=!(!a.ArrayBuffer||!m),C=I&&!!p&&"Opera"!==l(a.opera),R=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k=function(t){return s(t)&&u(M,l(t))};for(r in M)a[r]||(C=!1);if((!C||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},C))for(r in M)a[r]&&p(a[r],T);if((!C||!S||S===A)&&(S=T.prototype,C))for(r in M)a[r]&&p(a[r].prototype,S);if(C&&h(E)!==S&&p(E,S),o&&!u(S,x))for(r in R=!0,f(S,x,{get:function(){return s(this)?this[O]:e}}),M)a[r]&&c(a[r],O,r);I&&p&&h(y)!==A&&p(y,A),t.exports={NATIVE_ARRAY_BUFFER:I,NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:R&&O,aTypedArray:function(t){if(k(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(P.call(T,t))return t}else for(var e in M)if(u(M,r)){var n=a[e];if(n&&(t===n||P.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,e,n){if(o){if(n)for(var i in M){var r=a[i];r&&u(r.prototype,t)&&delete r.prototype[t]}S[t]&&!n||d(S,t,n?e:C&&_[t]||e)}},exportStatic:function(t,e,n){var i,r;if(o){if(p){if(n)for(i in M)(r=a[i])&&u(r,t)&&delete r[t];if(T[t]&&!n)return;try{return d(T,t,n?e:C&&b[t]||e)}catch(t){}}for(i in M)!(r=a[i])||r[t]&&!n||d(r,t,e)}},isView:function(t){var e=l(t);return"DataView"===e||u(M,e)},isTypedArray:k,TypedArray:T,TypedArrayPrototype:S}},function(t,e,n){var i=n(21);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,n,i){var r=i(40),o=i(39);t.exports=function(t){if(t===e)return 0;var n=r(t),i=o(n);if(n!==i)throw RangeError("Wrong length or index");return i}},function(t,e,n){var i=n(2),r=n(131);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(t,n,i){var r=i(2),o=i(6),a=i(130),s=i(20),u=i(41),l=i(39),c=i(137),d=a.ArrayBuffer,f=a.DataView,h=d.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new d(2).slice(1,e).byteLength}))},{slice:function(t,n){if(h!==e&&n===e)return h.call(s(this),t);for(var i=s(this).byteLength,r=u(t,i),o=u(n===e?i:n,i),a=new(c(this,d))(l(o-r)),p=new f(this),g=new f(a),v=0;r<o;)g.setUint8(v++,p.getUint8(r++));return a}})},function(t,n,i){var r=i(20),o=i(59),a=i(53)("species");t.exports=function(t,n){var i,s=r(t).constructor;return s===e||(i=r(s)[a])==e?n:o(i)}},function(t,e,n){var i=n(2),r=n(130);i({global:!0,forced:!n(131).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(t,e,n){n(2)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var i=n(2),r=n(141);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(t,e,n){var i=n(6),r=n(142).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":9999<e?"+":"";return i+r(o(e),i?6:4,0)+"-"+r(t.getUTCMonth()+1,2,0)+"-"+r(t.getUTCDate(),2,0)+"T"+r(t.getUTCHours(),2,0)+":"+r(t.getUTCMinutes(),2,0)+":"+r(t.getUTCSeconds(),2,0)+"."+r(n,3,0)+"Z"}:u},function(t,n,i){var r=i(39),o=i(143),a=i(12),s=Math.ceil,u=function(t){return function(n,i,u){var l,c,d=String(a(n)),f=d.length,h=u===e?" ":String(u),p=r(i);return p<=f||""==h?d:((l=p-f)<(c=o.call(h,s(l/h.length))).length&&(c=c.slice(0,l)),t?d+c:c+d)}};t.exports={start:u(!1),end:u(!0)}},function(t,e,n){var i=n(40),r=n(12);t.exports="".repeat||function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(13);i({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(18),r=n(146),o=n(53)("toPrimitive"),a=Date.prototype;o in a||i(a,o,r)},function(t,e,n){var i=n(20),r=n(13);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!==t)}},function(t,e,n){var i=n(21),r=Date.prototype,o="Invalid Date",a="toString",s=r[a],u=r.getTime;new Date(NaN)+""!=o&&i(r,a,(function(){var t=u.call(this);return t==t?s.call(this):o}))},function(t,e,n){n(2)({target:"Function",proto:!0},{bind:n(149)})},function(t,e,n){var i=n(59),r=n(14),o=[].slice,a={};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),s=function(){var i=n.concat(o.call(arguments));return this instanceof s?function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)}(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){var i=n(14),r=n(19),o=n(108),a=n(53)("hasInstance"),s=Function.prototype;a in s||r.f(s,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(5),r=n(19).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!i||"name"in o||r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){n(2)({global:!0},{globalThis:n(3)})},function(t,e,n){var i=n(3);n(56)(i.JSON,"JSON",!0)},function(t,n,i){var r=i(155),o=i(160);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:e)}}),o,!0)},function(t,n,i){var r=i(2),o=i(3),a=i(44),s=i(21),u=i(156),l=i(158),c=i(133),d=i(14),f=i(6),h=i(100),p=i(56),g=i(159);t.exports=function(t,n,i,v,m){var y=o[t],b=y&&y.prototype,_=y,w=v?"set":"add",E={},T=function(t){var n=b[t];s(b,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!d(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!d(t)?e:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!d(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})};if(a(t,"function"!=typeof y||!(m||b.forEach&&!f((function(){(new y).entries().next()})))))_=i.getConstructor(n,t,v,w),u.REQUIRED=!0;else if(a(t,!0)){var S=new _,A=S[w](m?{}:-0,1)!=S,P=f((function(){S.has(1)})),x=h((function(t){new y(t)})),O=!m&&f((function(){for(var t=new y,e=5;e--;)t[w](e,e);return!t.has(-0)}));x||(((_=n((function(n,i){c(n,_,t);var r=g(new y,n,_);return i!=e&&l(i,r[w],r,v),r}))).prototype=b).constructor=_),(P||O)&&(T("delete"),T("has"),v&&T("get")),(O||A)&&T(w),m&&b.clear&&delete b.clear}return r({global:!0,forced:(E[t]=_)!=y},E),p(_,t),m||i.setStrong(_,t,v),_}},function(t,e,n){var i=n(31),r=n(14),o=n(15),a=n(19).f,s=n(30),u=n(157),l=s("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(t){a(t,l,{value:{objectID:"O"+ ++c,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},onFreeze:function(t){return u&&h.REQUIRED&&d(t)&&!o(t,l)&&f(t),t}};i[l]=!0},function(t,e,n){var i=n(6);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var i=n(20),r=n(96),o=n(39),a=n(58),s=n(98),u=n(95),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,d){var f,h,p,g,v,m,y,b=a(e,n,c?2:1);if(d)f=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(r(h)){for(p=0,g=o(t.length);p<g;p++)if((v=c?b(i(y=t[p])[0],y[1]):b(t[p]))&&v instanceof l)return v;return new l(!1)}f=h.call(t)}for(m=f.next;!(y=m.call(f)).done;)if("object"==typeof(v=u(f,b,y.value,c))&&v&&v instanceof l)return v;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,n){var i=n(14),r=n(110);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},function(t,n,i){var r=i(19).f,o=i(48),a=i(132),s=i(58),u=i(133),l=i(158),c=i(105),d=i(125),f=i(5),h=i(156).fastKey,p=i(27),g=p.set,v=p.getterFor;t.exports={getConstructor:function(t,n,i,c){var d=t((function(t,r){u(t,d,n),g(t,{type:n,index:o(null),first:e,last:e,size:0}),f||(t.size=0),r!=e&&l(r,t[c],t,i)})),p=v(n),m=function(t,n,i){var r,o,a=p(t),s=y(t,n);return s?s.value=i:(a.last=s={index:o=h(n,!0),key:n,value:i,previous:r=a.last,next:e,removed:!1},a.first||(a.first=s),r&&(r.next=s),f?a.size++:t.size++,"F"!==o&&(a.index[o]=s)),t},y=function(t,e){var n,i=p(t),r=h(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(d.prototype,{clear:function(){for(var t=p(this),n=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=e),delete n[i.index],i=i.next;t.first=t.last=e,f?t.size=0:this.size=0},delete:function(t){var e=p(this),n=y(this,t);if(n){var i=n.next,r=n.previous;delete e.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),e.first==n&&(e.first=i),e.last==n&&(e.last=r),f?e.size--:this.size--}return!!n},forEach:function(t){for(var n,i=p(this),r=s(t,1<arguments.length?arguments[1]:e,3);n=n?n.next:i.first;)for(r(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!y(this,t)}}),a(d.prototype,i?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(d.prototype,"size",{get:function(){return p(this).size}}),d},setStrong:function(t,n,i){var r=n+" Iterator",o=v(n),a=v(r);c(t,n,(function(t,n){g(this,{type:r,target:t,state:o(t),kind:n,last:e})}),(function(){for(var t=a(this),n=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==n?{value:i.key,done:!1}:"values"==n?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:{value:t.target=e,done:!0}}),i?"entries":"values",!i,!0),d(n)}}},function(t,e,n){var i=n(2),r=n(162),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;i({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?a(t)+u:r(t-1+s(t-1)*s(t+1))}})},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var i=n(2),r=Math.asinh,o=Math.log,a=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&0<1/r(0))},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,n){var i=n(2),r=Math.atanh,o=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var i=n(2),r=n(166),o=Math.abs,a=Math.pow;i({target:"Math",stat:!0},{cbrt:function(t){return r(t=+t)*a(o(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(2),r=Math.floor,o=Math.log,a=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-r(o(t+.5)*a):32}})},function(t,e,n){var i=n(2),r=n(169),o=Math.cosh,a=Math.abs,s=Math.E;i({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=r(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e){var n=Math.expm1,i=Math.exp;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:i(t)-1}:n},function(t,e,n){var i=n(2),r=n(169);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(t,e,n){n(2)({target:"Math",stat:!0},{fround:n(172)})},function(t,e,n){var i=n(166),r=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=r(t),c=i(t);return o<l?c*function(t){return t+1/a-1/a}(o/l/s)*l*s:u<(n=(e=(1+s/a)*o)-(e-o))||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(2),r=Math.hypot,o=Math.abs,a=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,s=0,u=arguments.length,l=0;s<u;)l<(n=o(arguments[s++]))?(r=r*(i=l/n)*i+1,l=n):r+=0<n?(i=n/l)*i:n;return l===1/0?1/0:l*a(r)}})},function(t,e,n){var i=n(2),r=n(6),o=Math.imul;i({target:"Math",stat:!0,forced:r((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,a=n&r;return 0|o*a+((n&i>>>16)*a+o*(n&r>>>16)<<16>>>0)}})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(t){return r(t)*o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{log1p:n(162)})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LN2;i({target:"Math",stat:!0},{log2:function(t){return r(t)/o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{sign:n(166)})},function(t,e,n){var i=n(2),r=n(6),o=n(169),a=Math.abs,s=Math.exp,u=Math.E;i({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,n){var i=n(2),r=n(169),o=Math.exp;i({target:"Math",stat:!0},{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n(56)(Math,"Math",!0)},function(t,e,n){var i=n(2),r=Math.ceil,o=Math.floor;i({target:"Math",stat:!0},{trunc:function(t){return(0<t?o:r)(t)}})},function(t,e,n){var i=n(5),r=n(3),o=n(44),a=n(21),s=n(15),u=n(11),l=n(159),c=n(13),d=n(6),f=n(48),h=n(36).f,p=n(4).f,g=n(19).f,v=n(184).trim,m="Number",y=r[m],b=y.prototype,_=u(f(b))==m,w=function(t){var e,n,i,r,o,a,s,u,l=c(t,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=v(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||r<u)return NaN;return parseInt(o,i)}return+l};if(o(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var E,T=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof T&&(_?d((function(){b.valueOf.call(n)})):u(n)!=m)?l(new y(w(e)),n,T):w(e)},S=i?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;A<S.length;A++)s(y,E=S[A])&&!s(T,E)&&g(T,E,p(y,E));a(r,m,(T.prototype=b).constructor=T)}},function(t,e,n){var i=n(12),r="["+n(185)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){n(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(2)({target:"Number",stat:!0},{isFinite:n(188)})},function(t,e,n){var i=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},function(t,e,n){n(2)({target:"Number",stat:!0},{isInteger:n(190)})},function(t,e,n){var i=n(14),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){n(2)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(2),r=n(190),o=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(2)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(2)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(2),r=n(196);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=r(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var i=n(2),r=n(198);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var n=r(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var i=n(2),r=n(40),o=n(200),a=n(143),s=n(6),u=1..toFixed,l=Math.floor,c=function(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)};i({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,n,i,s,u=o(this),d=r(t),f=[0,0,0,0,0,0],h="",p="0",g=function(t,e){for(var n=-1,i=e;++n<6;)f[n]=(i+=t*f[n])%1e7,i=l(i/1e7)},v=function(t){for(var e=6,n=0;0<=--e;)f[e]=l((n+=f[e])/t),n=n%t*1e7},m=function(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==f[t]){var n=String(f[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(d<0||20<d)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return String(u);if(u<0&&(h="-",u=-u),1e-21<u)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),n*=4503599627370496,0<(e=52-e)){for(g(0,n),i=d;7<=i;)g(1e7,0),i-=7;for(g(c(10,i,1),0),i=e-1;23<=i;)v(1<<23),i-=23;v(1<<i),g(1,1),v(2),p=m()}else g(0,n),g(1<<-e,0),p=m()+a.call("0",d);return 0<d?h+((s=p.length)<=d?"0."+a.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d)):h+p}})},function(t,e,n){var i=n(11);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},function(t,n,i){var r=i(2),o=i(6),a=i(200),s=1..toPrecision;r({target:"Number",proto:!0,forced:o((function(){return"1"!==s.call(1,e)}))||!o((function(){s.call({})}))},{toPrecision:function(t){return t===e?s.call(a(this)):s.call(a(this),t)}})},function(t,e,n){var i=n(2),r=n(203);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){var i=n(5),r=n(6),o=n(50),a=n(43),s=n(7),u=n(47),l=n(10),c=Object.assign;t.exports=!c||r((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||o(c({},e)).join("")!=i}))?function(t,e){for(var n=u(t),r=arguments.length,c=1,d=a.f,f=s.f;c<r;)for(var h,p=l(arguments[c++]),g=d?o(p).concat(d(p)):o(p),v=g.length,m=0;m<v;)h=g[m++],i&&!f.call(p,h)||(n[h]=p[h]);return n}:c},function(t,e,n){n(2)({target:"Object",stat:!0,sham:!n(5)},{create:n(48)})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(23),r=n(3),o=n(6);t.exports=i||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r[t]}))},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(49)})},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(19).f})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(2),r=n(211).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},function(t,e,n){var i=n(5),r=n(50),o=n(9),a=n(7).f,s=function(t){return function(e){for(var n,s=o(e),u=r(s),l=u.length,c=0,d=[];c<l;)n=u[c++],i&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var i=n(2),r=n(157),o=n(6),a=n(14),s=n(156).onFreeze,u=Object.freeze;i({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!r},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,n,i){var r=i(2),o=i(158),a=i(76);r({target:"Object",stat:!0},{fromEntries:function(t){var n={};return o(t,(function(t,e){a(n,t,e)}),e,!0),n}})},function(t,e,n){var i=n(2),r=n(6),o=n(9),a=n(4).f,s=n(5),u=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,n,i){var r=i(2),o=i(5),a=i(33),s=i(9),u=i(4),l=i(76);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var n,i,r=s(t),o=u.f,c=a(r),d={},f=0;f<c.length;)(i=o(r,n=c[f++]))!==e&&l(d,n,i);return d}})},function(t,e,n){var i=n(2),r=n(6),o=n(52).f;i({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(108),s=n(109);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(2)({target:"Object",stat:!0},{is:n(219)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isExtensible;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isFrozen;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isSealed;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(47),o=n(50);i({target:"Object",stat:!0,forced:n(6)((function(){o(1)}))},{keys:function(t){return o(r(t))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.get}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.set}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.seal;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){n(2)({target:"Object",stat:!0},{setPrototypeOf:n(110)})},function(t,e,n){var i=n(21),r=n(230),o=Object.prototype;r!==o.toString&&i(o,"toString",r,{unsafe:!0})},function(t,e,n){var i=n(99),r={};r[n(53)("toStringTag")]="z",t.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(t,e,n){var i=n(2),r=n(211).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,n){var i=n(2),r=n(196);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(2),r=n(198);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(t,n,i){var r,o,a,s,u=i(2),l=i(23),c=i(3),d=i(35),f=i(235),h=i(21),p=i(132),g=i(56),v=i(125),m=i(14),y=i(59),b=i(133),_=i(11),w=i(158),E=i(100),T=i(137),S=i(236).set,A=i(238),P=i(239),x=i(241),O=i(240),I=i(242),C=i(237),R=i(27),M=i(44),k=i(53)("species"),L="Promise",D=R.get,N=R.set,F=R.getterFor(L),V=f,U=c.TypeError,B=c.document,j=c.process,G=c.fetch,H=j&&j.versions,W=H&&H.v8||"",$=O.f,Y=$,z="process"==_(j),K=!!(B&&B.createEvent&&c.dispatchEvent),q="unhandledrejection",X=M(L,(function(){var t=V.resolve(1),e=function(){},n=(t.constructor={})[k]=function(t){t(e,e)};return!((z||"function"==typeof PromiseRejectionEvent)&&(!l||t.finally)&&t.then(e)instanceof n&&0!==W.indexOf("6.6")&&-1===C.indexOf("Chrome/66"))})),Z=X||!E((function(t){V.all(t).catch((function(){}))})),J=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;A((function(){for(var r=e.value,o=1==e.state,a=0;a<i.length;){var s,u,l,c=i[a++],d=o?c.ok:c.fail,f=c.resolve,h=c.reject,p=c.domain;try{d?(o||(2===e.rejection&&it(t,e),e.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),l=!0)),s===c.promise?h(U("Promise-chain cycle")):(u=J(s))?u.call(s,f,h):f(s)):h(r)}catch(t){p&&!l&&p.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&et(t,e)}))}},tt=function(t,e,n){var i,r;K?((i=B.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},(r=c["on"+t])?r(i):t===q&&x("Unhandled promise rejection",n)},et=function(t,e){S.call(c,(function(){var n,i=e.value;if(nt(e)&&(n=I((function(){z?j.emit("unhandledRejection",i,t):tt(q,t,i)})),e.rejection=z||nt(e)?2:1,n.error))throw n.value}))},nt=function(t){return 1!==t.rejection&&!t.parent},it=function(t,e){S.call(c,(function(){z?j.emit("rejectionHandled",t):tt("rejectionhandled",t,e.value)}))},rt=function(t,e,n,i){return function(r){t(e,n,r,i)}},ot=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,Q(t,e,!0))},at=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw U("Promise can't be resolved itself");var r=J(n);r?A((function(){var i={done:!1};try{r.call(n,rt(at,t,i,e),rt(ot,t,i,e))}catch(n){ot(t,i,n,e)}})):(e.value=n,e.state=1,Q(t,e,!1))}catch(n){ot(t,{done:!1},n,e)}}};X&&(V=function(t){b(this,V,L),y(t),r.call(this);var e=D(this);try{t(rt(at,this,e),rt(ot,this,e))}catch(t){ot(this,e,t)}},(r=function(t){N(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:e})}).prototype=p(V.prototype,{then:function(t,n){var i=F(this),r=$(T(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=z?j.domain:e,i.parent=!0,i.reactions.push(r),0!=i.state&&Q(this,i,!1),r.promise},catch:function(t){return this.then(e,t)}}),o=function(){var t=new r,e=D(t);this.promise=t,this.resolve=rt(at,t,e),this.reject=rt(ot,t,e)},O.f=$=function(t){return t===V||t===a?new o(t):Y(t)},l||"function"!=typeof f||(s=f.prototype.then,h(f.prototype,"then",(function(t,e){var n=this;return new V((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return P(V,G.apply(c,arguments))}}))),u({global:!0,wrap:!0,forced:X},{Promise:V}),g(V,L,!1,!0),v(L),a=d[L],u({target:L,stat:!0,forced:X},{reject:function(t){var n=$(this);return n.reject.call(e,t),n.promise}}),u({target:L,stat:!0,forced:l||X},{resolve:function(t){return P(l&&this===a?V:this,t)}}),u({target:L,stat:!0,forced:Z},{all:function(t){var n=this,i=$(n),r=i.resolve,o=i.reject,a=I((function(){var i=y(n.resolve),a=[],s=0,u=1;w(t,(function(t){var l=s++,c=!1;a.push(e),u++,i.call(n,t).then((function(t){c||(c=!0,a[l]=t,--u||r(a))}),o)})),--u||r(a)}));return a.error&&o(a.value),i.promise},race:function(t){var e=this,n=$(e),i=n.reject,r=I((function(){var r=y(e.resolve);w(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(t,e,n){var i=n(3);t.exports=i.Promise},function(t,n,i){var r,o,a,s=i(3),u=i(6),l=i(11),c=i(58),d=i(51),f=i(17),h=i(237),p=s.location,g=s.setImmediate,v=s.clearImmediate,m=s.process,y=s.MessageChannel,b=s.Dispatch,_=0,w={},E="onreadystatechange",T=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){T(t)}},A=function(t){T(t.data)},P=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};g&&v||(g=function(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);return w[++_]=function(){("function"==typeof t?t:Function(t)).apply(e,n)},r(_),_},v=function(t){delete w[t]},"process"==l(m)?r=function(t){m.nextTick(S(t))}:b&&b.now?r=function(t){b.now(S(t))}:y&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(a=(o=new y).port2,o.port1.onmessage=A,r=c(a.postMessage,a,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||u(P)?r=E in f("script")?function(t){d.appendChild(f("script"))[E]=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(S(t),0)}:(r=P,s.addEventListener("message",A,!1))),t.exports={set:g,clear:v}},function(t,e,n){var i=n(34);t.exports=i("navigator","userAgent")||""},function(t,n,i){var r,o,a,s,u,l,c,d,f=i(3),h=i(4).f,p=i(11),g=i(236).set,v=i(237),m=f.MutationObserver||f.WebKitMutationObserver,y=f.process,b=f.Promise,_="process"==p(y),w=h(f,"queueMicrotask"),E=w&&w.value;E||(r=function(){var t,n;for(_&&(t=y.domain)&&t.exit();o;){n=o.fn,o=o.next;try{n()}catch(t){throw o?s():a=e,t}}a=e,t&&t.enter()},s=_?function(){y.nextTick(r)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(v)?(u=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),function(){l.data=u=!u}):b&&b.resolve?(c=b.resolve(e),d=c.then,function(){d.call(c,r)}):function(){g.call(f,r)}),t.exports=E||function(t){var n={fn:t,next:e};a&&(a.next=n),o||(o=n,s()),a=n}},function(t,e,n){var i=n(20),r=n(14),o=n(240);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,n,i){var r=i(59),o=function(t){var n,i;this.promise=new t((function(t,r){if(n!==e||i!==e)throw TypeError("Bad Promise constructor");n=t,i=r})),this.resolve=r(n),this.reject=r(i)};t.exports.f=function(t){return new o(t)}},function(t,e,n){var i=n(3);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,n,i){var r=i(2),o=i(59),a=i(240),s=i(242),u=i(158);r({target:"Promise",stat:!0},{allSettled:function(t){var n=this,i=a.f(n),r=i.resolve,l=i.reject,c=s((function(){var i=o(n.resolve),a=[],s=0,l=1;u(t,(function(t){var o=s++,u=!1;a.push(e),l++,i.call(n,t).then((function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--l||r(a))}),(function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--l||r(a))}))})),--l||r(a)}));return c.error&&l(c.value),i.promise}})},function(t,e,n){var i=n(2),r=n(23),o=n(235),a=n(34),s=n(137),u=n(239),l=n(21);i({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(6),u=r("Reflect","apply"),l=Function.apply;i({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,n){return o(t),a(n),u?u(t,e,n):l.call(t,e,n)}})},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(14),u=n(48),l=n(149),c=n(6),d=r("Reflect","construct"),f=c((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),h=!c((function(){d((function(){}))})),p=f||h;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var r=n.prototype,c=u(s(r)?r:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(13),s=n(19);i({target:"Reflect",stat:!0,forced:n(6)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(t,e,n){o(t);var i=a(e,!0);o(n);try{return s.f(t,i,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(2),r=n(20),o=n(4).f;i({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(r(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,n,i){var r=i(2),o=i(14),a=i(20),s=i(15),u=i(4),l=i(108);r({target:"Reflect",stat:!0},{get:function t(n,i){var r,c,d=arguments.length<3?n:arguments[2];return a(n)===d?n[i]:(r=u.f(n,i))?s(r,"value")?r.value:r.get===e?e:r.get.call(d):o(c=l(n))?t(c,i,d):void 0}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(4);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var i=n(2),r=n(20),o=n(108);i({target:"Reflect",stat:!0,sham:!n(109)},{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var i=n(2),r=n(20),o=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{ownKeys:n(33)})},function(t,e,n){var i=n(2),r=n(34),o=n(20);i({target:"Reflect",stat:!0,sham:!n(157)},{preventExtensions:function(t){o(t);try{var e=r("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,n,i){var r=i(2),o=i(20),a=i(14),s=i(15),u=i(19),l=i(4),c=i(108),d=i(8);r({target:"Reflect",stat:!0},{set:function t(n,i,r){var f,h,p=arguments.length<4?n:arguments[3],g=l.f(o(n),i);if(!g){if(a(h=c(n)))return t(h,i,r,p);g=d(0)}if(s(g,"value")){if(!1===g.writable||!a(p))return!1;if(f=l.f(p,i)){if(f.get||f.set||!1===f.writable)return!1;f.value=r,u.f(p,i,f)}else u.f(p,i,d(0,r));return!0}return g.set!==e&&(g.set.call(p,r),!0)}})},function(t,e,n){var i=n(2),r=n(20),o=n(111),a=n(110);a&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){r(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,n,i){var r=i(5),o=i(3),a=i(44),s=i(159),u=i(19).f,l=i(36).f,c=i(259),d=i(260),f=i(21),h=i(6),p=i(125),g=i(53)("match"),v=o.RegExp,m=v.prototype,y=/a/g,b=/a/g,_=new v(y)!==y;if(r&&a("RegExp",!_||h((function(){return b[g]=!1,v(y)!=y||v(b)==b||"/a/i"!=v(y,"i")})))){for(var w=function(t,n){var i=this instanceof w,r=c(t),o=n===e;return!i&&r&&t.constructor===w&&o?t:s(_?new v(r&&!o?t.source:t,n):v((r=t instanceof w)?t.source:t,r&&o?d.call(t):n),i?this:m,w)},E=function(t){t in w||u(w,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},T=l(v),S=0;S<T.length;)E(T[S++]);(m.constructor=w).prototype=m,f(o,"RegExp",w)}p("RegExp")},function(t,n,i){var r=i(14),o=i(11),a=i(53)("match");t.exports=function(t){var n;return r(t)&&((n=t[a])!==e?!!n:"RegExp"==o(t))}},function(t,e,n){var i=n(20);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(2),r=n(262);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,n,i){var r,o,a=i(260),s=RegExp.prototype.exec,u=String.prototype.replace,l=s,c=(o=/b*/g,s.call(r=/a/,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=/()??/.exec("")[1]!==e;(c||d)&&(l=function(t){var n,i,r,o,l=this;return d&&(i=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),c&&(n=l.lastIndex),r=s.call(l,t),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:n),d&&r&&1<r.length&&u.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)arguments[o]===e&&(r[o]=e)})),r}),t.exports=l},function(t,e,n){var i=n(5),r=n(19),o=n(260);i&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,n,i){var r=i(21),o=i(20),a=i(6),s=i(260),u="toString",l=RegExp.prototype,c=l[u];!a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))&&c.name==u||r(RegExp.prototype,u,(function(){var t=o(this),n=String(t.source),i=t.flags;return"/"+n+"/"+String(i===e&&t instanceof RegExp&&!("flags"in l)?s.call(t):i)}),{unsafe:!0})},function(t,n,i){var r=i(155),o=i(160);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:e)}}),o)},function(t,e,n){var i=n(2),r=n(267).codeAt;i({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,n,i){var r=i(40),o=i(12),a=function(t){return function(n,i){var a,s,u=String(o(n)),l=r(i),c=u.length;return l<0||c<=l?t?"":e:(a=u.charCodeAt(l))<55296||56319<a||l+1===c||(s=u.charCodeAt(l+1))<56320||57343<s?t?u.charAt(l):a:t?u.slice(l,l+2):s-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,n,i){var r=i(2),o=i(39),a=i(269),s=i(12),u=i(270),l="".endsWith,c=Math.min;r({target:"String",proto:!0,forced:!u("endsWith")},{endsWith:function(t){var n=String(s(this));a(t);var i=1<arguments.length?arguments[1]:e,r=o(n.length),u=i===e?r:c(o(i),r),d=String(t);return l?l.call(n,d,u):n.slice(u-d.length,u)===d}})},function(t,e,n){var i=n(259);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(53)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var i=n(2),r=n(41),o=String.fromCharCode,a=String.fromCodePoint;i({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;a<i;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,n,i){var r=i(2),o=i(269),a=i(12);r({target:"String",proto:!0,forced:!i(270)("includes")},{includes:function(t){return!!~String(a(this)).indexOf(o(t),1<arguments.length?arguments[1]:e)}})},function(t,n,i){var r=i(267).charAt,o=i(27),a=i(105),s="String Iterator",u=o.set,l=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:String(t),index:0})}),(function(){var t,n=l(this),i=n.string,o=n.index;return i.length<=o?{value:e,done:!0}:(t=r(i,o),n.index+=t.length,{value:t,done:!1})}))},function(t,n,i){var r=i(275),o=i(20),a=i(39),s=i(12),u=i(276),l=i(277);r("match",1,(function(t,n,i){return[function(n){var i=s(this),r=n==e?e:n[t];return r!==e?r.call(n,i):new RegExp(n)[t](String(i))},function(t){var e=i(n,t,this);if(e.done)return e.value;var r=o(t),s=String(this);if(!r.global)return l(r,s);for(var c,d=r.unicode,f=[],h=r.lastIndex=0;null!==(c=l(r,s));){var p=String(c[0]);""===(f[h]=p)&&(r.lastIndex=u(s,a(r.lastIndex),d)),h++}return 0===h?null:f}]}))},function(t,e,n){var i=n(18),r=n(21),o=n(6),a=n(53),s=n(262),u=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=a(t),h=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=h&&!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e}));if(!h||!p||"replace"===t&&!l||"split"===t&&!c){var g=/./[f],v=n(f,""[t],(function(t,e,n,i,r){return e.exec===s?h&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),m=v[1];r(String.prototype,t,v[0]),r(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)}),d&&i(RegExp.prototype[f],"sham",!0)}}},function(t,e,n){var i=n(267).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i=n(11),r=n(262);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,n,i){var r=i(2),o=i(106),a=i(12),s=i(39),u=i(59),l=i(20),c=i(99),d=i(259),f=i(260),h=i(18),p=i(6),g=i(53),v=i(137),m=i(276),y=i(27),b=i(23),_=g("matchAll"),w="RegExp String",E=w+" Iterator",T=y.set,S=y.getterFor(E),A=RegExp.prototype,P=A.exec,x="".matchAll,O=!!x&&!p((function(){"a".matchAll(/./)})),I=o((function(t,e,n,i){T(this,{type:E,regexp:t,string:e,global:n,unicode:i,done:!1})}),w,(function(){var t=S(this);if(t.done)return{value:e,done:!0};var n=t.regexp,i=t.string,r=function(t,e){var n,i=t.exec;if("function"!=typeof i)return P.call(t,e);if("object"!=typeof(n=i.call(t,e)))throw TypeError("Incorrect exec result");return n}(n,i);return null===r?{value:e,done:t.done=!0}:t.global?(""==String(r[0])&&(n.lastIndex=m(i,s(n.lastIndex),t.unicode)),{value:r,done:!1}):{value:r,done:!(t.done=!0)}})),C=function(t){var n,i,r,o,a,u,c=l(this),d=String(t);return n=v(c,RegExp),(i=c.flags)===e&&c instanceof RegExp&&!("flags"in A)&&(i=f.call(c)),r=i===e?"":String(i),o=new n(n===RegExp?c.source:c,r),a=!!~r.indexOf("g"),u=!!~r.indexOf("u"),o.lastIndex=s(c.lastIndex),new I(o,d,a,u)};r({target:"String",proto:!0,forced:O},{matchAll:function(t){var n,i,r,o=a(this);if(null!=t){if(d(t)&&!~String(a("flags"in A?t.flags:f.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(O)return x.apply(o,arguments);if((i=t[_])===e&&b&&"RegExp"==c(t)&&(i=C),null!=i)return u(i).call(t,o)}else if(O)return x.apply(o,arguments);return n=String(o),r=new RegExp(t,"g"),b?C.call(r,n):r[_](n)}}),b||_ in A||h(A,_,C)},function(t,n,i){var r=i(2),o=i(142).end;r({target:"String",proto:!0,forced:i(280)},{padEnd:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(237);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(t,n,i){var r=i(2),o=i(142).start;r({target:"String",proto:!0,forced:i(280)},{padStart:function(t){return o(this,t,1<arguments.length?arguments[1]:e)}})},function(t,e,n){var i=n(2),r=n(9),o=n(39);i({target:"String",stat:!0},{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;s<n;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(2)({target:"String",proto:!0},{repeat:n(143)})},function(t,n,i){var r=i(275),o=i(20),a=i(47),s=i(39),u=i(40),l=i(12),c=i(276),d=i(277),f=Math.max,h=Math.min,p=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,n,i){return[function(i,r){var o=l(this),a=i==e?e:i[t];return a!==e?a.call(i,o,r):n.call(String(o),i,r)},function(t,a){var l=i(n,t,this,a);if(l.done)return l.value;var p=o(t),g=String(this),v="function"==typeof a;v||(a=String(a));var m=p.global;if(m){var y=p.unicode;p.lastIndex=0}for(var b=[];;){var _=d(p,g);if(null===_)break;if(b.push(_),!m)break;""===String(_[0])&&(p.lastIndex=c(g,s(p.lastIndex),y))}for(var w,E="",T=0,S=0;S<b.length;S++){_=b[S];for(var A=String(_[0]),P=f(h(u(_.index),g.length),0),x=[],O=1;O<_.length;O++)x.push((w=_[O])===e?w:String(w));var I=_.groups;if(v){var C=[A].concat(x,P,g);I!==e&&C.push(I);var R=String(a.apply(e,C))}else R=r(A,g,P,x,I,a);T<=P&&(E+=g.slice(T,P)+R,T=P+A.length)}return E+g.slice(T)}];function r(t,i,r,o,s,u){var l=r+t.length,c=o.length,d=v;return s!==e&&(s=a(s),d=g),n.call(u,d,(function(n,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,r);case"'":return i.slice(l);case"<":u=s[a.slice(1,-1)];break;default:var d=+a;if(0==d)return n;if(c<d){var f=p(d/10);return 0===f?n:f<=c?o[f-1]===e?a.charAt(1):o[f-1]+a.charAt(1):n}u=o[d-1]}return u===e?"":u}))}}))},function(t,n,i){var r=i(275),o=i(20),a=i(12),s=i(219),u=i(277);r("search",1,(function(t,n,i){return[function(n){var i=a(this),r=n==e?e:n[t];return r!==e?r.call(n,i):new RegExp(n)[t](String(i))},function(t){var e=i(n,t,this);if(e.done)return e.value;var r=o(t),a=String(this),l=r.lastIndex;s(l,0)||(r.lastIndex=0);var c=u(r,a);return s(r.lastIndex,l)||(r.lastIndex=l),null===c?-1:c.index}]}))},function(t,n,i){var r=i(275),o=i(259),a=i(20),s=i(12),u=i(137),l=i(276),c=i(39),d=i(277),f=i(262),h=i(6),p=[].push,g=Math.min,v=4294967295,m=!h((function(){return!RegExp(v,"y")}));r("split",2,(function(t,n,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,i){var r=String(s(this)),a=i===e?v:i>>>0;if(0==a)return[];if(t===e)return[r];if(!o(t))return n.call(r,t,a);for(var u,l,c,d=[],h=0,g=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(u=f.call(g,r))&&!(h<(l=g.lastIndex)&&(d.push(r.slice(h,u.index)),1<u.length&&u.index<r.length&&p.apply(d,u.slice(1)),c=u[0].length,h=l,a<=d.length));)g.lastIndex===u.index&&g.lastIndex++;return h===r.length?!c&&g.test("")||d.push(""):d.push(r.slice(h)),a<d.length?d.slice(0,a):d}:"0".split(e,0).length?function(t,i){return t===e&&0===i?[]:n.call(this,t,i)}:n,[function(n,i){var o=s(this),a=n==e?e:n[t];return a!==e?a.call(n,o,i):r.call(String(o),n,i)},function(t,o){var s=i(r,t,this,o,r!==n);if(s.done)return s.value;var f=a(t),h=String(this),p=u(f,RegExp),y=f.unicode,b=new p(m?f:"^(?:"+f.source+")",(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g")),_=o===e?v:o>>>0;if(0==_)return[];if(0===h.length)return null===d(b,h)?[h]:[];for(var w=0,E=0,T=[];E<h.length;){b.lastIndex=m?E:0;var S,A=d(b,m?h:h.slice(E));if(null===A||(S=g(c(b.lastIndex+(m?0:E)),h.length))===w)E=l(h,E,y);else{if(T.push(h.slice(w,E)),T.length===_)return T;for(var P=1;P<=A.length-1;P++)if(T.push(A[P]),T.length===_)return T;E=w=S}}return T.push(h.slice(w)),T}]}),!m)},function(t,n,i){var r=i(2),o=i(39),a=i(269),s=i(12),u=i(270),l="".startsWith,c=Math.min;r({target:"String",proto:!0,forced:!u("startsWith")},{startsWith:function(t){var n=String(s(this));a(t);var i=o(c(1<arguments.length?arguments[1]:e,n.length)),r=String(t);return l?l.call(n,r,i):n.slice(i,i+r.length)===r}})},function(t,e,n){var i=n(2),r=n(184).trim;i({target:"String",proto:!0,forced:n(289)("trim")},{trim:function(){return r(this)}})},function(t,e,n){var i=n(6),r=n(185);t.exports=function(t){return i((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},function(t,e,n){var i=n(2),r=n(184).end,o=n(289)("trimEnd"),a=o?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,n){var i=n(2),r=n(184).start,o=n(289)("trimStart"),a=o?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},function(t,e,n){var i=n(12),r=/"/g;t.exports=function(t,e,n,o){var a=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var i=n(6);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}))}},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("big")},{big:function(){return r(this,"big","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("blink")},{blink:function(){return r(this,"blink","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("bold")},{bold:function(){return r(this,"b","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontcolor")},{fontcolor:function(t){return r(this,"font","color",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontsize")},{fontsize:function(t){return r(this,"font","size",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("italics")},{italics:function(){return r(this,"i","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("link")},{link:function(t){return r(this,"a","href",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("small")},{small:function(){return r(this,"small","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("strike")},{strike:function(){return r(this,"strike","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sub")},{sub:function(){return r(this,"sub","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sup")},{sup:function(){return r(this,"sup","","")}})},function(t,e,n){n(308)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,n,i){var r=i(2),o=i(3),a=i(5),s=i(309),u=i(131),l=i(130),c=i(133),d=i(8),f=i(18),h=i(39),p=i(134),g=i(310),v=i(13),m=i(15),y=i(99),b=i(14),_=i(48),w=i(110),E=i(36).f,T=i(312),S=i(57).forEach,A=i(125),P=i(19),x=i(4),O=i(27),I=O.get,C=O.set,R=P.f,M=x.f,k=Math.round,L=o.RangeError,D=l.ArrayBuffer,N=l.DataView,F=u.NATIVE_ARRAY_BUFFER_VIEWS,V=u.TYPED_ARRAY_TAG,U=u.TypedArray,B=u.TypedArrayPrototype,j=u.aTypedArrayConstructor,G=u.isTypedArray,H="BYTES_PER_ELEMENT",W="Wrong length",$=function(t,e){for(var n=0,i=e.length,r=new(j(t))(i);n<i;)r[n]=e[n++];return r},Y=function(t,e){R(t,e,{get:function(){return I(this)[e]}})},z=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},K=function(t,e){return G(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},q=function(t,e){return K(t,e=v(e,!0))?d(2,t[e]):M(t,e)},X=function(t,e,n){return!(K(t,e=v(e,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(t,e,n):(t[e]=n.value,t)};t.exports=a?(F||(x.f=q,P.f=X,Y(B,"buffer"),Y(B,"byteOffset"),Y(B,"byteLength"),Y(B,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:q,defineProperty:X}),function(t,n,i,a){var u=t+(a?"Clamped":"")+"Array",l="get"+t,d="set"+t,v=o[u],m=v,y=m&&m.prototype,P={},x=function(t,e){R(t,e,{get:function(){return function(t,e){var i=I(t);return i.view[l](e*n+i.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var r=I(t);a&&(i=(i=k(i))<0?0:255<i?255:255&i),r.view[d](e*n+r.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};F?s&&(m=i((function(t,i,r,o){return c(t,m,u),b(i)?z(i)?o!==e?new v(i,g(r,n),o):r!==e?new v(i,g(r,n)):new v(i):G(i)?$(m,i):T.call(m,i):new v(p(i))})),w&&w(m,U),S(E(v),(function(t){t in m||f(m,t,v[t])})),m.prototype=y):(m=i((function(t,i,r,o){c(t,m,u);var a,s,l,d=0,f=0;if(b(i)){if(!z(i))return G(i)?$(m,i):T.call(m,i);a=i,f=g(r,n);var v=i.byteLength;if(o===e){if(v%n)throw L(W);if((s=v-f)<0)throw L(W)}else if(v<(s=h(o)*n)+f)throw L(W);l=s/n}else l=p(i),a=new D(s=l*n);for(C(t,{buffer:a,byteOffset:f,byteLength:s,length:l,view:new N(a)});d<l;)x(t,d++)})),w&&w(m,U),y=m.prototype=_(B)),y.constructor!==m&&f(y,"constructor",m),V&&f(y,V,u),r({global:!0,forced:(P[u]=m)!=v,sham:!F},P),H in m||f(m,H,n),H in y||f(y,H,n),A(u)}):function(){}},function(t,n,i){var r=i(3),o=i(6),a=i(100),s=i(131).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,l=r.Int8Array;t.exports=!s||!o((function(){l(1)}))||!o((function(){new l(-1)}))||!a((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||o((function(){return 1!==new l(new u(2),1,e).length}))},function(t,e,n){var i=n(311);t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var i=n(40);t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,n,i){var r=i(47),o=i(39),a=i(98),s=i(96),u=i(58),l=i(131).aTypedArrayConstructor;t.exports=function(t){var n,i,c,d,f,h,p=r(t),g=arguments.length,v=1<g?arguments[1]:e,m=v!==e,y=a(p);if(y!=e&&!s(y))for(h=(f=y.call(p)).next,p=[];!(d=h.call(f)).done;)p.push(d.value);for(m&&2<g&&(v=u(v,arguments[2],2)),i=o(p.length),c=new(l(this))(i),n=0;n<i;n++)c[n]=m?v(p[n],n):p[n];return c}},function(t,e,n){n(308)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(308)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,n,i){var r=i(131),o=i(79),a=r.aTypedArray;r.exportProto("copyWithin",(function(t,n){return o.call(a(this),t,n,2<arguments.length?arguments[2]:e)}))},function(t,n,i){var r=i(131),o=i(57).every,a=r.aTypedArray;r.exportProto("every",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,e,n){var i=n(131),r=n(84),o=i.aTypedArray;i.exportProto("fill",(function(t){return r.apply(o(this),arguments)}))},function(t,n,i){var r=i(131),o=i(57).filter,a=i(137),s=r.aTypedArray,u=r.aTypedArrayConstructor;r.exportProto("filter",(function(t){for(var n=o(s(this),t,1<arguments.length?arguments[1]:e),i=a(this,this.constructor),r=0,l=n.length,c=new(u(i))(l);r<l;)c[r]=n[r++];return c}))},function(t,n,i){var r=i(131),o=i(57).find,a=r.aTypedArray;r.exportProto("find",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,n,i){var r=i(131),o=i(57).findIndex,a=r.aTypedArray;r.exportProto("findIndex",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,n,i){var r=i(131),o=i(57).forEach,a=r.aTypedArray;r.exportProto("forEach",(function(t){o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,e,n){var i=n(309),r=n(131),o=n(312);r.exportStatic("from",o,i)},function(t,n,i){var r=i(131),o=i(38).includes,a=r.aTypedArray;r.exportProto("includes",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,n,i){var r=i(131),o=i(38).indexOf,a=r.aTypedArray;r.exportProto("indexOf",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,n,i){var r=i(3),o=i(131),a=i(104),s=i(53)("iterator"),u=r.Uint8Array,l=a.values,c=a.keys,d=a.entries,f=o.aTypedArray,h=o.exportProto,p=u&&u.prototype[s],g=!!p&&("values"==p.name||p.name==e),v=function(){return l.call(f(this))};h("entries",(function(){return d.call(f(this))})),h("keys",(function(){return c.call(f(this))})),h("values",v,!g),h(s,v,!g)},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].join;i.exportProto("join",(function(t){return o.apply(r(this),arguments)}))},function(t,e,n){var i=n(131),r=n(114),o=i.aTypedArray;i.exportProto("lastIndexOf",(function(t){return r.apply(o(this),arguments)}))},function(t,n,i){var r=i(131),o=i(57).map,a=i(137),s=r.aTypedArray,u=r.aTypedArrayConstructor;r.exportProto("map",(function(t){return o(s(this),t,1<arguments.length?arguments[1]:e,(function(t,e){return new(u(a(t,t.constructor)))(e)}))}))},function(t,e,n){var i=n(131),r=n(309),o=i.aTypedArrayConstructor;i.exportStatic("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);t<e;)n[t]=arguments[t++];return n}),r)},function(t,n,i){var r=i(131),o=i(118).left,a=r.aTypedArray;r.exportProto("reduce",(function(t){return o(a(this),t,arguments.length,1<arguments.length?arguments[1]:e)}))},function(t,n,i){var r=i(131),o=i(118).right,a=r.aTypedArray;r.exportProto("reduceRight",(function(t){return o(a(this),t,arguments.length,1<arguments.length?arguments[1]:e)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=Math.floor;i.exportProto("reverse",(function(){for(var t,e=r(this).length,n=o(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this}))},function(t,n,i){var r=i(131),o=i(39),a=i(310),s=i(47),u=i(6),l=r.aTypedArray,c=u((function(){new Int8Array(1).set({})}));r.exportProto("set",(function(t){l(this);var n=a(1<arguments.length?arguments[1]:e,1),i=this.length,r=s(t),u=o(r.length),c=0;if(i<u+n)throw RangeError("Wrong length");for(;c<u;)this[n+c]=r[c++]}),c)},function(t,e,n){var i=n(131),r=n(137),o=n(6),a=i.aTypedArray,s=i.aTypedArrayConstructor,u=[].slice,l=o((function(){new Int8Array(1).slice()}));i.exportProto("slice",(function(t,e){for(var n=u.call(a(this),t,e),i=r(this,this.constructor),o=0,l=n.length,c=new(s(i))(l);o<l;)c[o]=n[o++];return c}),l)},function(t,n,i){var r=i(131),o=i(57).some,a=r.aTypedArray;r.exportProto("some",(function(t){return o(a(this),t,1<arguments.length?arguments[1]:e)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].sort;i.exportProto("sort",(function(t){return o.call(r(this),t)}))},function(t,n,i){var r=i(131),o=i(39),a=i(41),s=i(137),u=r.aTypedArray;r.exportProto("subarray",(function(t,n){var i=u(this),r=i.length,l=a(t,r);return new(s(i,i.constructor))(i.buffer,i.byteOffset+l*i.BYTES_PER_ELEMENT,o((n===e?r:a(n,r))-l))}))},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Int8Array,s=r.aTypedArray,u=[].toLocaleString,l=[].slice,c=!!a&&o((function(){u.call(new a(1))})),d=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));r.exportProto("toLocaleString",(function(){return u.apply(c?l.call(s(this)):s(this),arguments)}),d)},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Uint8Array,s=a&&a.prototype,u=[].toString,l=[].join;o((function(){u.call({})}))&&(u=function(){return l.call(this)}),r.exportProto("toString",u,(s||{}).toString!=u)},function(t,n,i){var r,o=i(3),a=i(132),s=i(156),u=i(155),l=i(347),c=i(14),d=i(27).enforce,f=i(28),h=!o.ActiveXObject&&"ActiveXObject"in o,p=Object.isExtensible,g=function(t){return function(){return t(this,arguments.length?arguments[0]:e)}},v=t.exports=u("WeakMap",g,l,!0,!0);if(f&&h){r=l.getConstructor(g,"WeakMap",!0),s.REQUIRED=!0;var m=v.prototype,y=m.delete,b=m.has,_=m.get,w=m.set;a(m,{delete:function(t){if(!c(t)||p(t))return y.call(this,t);var e=d(this);return e.frozen||(e.frozen=new r),y.call(this,t)||e.frozen.delete(t)},has:function(t){if(!c(t)||p(t))return b.call(this,t);var e=d(this);return e.frozen||(e.frozen=new r),b.call(this,t)||e.frozen.has(t)},get:function(t){if(!c(t)||p(t))return _.call(this,t);var e=d(this);return e.frozen||(e.frozen=new r),b.call(this,t)?_.call(this,t):e.frozen.get(t)},set:function(t,e){if(c(t)&&!p(t)){var n=d(this);n.frozen||(n.frozen=new r),b.call(this,t)?w.call(this,t,e):n.frozen.set(t,e)}else w.call(this,t,e);return this}})}},function(t,n,i){var r=i(132),o=i(156).getWeakData,a=i(20),s=i(14),u=i(133),l=i(158),c=i(57),d=i(15),f=i(27),h=f.set,p=f.getterFor,g=c.find,v=c.findIndex,m=0,y=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},_=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,n,i,c){var f=t((function(t,r){u(t,f,n),h(t,{type:n,id:m++,frozen:e}),r!=e&&l(r,t[c],t,i)})),g=p(n),v=function(t,e,n){var i=g(t),r=o(a(e),!0);return!0===r?y(i).set(e,n):r[i.id]=n,t};return r(f.prototype,{delete:function(t){var e=g(this);if(!s(t))return!1;var n=o(t);return!0===n?y(e).delete(t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!s(t))return!1;var n=o(t);return!0===n?y(e).has(t):n&&d(n,e.id)}}),r(f.prototype,i?{get:function(t){var n=g(this);if(s(t)){var i=o(t);return!0===i?y(n).get(t):i?i[n.id]:e}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),f}}},function(t,n,i){i(155)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:e)}}),i(347),!1,!0)},function(t,n,i){var r=i(2),o=i(5),a=i(108),s=i(110),u=i(48),l=i(19),c=i(8),d=i(158),f=i(18),h=i(20),p=i(27),g=p.set,v=p.getterFor("AggregateError"),m=function(t,n){var i=this;if(!(i instanceof m))return new m(t,n);s&&(i=s(new Error(n),a(i)));var r=[];return d(t,r.push,r),o?g(i,{errors:r,type:"AggregateError"}):i.errors=r,n!==e&&f(i,"message",String(n)),i};m.prototype=u(Error.prototype,{constructor:c(5,m),message:c(5,""),name:c(5,"AggregateError"),toString:c(5,(function(){var t=h(this).name;t=t===e?"AggregateError":String(t);var n=this.message;return t+": "+(n===e?"":String(n))}))}),o&&l.f(m.prototype,"errors",{get:function(){return v(this).errors},configurable:!0}),r({global:!0},{AggregateError:m})},function(t,e,n){var i=n(2),r=n(46),o=Object.isFrozen,a=function(t,e){if(!o||!r(t)||!o(t))return!1;for(var n,i=0,a=t.length;i<a;)if(!("string"==typeof(n=t[i++])||e&&void 0===n))return!1;return 0!==a};i({target:"Array",stat:!0},{isTemplateObject:function(t){if(!a(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!a(e,!1))}})},function(t,e,n){var i=n(5),r=n(80),o=n(47),a=n(39),s=n(19).f;!i||"lastIndex"in[]||(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),r("lastIndex"))},function(t,n,i){var r=i(5),o=i(80),a=i(47),s=i(39),u=i(19).f;!r||"lastItem"in[]||(u(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=a(this),n=s(t.length);return 0==n?e:t[n-1]},set:function(t){var e=a(this),n=s(e.length);return e[0==n?0:n-1]=t}}),o("lastItem"))},function(t,e,n){var i=n(2),r=n(133),o=n(18),a=n(15),s=n(53),u=n(354),l=n(23),c=s("toStringTag"),d=function(){r(this,d)};a(d.prototype=u,c)||o(u,c,"AsyncIterator"),i({global:!0,forced:l},{AsyncIterator:d})},function(t,e,n){var i,r,o=n(3),a=n(24),s=n(108),u=n(15),l=n(18),c=n(53),d=n(23),f="USE_FUNCTION_CONSTRUCTOR",h=c("asyncIterator"),p=o.AsyncIterator,g=a.AsyncIteratorPrototype;if(!d)if(g)i=g;else if("function"==typeof p)i=p.prototype;else if(a[f]||o[f])try{s(r=s(s(s(Function("return async function*(){}()")()))))===Object.prototype&&(i=r)}catch(t){}u(i=i||{},h)||l(i,h,(function(){return this})),t.exports=i},function(t,n,i){var r=i(2),o=i(20),a=i(356)((function(t,n){var i=this;return n.resolve(o(i.next.call(i.iterator,t))).then((function(t){return o(t).done?{done:i.done=!0,value:e}:{done:!1,value:[i.index++,t.value]}}))}));r({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new a({iterator:o(this),index:0})}})},function(t,n,i){var r=i(35),o=i(59),a=i(20),s=i(48),u=i(18),l=i(132),c=i(53),d=i(27),f=i(34)("Promise"),h=d.set,p=d.get,g=c("toStringTag"),v=function(t){var n=p(this).iterator,i=n.return;return i===e?f.resolve({done:!0,value:t}):a(i.call(n,t))},m=function(t){var n=p(this).iterator,i=n.throw;return i===e?f.reject(t):i.call(n,t)};t.exports=function(t,n){var i=function(t){t.next=o(t.iterator.next),t.done=!1,h(this,t)};return i.prototype=l(s(r.AsyncIterator.prototype),{next:function(n){var i=p(this);if(i.done)return f.resolve({done:!0,value:e});try{return f.resolve(a(t.call(i,n,f)))}catch(t){return f.reject(t)}},return:v,throw:m}),n||u(i.prototype,g,"Generator"),i}},function(t,n,i){var r=i(2),o=i(20),a=i(311),s=i(356)((function(t,n){var i=this;return new n((function(r,a){var s=function(){try{n.resolve(o(i.next.call(i.iterator,i.remaining?e:t))).then((function(t){try{o(t).done?r({done:i.done=!0,value:e}):i.remaining?(i.remaining--,s()):r({done:!1,value:t.value})}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}));r({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new s({iterator:o(this),remaining:a(t)})}})},function(t,e,n){var i=n(2),r=n(359).every;i({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return r(this,t)}})},function(t,n,i){var r=i(59),o=i(20),a=i(34)("Promise"),s=[].push,u=function(t){var n=0==t,i=1==t,u=2==t,l=3==t;return function(t,c){o(t);var d=r(t.next),f=n?[]:e;return n||r(c),new a((function(r,h){var p=function(){try{a.resolve(o(d.call(t))).then((function(t){try{if(o(t).done)r(n?f:!l&&(u||e));else{var d=t.value;n?(s.call(f,d),p()):a.resolve(c(d)).then((function(t){i?p():u?t?p():r(!1):t?r(l||d):p()}),h)}}catch(t){h(t)}}),h)}catch(t){h(t)}};p()}))}};t.exports={toArray:u(0),forEach:u(1),every:u(2),some:u(3),find:u(4)}},function(t,n,i){var r=i(2),o=i(59),a=i(20),s=i(356)((function(t,n){var i=this,r=i.filterer;return new n((function(o,s){var u=function(){try{n.resolve(a(i.next.call(i.iterator,t))).then((function(t){try{if(a(t).done)o({done:i.done=!0,value:e});else{var l=t.value;n.resolve(r(l)).then((function(t){t?o({done:!1,value:l}):u()}),s)}}catch(t){s(t)}}),s)}catch(t){s(t)}};u()}))}));r({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new s({iterator:a(this),filterer:o(t)})}})},function(t,e,n){var i=n(2),r=n(359).find;i({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return r(this,t)}})},function(t,n,i){var r=i(2),o=i(59),a=i(20),s=i(14),u=i(356),l=i(363),c=u((function(t,n){var i,r,u=this,c=u.mapper;return new n((function(d,f){var h=function(){try{n.resolve(a(u.next.call(u.iterator,t))).then((function(t){try{a(t).done?d({done:u.done=!0,value:e}):n.resolve(c(t.value)).then((function(t){try{if(s(t)&&(r=l(t))!==e)return u.innerIterator=i=r.call(t),u.innerNext=o(i.next),p();d({done:!1,value:t})}catch(t){f(t)}}),f)}catch(t){f(t)}}),f)}catch(t){f(t)}},p=function(){if(i=u.innerIterator)try{n.resolve(a(u.innerNext.call(i))).then((function(t){try{a(t).done?(u.innerIterator=u.innerNext=null,h()):d({done:!1,value:t.value})}catch(t){f(t)}}),f)}catch(t){f(t)}else h()};p()}))}));r({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new c({iterator:a(this),mapper:o(t),innerIterator:null,innerNext:null})}})},function(t,n,i){var r=i(98),o=i(53)("asyncIterator");t.exports=function(t){var n=t[o];return n===e?r(t):n}},function(t,e,n){var i=n(2),r=n(359).forEach;i({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(356),l=n(363),c=r.AsyncIterator,d=u((function(t){return a(this.next.call(this.iterator,t))}),!0);i({target:"AsyncIterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,n,i){var r=i(2),o=i(59),a=i(20),s=i(356)((function(t,n){var i=this,r=i.mapper;return n.resolve(a(i.next.call(i.iterator,t))).then((function(t){return a(t).done?{done:i.done=!0,value:e}:n.resolve(r(t.value)).then((function(t){return{done:!1,value:t}}))}))}));r({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new s({iterator:a(this),mapper:o(t)})}})},function(t,n,i){var r=i(2),o=i(59),a=i(20),s=i(34)("Promise");r({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var n=a(this),i=o(n.next),r=arguments.length<2,u=r?e:arguments[1];return o(t),new s((function(e,o){var l=function(){try{s.resolve(a(i.call(n))).then((function(n){try{if(a(n).done)r?o(TypeError("Reduce of empty iterator with no initial value")):e(u);else{var i=n.value;r?(r=!1,u=i,l()):s.resolve(t(u,i)).then((function(t){u=t,l()}),o)}}catch(t){o(t)}}),o)}catch(t){o(t)}};l()}))}})},function(t,e,n){var i=n(2),r=n(359).some;i({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return r(this,t)}})},function(t,n,i){var r=i(2),o=i(20),a=i(311),s=i(356)((function(t){return this.remaining--?this.next.call(this.iterator,t):{done:this.done=!0,value:e}}));r({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new s({iterator:o(this),remaining:a(t)})}})},function(t,e,n){var i=n(2),r=n(359).toArray;i({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return r(this)}})},function(t,e,n){var i=n(2),r=n(372),o=n(34),a=n(48),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};i({global:!0},{compositeKey:function(){return r.apply(Object,arguments).get("object",s)}})},function(t,e,n){var i=n(154),r=n(346),o=n(48),a=n(14),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,n){var o=n?this.objectsByIndex[t]||(this.objectsByIndex[t]=new r):this.primitives||(this.primitives=new i),a=o.get(e);return a||o.set(e,a=new s),a};var u=new s;t.exports=function(){var t,e,n=u,i=arguments.length;for(t=0;t<i;t++)a(e=arguments[t])&&(n=n.next(t,e,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<i;t++)a(e=arguments[t])||(n=n.next(t,e,!1));return n}},function(t,e,n){var i=n(2),r=n(372),o=n(34);i({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):r.apply(null,arguments).get("symbol",o("Symbol"))}})},function(t,e,n){n(152)},function(t,e,n){var i=n(2),r=n(3),o=n(133),a=n(18),s=n(15),u=n(53),l=n(107).IteratorPrototype,c=n(23),d=u("iterator"),f=u("toStringTag"),h=r.Iterator,p=c||"function"!=typeof h||h.prototype!==l,g=function(){o(this,g)};c&&a(l={},d,(function(){return this})),s(l,f)||a(l,f,"Iterator"),g.prototype=l,i({global:!0,forced:p},{Iterator:g})},function(t,e,n){var i=n(2),r=n(20),o=n(377)((function(t){var e=r(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value]}));i({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,n,i){var r=i(35),o=i(59),a=i(20),s=i(48),u=i(18),l=i(132),c=i(53),d=i(27),f=d.set,h=d.get,p=c("toStringTag"),g=function(t){var n=h(this).iterator,i=n.return;return i===e?{done:!0,value:t}:a(i.call(n,t))},v=function(t){var n=h(this).iterator,i=n.throw;if(i===e)throw t;return i.call(n,t)};t.exports=function(t,n){var i=function(t){t.next=o(t.iterator.next),t.done=!1,f(this,t)};return i.prototype=l(s(r.Iterator.prototype),{next:function(){var n=h(this),i=n.done?e:t.apply(n,arguments);return{done:n.done,value:i}},return:g,throw:v}),n||u(i.prototype,p,"Generator"),i}},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){for(var e,n=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=r(i.call(n)),this.done=!!e.done)return;if(e=r(i.call(n,t)),!(this.done=!!e.done))return e.value}));i({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,n,i){var r=i(2),o=i(158),a=i(59),s=i(20);r({target:"Iterator",proto:!0,real:!0},{every:function(t){return s(this),a(t),!o(this,(function(e){if(!t(e))return o.stop()}),e,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){for(var e,n,i=this.iterator,r=this.filterer,a=this.next;;){if(e=o(a.call(i,t)),this.done=!!e.done)return;if(s(i,r,n=e.value))return n}}));i({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new u({iterator:o(this),filterer:r(t)})}})},function(t,n,i){var r=i(2),o=i(158),a=i(59),s=i(20);r({target:"Iterator",proto:!0,real:!0},{find:function(t){return s(this),a(t),o(this,(function(e){if(t(e))return o.stop(e)}),e,!1,!0).result}})},function(t,n,i){var r=i(2),o=i(59),a=i(20),s=i(14),u=i(98),l=i(377),c=i(95),d=l((function(t){for(var n,i,r,l,d=this.iterator;;){if(l=this.innerIterator){if(!(n=a(this.innerNext.call(l))).done)return n.value;this.innerIterator=this.innerNext=null}if(n=a(this.next.call(d,t)),this.done=!!n.done)return;if(i=c(d,this.mapper,n.value),!s(i)||(r=u(i))===e)return i;this.innerIterator=l=r.call(i),this.innerNext=o(l.next)}}));r({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new d({iterator:a(this),mapper:o(t),innerIterator:null,innerNext:null})}})},function(t,n,i){var r=i(2),o=i(158),a=i(20);r({target:"Iterator",proto:!0,real:!0},{forEach:function(t){o(a(this),t,e,!1,!0)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(377),l=n(98),c=r.Iterator,d=u((function(t){var e=a(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return e.value}),!0);i({target:"Iterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){var e=this.iterator,n=o(this.next.call(e,t));if(!(this.done=!!n.done))return s(e,this.mapper,n.value)}));i({target:"Iterator",proto:!0,real:!0},{map:function(t){return new u({iterator:o(this),mapper:r(t)})}})},function(t,n,i){var r=i(2),o=i(158),a=i(59),s=i(20);r({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),a(t);var n=arguments.length<2,i=n?e:arguments[1];if(o(this,(function(e){i=n?(n=!1,e):t(i,e)}),e,!1,!0),n)throw TypeError("Reduce of empty iterator with no initial value");return i}})},function(t,n,i){var r=i(2),o=i(158),a=i(59),s=i(20);r({target:"Iterator",proto:!0,real:!0},{some:function(t){return s(this),a(t),o(this,(function(e){if(t(e))return o.stop()}),e,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){if(this.remaining--){var e=r(this.next.call(this.iterator,t));return(this.done=!!e.done)?void 0:e.value}this.done=!0}));i({target:"Iterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(20),a=[].push;i({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return r(o(this),a,t,!1,!0),t}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t,e=i(this),n=r(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),o=o&&t;return!!o}},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(393),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{every:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return!l(i,(function(t,e){if(!r(e,t,n))return l.stop()}),e,!0,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Map.prototype.entries.call(t)}},function(t,e,n){var i=n(20),r=n(98);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(58),c=i(137),d=i(393),f=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{filter:function(t){var n=s(this),i=d(n),r=l(t,1<arguments.length?arguments[1]:e,3),o=new(c(n,a("Map"))),h=u(o.set);return f(i,(function(t,e){r(e,t,n)&&h.call(o,t,e)}),e,!0,!0),o}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(393),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{find:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return l(i,(function(t,e){if(r(e,t,n))return l.stop(e)}),e,!0,!0).result}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(393),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{findKey:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return l(i,(function(t,e){if(r(e,t,n))return l.stop(t)}),e,!0,!0).result}})},function(t,e,n){n(2)({target:"Map",stat:!0},{from:n(399)})},function(t,n,i){var r=i(59),o=i(58),a=i(158);t.exports=function(t){var n,i,s,u,l=arguments.length,c=1<l?arguments[1]:e;return r(this),(n=c!==e)&&r(c),t==e?new this:(i=[],n?(s=0,u=o(c,2<l?arguments[2]:e,2),a(t,(function(t){i.push(u(t,s++))}))):a(t,i.push,i),new this(i))}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var i=o(n.has),a=o(n.get),s=o(n.set);return r(t,(function(t){var r=e(t);i.call(n,r)?a.call(n,r).push(t):s.call(n,r,[t])})),n}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(393),u=i(402),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{includes:function(t){return l(s(a(this)),(function(e,n){if(u(n,t))return l.stop()}),e,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var i=o(n.set);return r(t,(function(t){i.call(n,e(t),t)})),n}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(393),u=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function(t){return u(s(a(this)),(function(e,n){if(n===t)return u.stop(e)}),e,!0,!0).result}})},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(58),c=i(137),d=i(393),f=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(t){var n=s(this),i=d(n),r=l(t,1<arguments.length?arguments[1]:e,3),o=new(c(n,a("Map"))),h=u(o.set);return f(i,(function(t,e){h.call(o,r(e,t,n),e)}),e,!0,!0),o}})},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(58),c=i(137),d=i(393),f=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(t){var n=s(this),i=d(n),r=l(t,1<arguments.length?arguments[1]:e,3),o=new(c(n,a("Map"))),h=u(o.set);return f(i,(function(t,e){h.call(o,t,r(e,t,n))}),e,!0,!0),o}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{merge:function(t){for(var e=o(this),n=a(e.set),i=0;i<arguments.length;)s(arguments[i++],n,e,!0);return e}})},function(t,e,n){n(2)({target:"Map",stat:!0},{of:n(409)})},function(t,e,n){t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(59),u=i(393),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(t){var n=a(this),i=u(n),r=arguments.length<2,o=r?e:arguments[1];if(s(t),l(i,(function(e,i){o=r?(r=!1,i):t(o,i,e,n)}),e,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return o}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(393),l=i(158);r({target:"Map",proto:!0,real:!0,forced:o},{some:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return l(i,(function(t,e){if(r(e,t,n))return l.stop()}),e,!0,!0).stopped}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(59);r({target:"Map",proto:!0,real:!0,forced:o},{update:function(t,n){var i=a(this),r=arguments.length;s(n);var o=i.has(t);if(!o&&r<3)throw TypeError("Updating absent value");var u=o?i.get(t):s(2<r?arguments[2]:e)(t,i);return i.set(t,n(u,t,i)),i}})},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{updateOrInsert:n(414)})},function(t,n,i){var r=i(20);t.exports=function(t,n){var i,o=r(this),a=2<arguments.length?arguments[2]:e;if("function"!=typeof n&&"function"!=typeof a)throw TypeError("At least one callback required");return o.has(t)?(i=o.get(t),"function"==typeof n&&(i=n(i),o.set(t,i))):"function"==typeof a&&(i=a(),o.set(t,i)),i}},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=Math.min,o=Math.max;i({target:"Math",stat:!0},{clamp:function(t,e,n){return r(n,o(e,t))}})},function(t,e,n){n(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(2),r=180/Math.PI;i({target:"Math",stat:!0},{degrees:function(t){return t*r}})},function(t,e,n){var i=n(2),r=n(420),o=n(172);i({target:"Math",stat:!0},{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){n(2)({target:"Math",stat:!0},{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(2),r=Math.PI/180;i({target:"Math",stat:!0},{radians:function(t){return t*r}})},function(t,e,n){n(2)({target:"Math",stat:!0},{scale:n(420)})},function(t,e,n){var i=n(2),r=n(20),o=n(188),a=n(106),s=n(27),u="Seeded Random",l=u+" Generator",c=s.set,d=s.getterFor(l),f=a((function(t){c(this,{type:l,seed:t%2147483647})}),u,(function(){var t=d(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}}));i({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=r(t).seed;if(!o(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new f(e)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,n){n(2)({target:"Math",stat:!0},{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,n,i){var r=i(2),o=i(40),a=i(198),s="Invalid number representation",u=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(t,n){var i,r,l=1;if("string"!=typeof t)throw TypeError(s);if(!t.length)throw SyntaxError(s);if("-"==t.charAt(0)&&(l=-1,!(t=t.slice(1)).length))throw SyntaxError(s);if((i=n===e?10:o(n))<2||36<i)throw RangeError("Invalid radix");if(!u.test(t)||(r=a(t,i)).toString(i)!==t)throw SyntaxError(s);return l*r}})},function(t,n,i){var r=i(2),o=i(5),a=i(125),s=i(59),u=i(20),l=i(14),c=i(133),d=i(19).f,f=i(18),h=i(132),p=i(394),g=i(158),v=i(241),m=i(53),y=i(27),b=m("observable"),_=y.get,w=y.set,E=function(t){return null==t?e:s(t)},T=function(t){var n=t.cleanup;if(n){t.cleanup=e;try{n()}catch(t){v(t)}}},S=function(t){return t.observer===e},A=function(t,n){if(!o){t.closed=!0;var i=n.subscriptionObserver;i&&(i.closed=!0)}n.observer=e},P=function(t,n){var i,r=w(this,{cleanup:e,observer:u(t),subscriptionObserver:e});o||(this.closed=!1);try{(i=E(t.start))&&i.call(t,this)}catch(t){v(t)}if(!S(r)){var a=r.subscriptionObserver=new x(this);try{var l=n(a),c=l;null!=l&&(r.cleanup="function"==typeof l.unsubscribe?function(){c.unsubscribe()}:s(l))}catch(t){return void a.error(t)}S(r)&&T(r)}};P.prototype=h({},{unsubscribe:function(){var t=_(this);S(t)||(A(this,t),T(t))}}),o&&d(P.prototype,"closed",{configurable:!0,get:function(){return S(_(this))}});var x=function(t){w(this,{subscription:t}),o||(this.closed=!1)};x.prototype=h({},{next:function(t){var e=_(_(this).subscription);if(!S(e)){var n=e.observer;try{var i=E(n.next);i&&i.call(n,t)}catch(t){v(t)}}},error:function(t){var e=_(this).subscription,n=_(e);if(!S(n)){var i=n.observer;A(e,n);try{var r=E(i.error);r?r.call(i,t):v(t)}catch(t){v(t)}T(n)}},complete:function(){var t=_(this).subscription,e=_(t);if(!S(e)){var n=e.observer;A(t,e);try{var i=E(n.complete);i&&i.call(n)}catch(t){v(t)}T(e)}}}),o&&d(x.prototype,"closed",{configurable:!0,get:function(){return S(_(_(this).subscription))}});var O=function(t){c(this,O,"Observable"),w(this,{subscriber:s(t)})};h(O.prototype,{subscribe:function(t){var n=arguments.length;return new P("function"==typeof t?{next:t,error:1<n?arguments[1]:e,complete:2<n?arguments[2]:e}:l(t)?t:{},_(this).subscriber)}}),h(O,{from:function(t){var n="function"==typeof this?this:O,i=E(u(t)[b]);if(i){var r=u(i.call(t));return r.constructor===n?r:new n((function(t){return r.subscribe(t)}))}var o=p(t);return new n((function(t){g(o,(function(e){if(t.next(e),t.closed)return g.stop()}),e,!1,!0),t.complete()}))},of:function(){for(var t="function"==typeof this?this:O,e=arguments.length,n=new Array(e),i=0;i<e;)n[i]=arguments[i++];return new t((function(t){for(var i=0;i<e;i++)if(t.next(n[i]),t.closed)return;t.complete()}))}}),f(O.prototype,b,(function(){return this})),r({global:!0},{Observable:O}),a("Observable")},function(t,e,n){n(243)},function(t,n,i){var r=i(2),o=i(59),a=i(34),s=i(240),u=i(242),l=i(158),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var n=this,i=s.f(n),r=i.resolve,d=i.reject,f=u((function(){var i=o(n.resolve),s=[],u=0,f=1,h=!1;l(t,(function(t){var o=u++,l=!1;s.push(e),f++,i.call(n,t).then((function(t){l||h||(h=!0,r(t))}),(function(t){l||h||(l=!0,s[o]=t,--f||d(new(a("AggregateError"))(s,c)))}))})),--f||d(new(a("AggregateError"))(s,c))}));return f.error&&d(f.value),i.promise}})},function(t,e,n){var i=n(2),r=n(240),o=n(242);i({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=o.toKey,u=o.set;r({target:"Reflect",stat:!0},{defineMetadata:function(t,n,i){var r=arguments.length<4?e:s(arguments[3]);u(t,n,a(i),r)}})},function(t,n,i){var r=i(154),o=i(346),a=i(22)("metadata"),s=a.store||(a.store=new o),u=function(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:s,getMap:u,has:function(t,n,i){var r=u(n,i,!1);return r!==e&&r.has(t)},get:function(t,n,i){var r=u(n,i,!1);return r===e?e:r.get(t)},set:function(t,e,n,i){u(n,i,!0).set(t,e)},keys:function(t,e){var n=u(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},toKey:function(t){return t===e||"symbol"==typeof t?t:String(t)}}},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=o.toKey,u=o.getMap,l=o.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(t,n){var i=arguments.length<3?e:s(arguments[2]),r=u(a(n),i,!1);if(r===e||!r.delete(t))return!1;if(r.size)return!0;var o=l.get(n);return o.delete(i),!!o.size||l.delete(n)}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=i(108),u=o.has,l=o.get,c=o.toKey,d=function(t,n,i){if(u(t,n,i))return l(t,n,i);var r=s(n);return null!==r?d(t,r,i):e};r({target:"Reflect",stat:!0},{getMetadata:function(t,n){var i=arguments.length<3?e:c(arguments[2]);return d(t,a(n),i)}})},function(t,n,i){var r=i(2),o=i(265),a=i(436),s=i(20),u=i(108),l=i(158),c=a.keys,d=a.toKey,f=function(t,e){var n=c(t,e),i=u(t);if(null===i)return n;var r=f(i,e);return r.length?n.length?function(t){var e=[];return l(t,e.push,e),e}(new o(n.concat(r))):r:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var n=arguments.length<2?e:d(arguments[1]);return f(s(t),n)}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=o.get,u=o.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(t,n){var i=arguments.length<3?e:u(arguments[2]);return s(t,a(n),i)}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=o.keys,u=o.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var n=arguments.length<2?e:u(arguments[1]);return s(a(t),n)}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=i(108),u=o.has,l=o.toKey,c=function(t,e,n){if(u(t,e,n))return!0;var i=s(e);return null!==i&&c(t,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(t,n){var i=arguments.length<3?e:l(arguments[2]);return c(t,a(n),i)}})},function(t,n,i){var r=i(2),o=i(436),a=i(20),s=o.has,u=o.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,n){var i=arguments.length<3?e:u(arguments[2]);return s(t,a(n),i)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.set;i({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,i){s(t,e,o(n),a(i))}}})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t=i(this),e=r(t.add),n=0,o=arguments.length;n<o;n++)e.call(t,arguments[n]);return t}},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete);return l(t,(function(t){i.call(n,t)})),n}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(450),l=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{every:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return!l(i,(function(t){if(!r(t,t,n))return l.stop()}),e,!1,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Set.prototype.values.call(t)}},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(58),c=i(137),d=i(450),f=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{filter:function(t){var n=s(this),i=d(n),r=l(t,1<arguments.length?arguments[1]:e,3),o=new(c(n,a("Set"))),h=u(o.add);return f(i,(function(t){r(t,t,n)&&h.call(o,t)}),e,!1,!0),o}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(450),l=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{find:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return l(i,(function(t){if(r(t,t,n))return l.stop(t)}),e,!1,!0).result}})},function(t,e,n){n(2)({target:"Set",stat:!0},{from:n(399)})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(t){var e=a(this),n=new(u(e,o("Set"))),i=s(e.has),r=s(n.add);return l(t,(function(t){i.call(e,t)&&r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!0===n.call(e,t))return s.stop()})).stopped}})},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(394),c=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:function(t){var n=l(this),i=s(t),r=i.has;return"function"!=typeof r&&(i=new(a("Set"))(t),r=u(i.has)),!c(n,(function(t){if(!1===r.call(i,t))return c.stop()}),e,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!1===n.call(e,t))return s.stop()})).stopped}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(450),u=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{join:function(t){var n=a(this),i=s(n),r=t===e?",":String(t),o=[];return u(i,o.push,o,!1,!0),o.join(r)}})},function(t,n,i){var r=i(2),o=i(23),a=i(34),s=i(20),u=i(59),l=i(58),c=i(137),d=i(450),f=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{map:function(t){var n=s(this),i=d(n),r=l(t,1<arguments.length?arguments[1]:e,3),o=new(c(n,a("Set"))),h=u(o.add);return f(i,(function(t){h.call(o,r(t,t,n))}),e,!1,!0),o}})},function(t,e,n){n(2)({target:"Set",stat:!0},{of:n(409)})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(59),u=i(450),l=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{reduce:function(t){var n=a(this),i=u(n),r=arguments.length<2,o=r?e:arguments[1];if(s(t),l(i,(function(e){o=r?(r=!1,e):t(o,e,e,n)}),e,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return o}})},function(t,n,i){var r=i(2),o=i(23),a=i(20),s=i(58),u=i(450),l=i(158);r({target:"Set",proto:!0,real:!0,forced:o},{some:function(t){var n=a(this),i=u(n),r=s(t,1<arguments.length?arguments[1]:e,3);return l(i,(function(t){if(r(t,t,n))return l.stop()}),e,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete),r=s(n.add);return l(t,(function(t){i.call(n,t)||r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{union:function(t){var e=a(this),n=new(u(e,o("Set")))(e);return l(t,s(n.add),n),n}})},function(t,e,n){var i=n(2),r=n(267).charAt;i({target:"String",proto:!0},{at:function(t){return r(this,t)}})},function(t,n,i){var r=i(2),o=i(106),a=i(12),s=i(27),u=i(267),l=u.codeAt,c=u.charAt,d="String Iterator",f=s.set,h=s.getterFor(d),p=o((function(t){f(this,{type:d,string:t,index:0})}),"String",(function(){var t,n=h(this),i=n.string,r=n.index;return i.length<=r?{value:e,done:!0}:(t=c(i,r),n.index+=t.length,{value:{codePoint:l(t,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new p(String(a(this)))}})},function(t,e,n){n(278)},function(t,n,i){var r=i(2),o=i(12),a=i(259),s=i(260),u=i(53),l=i(23),c=u("replace"),d=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function(t,n){var i,r,u,f,h,p,g,v=o(this);if(null!=t){if((i=a(t))&&!~String(o("flags"in d?t.flags:s.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if((r=t[c])!==e)return r.call(t,v,n);if(l&&i)return String(v).replace(t,n)}if(u=String(v),f=String(t),h=u.split(f),"function"!=typeof n)return h.join(String(n));for(p=h[0],g=1;g<h.length;g++)p+=String(n(f,g-1,u)),p+=h[g];return p}})},function(t,e,n){n(55)("asyncDispose")},function(t,e,n){n(55)("dispose")},function(t,e,n){n(55)("observable")},function(t,e,n){n(55)("patternMatch")},function(t,e,n){n(55)("replaceAll")},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakMap",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{of:n(409)})},function(t,e,n){n(2)({target:"WeakMap",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"WeakSet",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakSet",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{of:n(409)})},function(t,e,n){var i=n(3),r=n(483),o=n(92),a=n(18);for(var s in r){var u=i[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(t){l.forEach=o}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var i=n(3),r=n(483),o=n(104),a=n(18),s=n(53),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var d in r){var f=i[d],h=f&&f.prototype;if(h){if(h[u]!==c)try{a(h,u,c)}catch(t){h[u]=c}if(h[l]||a(h,l,d),r[d])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(t){h[p]=o[p]}}}},function(t,e,n){var i=n(3),r=n(236),o=!i.setImmediate||!i.clearImmediate;n(2)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(2),r=n(3),o=n(238),a=n(11),s=r.process,u="process"==a(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,n,i){var r=i(2),o=i(3),a=i(237),s=[].slice,u=function(t){return function(n,i){var r=2<arguments.length,o=r?s.call(arguments,2):e;return t(r?function(){("function"==typeof n?n:Function(n)).apply(this,o)}:n,i)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},function(t,n,i){i(273);var r,o=i(2),a=i(5),s=i(489),u=i(3),l=i(49),c=i(21),d=i(133),f=i(15),h=i(203),p=i(94),g=i(267).codeAt,v=i(490),m=i(56),y=i(491),b=i(27),_=u.URL,w=y.URLSearchParams,E=y.getState,T=b.set,S=b.getterFor("URL"),A=Math.floor,P=Math.pow,x="Invalid scheme",O="Invalid host",I="Invalid port",C=/[A-Za-z]/,R=/[\d+\-.A-Za-z]/,M=/\d/,k=/^(0x|0X)/,L=/^[0-7]+$/,D=/^\d+$/,N=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,V=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,j=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return O;if(!(n=H(e.slice(1,-1))))return O;t.host=n}else if(Z(t)){if(e=v(e),F.test(e))return O;if(null===(n=G(e)))return O;t.host=n}else{if(V.test(e))return O;for(n="",i=p(e),r=0;r<i.length;r++)n+=q(i[r],$);t.host=n}},G=function(t){var e,n,i,r,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),4<(e=u.length))return t;for(n=[],i=0;i<e;i++){if(""==(r=u[i]))return t;if(o=10,1<r.length&&"0"==r.charAt(0)&&(o=k.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?D:8==o?L:N).test(r))return t;a=parseInt(r,o)}n.push(a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=P(256,5-e))return null}else if(255<a)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*P(256,3-i);return s},H=function(t){var e,n,i,r,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,d=0,f=function(){return t.charAt(d)};if(":"==f()){if(":"!=t.charAt(1))return;d+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(e=n=0;n<4&&N.test(f());)e=16*e+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,6<l)return;for(i=0;f();){if(r=null,0<i){if(!("."==f()&&i<4))return;d++}if(!M.test(f()))return;for(;M.test(f());){if(o=parseInt(f(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(255<r)return;d++}u[l]=256*u[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[l++]=e}else{if(null!==c)return;d++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&0<a;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},W=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=A(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(n<r&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return n<r&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r=r&&!1,i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"},$={},Y=h({},$,{" ":1,'"':1,"<":1,">":1,"`":1}),z=h({},Y,{"#":1,"?":1,"{":1,"}":1}),K=h({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(t,e){var n=g(t,0);return 32<n&&n<127&&!f(e,t)?t:encodeURIComponent(t)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(t){return f(X,t.scheme)},J=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},tt=function(t,e){var n;return 2==t.length&&C.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},et=function(t){var e;return 1<t.length&&tt(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&tt(e[0],!0)||e.pop()},it={},rt={},ot={},at={},st={},ut={},lt={},ct={},dt={},ft={},ht={},pt={},gt={},vt={},mt={},yt={},bt={},_t={},wt={},Et={},Tt={},St=function(t,e,n,i){var o,a,s,u,l,c,d=n||it,h=0,g="",v=!1,m=!1,y=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(U,"")),e=e.replace(B,""),o=p(e);h<=o.length;){switch(a=o[h],d){case it:if(!a||!C.test(a)){if(n)return x;d=ot;continue}g+=a.toLowerCase(),d=rt;break;case rt:if(a&&(R.test(a)||"+"==a||"-"==a||"."==a))g+=a.toLowerCase();else{if(":"!=a){if(n)return x;g="",d=ot,h=0;continue}if(n&&(Z(t)!=f(X,g)||"file"==g&&(J(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=g,n)return void(Z(t)&&X[t.scheme]==t.port&&(t.port=null));g="","file"==t.scheme?d=vt:Z(t)&&i&&i.scheme==t.scheme?d=at:Z(t)?d=ct:"/"==o[h+1]?(d=st,h++):(t.cannotBeABaseURL=!0,t.path.push(""),d=wt)}break;case ot:if(!i||i.cannotBeABaseURL&&"#"!=a)return x;if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,d=Tt;break}d="file"==i.scheme?vt:ut;continue;case at:if("/"!=a||"/"!=o[h+1]){d=ut;continue}d=dt,h++;break;case st:if("/"==a){d=ft;break}d=_t;continue;case ut:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&Z(t))d=lt;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",d=Et;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),d=_t;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",d=Tt}break;case lt:if(!Z(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,d=_t;continue}d=ft}else d=dt;break;case ct:if(d=dt,"/"!=a||"/"!=g.charAt(h+1))continue;h++;break;case dt:if("/"==a||"\\"==a)break;d=ft;continue;case ft:if("@"==a){v&&(g="%40"+g),v=!0,s=p(g);for(var b=0;b<s.length;b++){var _=s[b];if(":"!=_||y){var w=q(_,K);y?t.password+=w:t.username+=w}else y=!0}g=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Z(t)){if(v&&""==g)return"Invalid authority";h-=p(g).length+1,g="",d=ht}else g+=a;break;case ht:case pt:if(n&&"file"==t.scheme){d=yt;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Z(t)){if(Z(t)&&""==g)return O;if(n&&""==g&&(J(t)||null!==t.port))return;if(u=j(t,g))return u;if(g="",d=bt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),g+=a}else{if(""==g)return O;if(u=j(t,g))return u;if(g="",d=gt,n==pt)return}break;case gt:if(!M.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Z(t)||n){if(""!=g){var E=parseInt(g,10);if(65535<E)return I;t.port=Z(t)&&E===X[t.scheme]?null:E,g=""}if(n)return;d=bt;continue}return I}g+=a;break;case vt:if(t.scheme="file","/"==a||"\\"==a)d=mt;else{if(!i||"file"!=i.scheme){d=_t;continue}if(a==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",d=Et;else{if("#"!=a){et(o.slice(h).join(""))||(t.host=i.host,t.path=i.path.slice(),nt(t)),d=_t;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",d=Tt}}break;case mt:if("/"==a||"\\"==a){d=yt;break}i&&"file"==i.scheme&&!et(o.slice(h).join(""))&&(tt(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),d=_t;continue;case yt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&tt(g))d=_t;else if(""==g){if(t.host="",n)return;d=bt}else{if(u=j(t,g))return u;if("localhost"==t.host&&(t.host=""),n)return;g="",d=bt}continue}g+=a;break;case bt:if(Z(t)){if(d=_t,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(d=_t,"/"!=a))continue}else t.fragment="",d=Tt;else t.query="",d=Et;break;case _t:if(a==r||"/"==a||"\\"==a&&Z(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=g).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(nt(t),"/"==a||"\\"==a&&Z(t)||t.path.push("")):"."===(l=g)||"%2e"===l.toLowerCase()?"/"==a||"\\"==a&&Z(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&tt(g)&&(t.host&&(t.host=""),g=g.charAt(0)+":"),t.path.push(g)),g="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",d=Et):"#"==a&&(t.fragment="",d=Tt)}else g+=q(a,z);break;case wt:"?"==a?(t.query="",d=Et):"#"==a?(t.fragment="",d=Tt):a!=r&&(t.path[0]+=q(a,$));break;case Et:n||"#"!=a?a!=r&&("'"==a&&Z(t)?t.query+="%27":t.query+="#"==a?"%23":q(a,$)):(t.fragment="",d=Tt);break;case Tt:a!=r&&(t.fragment+=q(a,Y))}h++}},At=function(t){var n,i,r=d(this,At,"URL"),o=1<arguments.length?arguments[1]:e,s=String(t),u=T(r,{type:"URL"});if(o!==e)if(o instanceof At)n=S(o);else if(i=St(n={},String(o)))throw TypeError(i);if(i=St(u,s,null,n))throw TypeError(i);var l=u.searchParams=new w,c=E(l);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(l)||null},a||(r.href=xt.call(r),r.origin=Ot.call(r),r.protocol=It.call(r),r.username=Ct.call(r),r.password=Rt.call(r),r.host=Mt.call(r),r.hostname=kt.call(r),r.port=Lt.call(r),r.pathname=Dt.call(r),r.search=Nt.call(r),r.searchParams=Ft.call(r),r.hash=Vt.call(r))},Pt=At.prototype,xt=function(){var t=S(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==r?(l+="//",J(t)&&(l+=n+(i?":"+i:"")+"@"),l+=W(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Ot=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Z(t)?e+"://"+W(t.host)+(null!==n?":"+n:""):"null"},It=function(){return S(this).scheme+":"},Ct=function(){return S(this).username},Rt=function(){return S(this).password},Mt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?W(e):W(e)+":"+n},kt=function(){var t=S(this).host;return null===t?"":W(t)},Lt=function(){var t=S(this).port;return null===t?"":String(t)},Dt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Nt=function(){var t=S(this).query;return t?"?"+t:""},Ft=function(){return S(this).searchParams},Vt=function(){var t=S(this).fragment;return t?"#"+t:""},Ut=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&l(Pt,{href:Ut(xt,(function(t){var e=S(this),n=String(t),i=St(e,n);if(i)throw TypeError(i);E(e.searchParams).updateSearchParams(e.query)})),origin:Ut(Ot),protocol:Ut(It,(function(t){var e=S(this);St(e,String(t)+":",it)})),username:Ut(Ct,(function(t){var e=S(this),n=p(String(t));if(!Q(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=q(n[i],K)}})),password:Ut(Rt,(function(t){var e=S(this),n=p(String(t));if(!Q(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=q(n[i],K)}})),host:Ut(Mt,(function(t){var e=S(this);e.cannotBeABaseURL||St(e,String(t),ht)})),hostname:Ut(kt,(function(t){var e=S(this);e.cannotBeABaseURL||St(e,String(t),pt)})),port:Ut(Lt,(function(t){var e=S(this);Q(e)||(""==(t=String(t))?e.port=null:St(e,t,gt))})),pathname:Ut(Dt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],St(e,t+"",bt))})),search:Ut(Nt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",St(e,t,Et)),E(e.searchParams).updateSearchParams(e.query)})),searchParams:Ut(Ft),hash:Ut(Vt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",St(e,t,Tt)):e.fragment=null}))}),c(Pt,"toJSON",(function(){return xt.call(this)}),{enumerable:!0}),c(Pt,"toString",(function(){return xt.call(this)}),{enumerable:!0}),_){var Bt=_.createObjectURL,jt=_.revokeObjectURL;Bt&&c(At,"createObjectURL",(function(t){return Bt.apply(_,arguments)})),jt&&c(At,"revokeObjectURL",(function(t){return jt.apply(_,arguments)}))}m(At,"URL"),o({global:!0,forced:!s,sham:!a},{URL:At})},function(t,n,i){var r=i(6),o=i(53),a=i(23),s=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,i="";return t.pathname="c%20d",n.forEach((function(t,e){n.delete("b"),i+=e+t})),a&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",e).host}))},function(t,e,n){var i=2147483647,r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=Math.floor,u=String.fromCharCode,l=function(t){return t+22+75*(t<26)},c=function(t,e,n){var i=0;for(t=n?s(t/700):t>>1,t+=s(t/e);455<t;i+=36)t=s(t/35);return s(i+36*t/(t+38))},d=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(55296<=r&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,d=128,f=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(u(n));var p=r.length,g=p;for(p&&r.push("-");g<o;){var v=i;for(e=0;e<t.length;e++)d<=(n=t[e])&&n<v&&(v=n);var m=g+1;if(v-d>s((i-f)/m))throw RangeError(a);for(f+=(v-d)*m,d=v,e=0;e<t.length;e++){if((n=t[e])<d&&++f>i)throw RangeError(a);if(n==d){for(var y=f,b=36;;b+=36){var _=b<=h?1:h+26<=b?26:b-h;if(y<_)break;var w=y-_,E=36-_;r.push(u(l(_+w%E))),y=s(w/E)}r.push(u(l(y))),h=c(f,m,g==p),f=0,++g}}++f,++d}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)i.push(r.test(n=a[e])?"xn--"+d(n):n);return i.join(".")}},function(t,n,i){i(104);var r=i(2),o=i(489),a=i(21),s=i(132),u=i(56),l=i(106),c=i(27),d=i(133),f=i(15),h=i(58),p=i(20),g=i(14),v=i(394),m=i(98),y=i(53)("iterator"),b="URLSearchParams",_=b+"Iterator",w=c.set,E=c.getterFor(b),T=c.getterFor(_),S=/\+/g,A=Array(4),P=function(t){return A[t-1]||(A[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},x=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(S," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(P(n--),x);return e}},I=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return C[t]},M=function(t){return encodeURIComponent(t).replace(I,R)},k=function(t,e){if(e)for(var n,i,r=e.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),t.push({key:O(i.shift()),value:O(i.join("="))}))},L=function(t){this.entries.length=0,k(this.entries,t)},D=function(t,e){if(t<e)throw TypeError("Not enough arguments")},N=l((function(t,e){w(this,{type:_,iterator:v(E(t).entries),kind:e})}),"Iterator",(function(){var t=T(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),F=function(){d(this,F,b);var t,n,i,r,o,a,s,u,l,c=0<arguments.length?arguments[0]:e,h=[];if(w(this,{type:b,entries:h,updateURL:function(){},updateSearchParams:L}),c!==e)if(g(c))if("function"==typeof(t=m(c)))for(i=(n=t.call(c)).next;!(r=i.call(n)).done;){if((s=(a=(o=v(p(r.value))).next).call(o)).done||(u=a.call(o)).done||!a.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:u.value+""})}else for(l in c)f(c,l)&&h.push({key:l,value:c[l]+""});else k(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},V=F.prototype;s(V,{append:function(t,e){D(arguments.length,2);var n=E(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){D(arguments.length,1);for(var e=E(this),n=e.entries,i=t+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){D(arguments.length,1);for(var e=E(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){D(arguments.length,1);for(var e=E(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){D(arguments.length,1);for(var e=E(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){D(arguments.length,1);for(var n,i=E(this),r=i.entries,o=!1,a=t+"",s=e+"",u=0;u<r.length;u++)(n=r[u]).key===a&&(o?r.splice(u--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var t,e,n,i=E(this),r=i.entries,o=r.slice();for(n=r.length=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(t.key<r[e].key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var n,i=E(this).entries,r=h(t,1<arguments.length?arguments[1]:e,3),o=0;o<i.length;)r((n=i[o++]).value,n.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),a(V,y,V.entries),a(V,"toString",(function(){for(var t,e=E(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(M(t.key)+"="+M(t.value));return n.join("&")}),{enumerable:!0}),u(F,b),r({global:!0,forced:!o},{URLSearchParams:F}),t.exports={URLSearchParams:F,getState:E}},function(t,e,n){n(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})}],n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}()}).call(this,n(32))},function(t,e,n){"use strict";var i=function(t){var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n,i){var r=e&&e.prototype instanceof c?e:c,o=Object.create(r.prototype),a=new E(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return S()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function c(){}function d(){}function f(){}var h={};h[r]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(T([])));g&&g!==e&&n.call(g,r)&&(h=g);var v=f.prototype=c.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var i;this._invoke=function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=v.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new y(s(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(v),v[a]="Generator",v[r]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(1)),s=i(n(5)),u=i(n(3)),l=i(n(2)),c=i(n(118)),d=i(n(33));n(66);var f=i(n(9)),h=i(n(16)),p=i(n(15)),g=i(n(70)),v=n(47),m=n(38),y=n(126),b=i(n(127)),_=i(n(13)),w=i(n(39)),E=i(n(54)),T=i(n(8)),S=i(n(17)),A=i(n(51)),P=i(n(50)),x=i(n(53)),O=i(n(41)),I=i(n(73)),C=i(n(64)),R=i(n(63)),M=i(n(52)),k=i(n(48)),L=i(n(99)),D=i(n(71)),N=i(n(86)),F=i(n(19)),V=i(n(20));n(283);var U=null,B=null,j={documentVersion:null,issue:null},G=F.default.hasFeature(V.default.ACCESSIBILITY);l.default.absorb({shouldReduceMotion:G&&window.matchMedia("(prefers-reduced-motion: reduce)").matches});var H=function(){l.default.previewMode&&l.default.privatePreviewer&&y.KeepAlive.pollForSession()},W=function(t,e){var n=o.default.once((function(){var n=t.state();"resolved"===n?r.default.debug("ScrollProxy received viewport dimensions, rendering experience"):"pending"===n?r.default.warn("ScrollProxy viewport dimensions promise timed out"):r.default.warn("ScrollProxy viewport dimensions promise was rejected"),e()}));t.done(n),setTimeout(n,2e3)},$=function(){T.default.detect(),K().done((function(){q().done((function(){Y(),z()}))})),D.default.on(D.default.publishedEvents.PLAYER_DOCUMENT_SHOWN,(function(){tt()}))},Y=function(){ot(),yt(),At(),x.default.load({}),C.default.load(),P.default.load(),mt()},z=function(){D.default.attachModuleViews(j.issue),O.default.renderPages().always((function(){L.default.initialize(j.issue,j.documentVersion,I.default.getUserToken())}));var t=O.default.getFirstPageReadyPromise();t.fail((function(){D.default.show404()}));var e=[U.promise(),t];a.default.when.apply(a.default,e).then((function(){r.default.debug("About to render initial pages."),D.default.showDocument(),B.mark(B.MARKS.PLAYER.SPINNER_HIDDEN),R.default.bindPopstate(),document.hidden?document.addEventListener("visibilitychange",X):X()}))},K=function(){return j.documentVersion.createManifestCollection(),j.documentVersion.loadPageModels().done((function(){r.default.debug("Page models loaded")}))},q=function(){return vt().done((function(){r.default.debug("initViewportAndPreloadMedia done. About to render initial pages.")})).fail((function(){D.default.show404()}))},X=function(){document.hidden||(r.default.debug("First page(s) media is loaded. Showing first page."),O.default.activateFirstPage()),document.removeEventListener("visibilitychange",X)},Z=function(){d.default.remove("mobile-help-overlay")},J={hasImageEffects:function(t){return!!u.default.msie&&(!o.default.isNil(t.effects)&&!v.ImageEffects.isDefaultEffects(t.effects))},hasBlendingMode:function(t){if(u.default.msie||u.default.edge)return!o.default.isNil(t.blendingMode)&&!m.BlendingModes.isDefaultBlendingMode(t.blendingMode)},isUnsupportedComponent:function(t){return J.hasBlendingMode(t)||J.hasImageEffects(t)},smartGroupHasUnsupportedComponent:function(t,e){var n=t.documentVersion.getSmartgroupDefinition(e.smartgroupId);return o.default.some(n.layerDictionary,(function(t,e){return"image-component"===t.type&&(t=Q(t),J.isUnsupportedComponent(t))}))}},Q=function(t){if(o.default.isNil(t.effects))t.effects=v.ImageEffects.getDefaults();else{var e=v.ImageEffects.getDefaults();for(var n in e)o.default.isNil(t.effects[n])&&(t.effects[n]=e[n])}return t},tt=function(){if(u.default.msie||u.default.edge){var t=!1;l.default.previewMode?o.default.each(j.documentVersion.pages,(function(e){var n=function(t){return"smartgroup"===t.type?J.smartGroupHasUnsupportedComponent(e,t):"image-component"===t.type?(t=Q(t),J.isUnsupportedComponent(t)):("folder"===t.type||"group"===t.type)&&o.default.some(t.items,n)};if(t=o.default.some(e.get("layers"),n))return!1})):(t=o.default.some(j.documentVersion.pages,(function(t){return!0===t.get("hasUnsupportedComponent")})))||(t=o.default.some(j.documentVersion.get("smartgroups"),(function(t){return!0===t.hasUnsupportedComponent}))),t&&D.default.showInfo("Your current browser does not support certain content in this experience. Try opening this page in Chrome, Safari, or Firefox.")}},et=function(){var t=nt();l.default.heightOverridesPerLayout=t,l.default.heightOverride=o.default.get(t,"desktop",null),T.default.on("change",(function(e){l.default.heightOverride=o.default.get(t,e,null)}))},nt=function(){var t={desktop:"heightOverride"};return o.default.each(S.default.getExistingVariants(),(function(e){t[e]=o.default.lowerFirst(e)+"HeightOverride"})),o.default.mapValues(t,(function(t){var e=new RegExp("[\\?&]"+t+"=(\\d+)(&|$)"),n=window.location.search.match(e);return n?+n[1]:null}))},it=function(){I.default.init({application:l.default.analyticsApplicationKey,analyticsTrackers:l.default.analyticsTrackers}),B=I.default.getPerformanceTracker(),window.cerosPlayerLoadStart&&B.startTracking(window.cerosPlayerLoadStart),h.default.onPriorityQueueCompletion((function(){B.mark(B.MARKS.PLAYER.PRIORITY_QUEUE_EMPTIED)})),h.default.onAllResourcesLoaded((function(){B.mark(B.MARKS.PLAYER.ALL_RESOURCES_LOADED)}))},rt=function(){var t=null;l.default.previewMode?k.default.initialize():t=window.docVersionRequest,j.issue=new s.default.Model(l.default.issue),j.documentVersion=new b.default(l.default.docVersion,{docVersionRequest:t})},ot=function(){if(r.default.isEnabled("debug")){var t=[D.default,w.default,E.default,O.default,x.default,I.default,C.default,M.default];l.default.isEmbedded||(t=t.concat([A.default,R.default])),o.default.each(t,(function(t){o.default.each(t.publishedEvents,(function(e){t.on(e,(function(t){r.default.debug("EVENT: "+e,t)}))}))}))}},at=function(){if(!U){U=new a.default.Deferred;var t=l.default.publicAssetsBaseUrl+"ceros-fonts-2020-08-06.css",e=h.default.addCustomWebFont(["CerosIcons-Regular"],t,"").loadNow(),n=h.default.addGoogleWebFont("Varela+Round::latin").loadNow(),i=h.default.addGoogleWebFont("Montserrat::latin").loadNow();a.default.when(e,i,n).always((function(){U.resolve()})),setTimeout((function(){"resolved"!==U.state()&&(r.default.devWarn("Font loading timed out"),U.resolve())}),5e3)}return U.promise().then((function(){r.default.debug("InitialFontsReady promise is resolved.")}))},st=function(){return l.default.previewMode&&l.default.allowAdaptiveLayouts},ut=function(){st()&&(D.default.setupAdaptiveLayoutsPreviewerTouchDeviceView(),D.default.setupAdaptiveLayoutsPreviewerFrameView())},lt=function(){S.default.setDocVersion(j.documentVersion),st()&&(S.default.on(S.default.EVENTS.UPDATE_URL,(function(t){R.default.navigateToLayout(t)})),S.default.detectPreviewerFrameSizeFromUrl(),D.default.setupAdaptiveLayoutsPreviewerSelectionView())},ct=function(){var t=new a.default.Deferred;return l.default.previewMode&&l.default.isEmbedded&&!l.default.isMarkup?at().always((function(){w.default.showEmbeddedPreviewerWarning(a.default("body")),w.default.on(w.default.publishedEvents.EMBED_WARNING_DISMISSED,(function(){t.resolve(),w.default.hideEmbeddedPreviewerWarning(a.default("body"))}))})):t.resolve(),t},dt=function(){return l.default.gracePeriodExpired&&at().done((function(){w.default.showUnavailableScreen(a.default("body"),{theme:j.documentVersion.get("theming")});var t=j.documentVersion.getPageInfoByNumberOrSlug(f.default.parsePageFromLocation());I.default.viewExperience({page_slug:t.slug,page_num:t.number,grace_period_expired:!0})})),l.default.gracePeriodExpired},ft=function(){if(l.default.previewMode){var t={"X-Powered-By":"Ceros Player/HTML5"};l.default.revalidateWithCore&&(t["Cache-Control"]="must-revalidate"),a.default.ajaxSetup({timeout:6e4,cache:l.default.ajaxCaching,headers:t,statusCode:{404:function(){a.default(o.default.bind(D.default.show404,D.default))}}}),a.default.ajaxPrefilter((function(t){t.crossDomain&&(t.headers={})}))}},ht=function(){var t=a.default.Deferred();g.default.init(j.issue.get("slug")),pt();var e=!1;g.default.on(g.default.EVENTS.UPDATE_POSITION,(function(n){var i=O.default.getCurrentPageHeight(),r=i&&n.top<i&&n.top<n.bottom;t.resolve(),!e&&r&&(I.default.resetPageTrackingMinMaxY(),e=!0)}));var n=function(t){_.default.getInstance().setPositionData(t)};return p.default.on("sdk.experience.container.ready",n),p.default.on("sdk.experience.container.scrolled",o.default.debounce(n,50)),p.default.on("sdk.experience.container.resized",n),t.promise()},pt=function(){var t=function(){if(S.default.hasVariants()){var t=T.default.getVariant();g.default.announceVariantDetection(t)}};T.default.on("change",t),T.default.hasDetectedVariant()&&t()},gt=function(){var t=new a.default.Deferred;return r.default.debug("Fetching docVersion"),j.documentVersion.fetch().done(t.resolve).fail(t.reject),t.promise()},vt=function(){var t=new a.default.Deferred;return r.default.debug("Init viewport"),O.default.init(j.documentVersion,{performanceTracker:B,marginTopCallback:function(){return A.default.shouldShow()&&!A.default.initiallyHidden()?A.default.getHeight():0}}),r.default.debug("About to preload media"),O.default.preloadPageMedia(),o.default.defer(t.resolve),t.promise()},mt=function(){c.default.on("*",o.default.bind(I.default.handleApiRequest,I.default)).on("ceros.sdk.ping",(function(t,e){e.data="pong"})).on("ceros.sdk.productPanel.close",C.default.deactivate),c.default.bindToIframe(C.default.iframe())},yt=function(){p.default.registerEvents(E.default.publishedEvents,E.default),p.default.registerEvents(R.default.publishedEvents,R.default),wt(),Tt(),Et(),St(),bt(),_t()},bt=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){var e=O.default.getFirstPageReadyPromise();"pending"===e.state()?e.done(O.default.scale):O.default.scale()}))},_t=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){x.default.updateScale(t)})),O.default.on(O.default.publishedEvents.PAGE_CHANGE,(function(t){x.default.determineFlipperState(t.isFirstPage,t.isLastPage,!0),O.default.removeClickShield(),O.default.enableGestures(),L.default.announcePageChanged(O.default.getCurrentPageNumber())})),O.default.on(O.default.publishedEvents.PAGE_CHANGING,(function(t){x.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady),L.default.announcePageChanging(O.default.getCurrentPageNumber())})),O.default.on(O.default.publishedEvents.PAGE_UPDATE,(function(t){x.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),O.default.on(O.default.publishedEvents.PAGE_ENABLED_CHANGE,(function(t){x.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),O.default.on(O.default.publishedEvents.PAGE_BATCH_LOAD_START,(function(){O.default.addClickShield(),O.default.disableGestures()})),O.default.on(O.default.publishedEvents.TIMED_LIGHTBOX,(function(t){C.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton),L.default.announceTimedInteraction(t),I.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),O.default.on(O.default.publishedEvents.TIMED_PRODUCT_PANEL,(function(t){C.default.showProduct(t.productPanelId),L.default.announceTimedInteraction(t),I.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),O.default.on(O.default.publishedEvents.TIMED_SHOPPING_CART,(function(t){C.default.showShoppingCart(),L.default.announceTimedInteraction(t),I.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),x.default.on(x.default.publishedEvents.NEXT_PAGE,(function(){O.default.nextPage()})),x.default.on(x.default.publishedEvents.PREVIOUS_PAGE,(function(){O.default.previousPage()})),E.default.on(E.default.publishedEvents.PAGE_ACTIVATED,(function(){x.default.updateFlipperHrefs()}))},wt=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){w.default.scale()})),O.default.on(O.default.publishedEvents.CURRENT_PAGE_DELETED,(function(t){w.default.showDeletedPageWarning(a.default("body"))}))},Et=function(){P.default.on(P.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(t){window.open(P.default.getBrandingUrl())}))},Tt=function(){A.default.shouldShow()&&(A.default.initiallyHidden()&&(O.default.on(O.default.publishedEvents.LONGPRESS,(function(t){A.default.toggle()})),E.default.on(E.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){A.default.hide(!0)}))),A.default.on(A.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){O.default.shareCurrentPageOnSocial(t.action,j.issue)})),A.default.on(A.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){C.default.showShoppingCart()})),A.default.on(A.default.publishedEvents.CHROME_TITLE_CLICK,(function(t){O.default.jumpToPage(1,!1)})),O.default.on(O.default.publishedEvents.PAGE_CHANGE,(function(t){A.default.setMenuLinkHrefs(O.default.getCurrentPageNumber())})))},St=function(){p.default.on(E.default.publishedEvents.PAGE_ACTION_SCROLL_TO,(function(t){var e=O.default.scrollTo(t.scrollTargetType,t.scrollTargetScranchor);L.default.announceScrollTo(e),g.default.announceScrollTo(e)})),p.default.on(E.default.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE,(function(t){O.default.previousPage()})),p.default.on(E.default.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE,(function(t){O.default.nextPage()})),p.default.on(E.default.publishedEvents.PAGE_ACTION_GO_TO_PAGE,(function(t){O.default.jumpToPage(t.pageTarget)})),p.default.on(E.default.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES,(function(t){o.default.each(t.pageTargets,(function(t,e){t?O.default.enablePage(e):O.default.disablePage(e)}))})),p.default.on(E.default.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION,(function(t){O.default.toggleAnimations()})),l.default.isEmbedded||E.default.on(E.default.publishedEvents.PAGE_ACTIVATED,(function(t){if(t.slug&&j.issue.get("slug")){var e=l.default.docVersion.pageNamesInTitle?t.pageName:void 0,n=j.issue.get("title");e&&(n+=" - "+e),l.default.usePageSlugsInNavigation?R.default.navigateToPageSlug(t.slug,n):R.default.navigateToPageNumber(j.documentVersion.getPageNumberBySlug(t.slug),n)}})),p.default.on(R.default.publishedEvents.POPSTATE,(function(t){if(t.pageNumber)O.default.jumpToPage(t.pageNumber);else if(t.pageSlug){var e=j.documentVersion.getPageNumberBySlug(t.pageSlug);O.default.jumpToPage(e)}})),E.default.on(E.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){var e;e=o.default.get(l.default,"analyticsTrackers.googleAnalyticsTracker"),l.default.isEmbedded&&e&&e.enabled&&e.trackingID?g.default.announceGotoUrl(t.url,t.urlOpenInNewWindow):t.urlOpenInNewWindow?window.open(t.url):top.location=t.url})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){C.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton)})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){C.default.showProduct(t.productPanelId)})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){C.default.showShoppingCart()})),p.default.on(E.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){O.default.shareCurrentPageOnSocial(t.action,j.issue)})),p.default.on(E.default.publishedEvents.TIMED_INTERACTION,(function(t){L.default.announceTimedInteraction(t)})),p.default.on(E.default.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY,(function(t){if(N.default.isShowLayersInteraction(t)&&L.default.announceLayersShown(t.layerTargets),N.default.isHideLayersInteraction(t)&&L.default.announceLayersHidden(t.layerTargets),"toggle-layers"===t.action){var e=[],n=[];o.default.each(t.layerTargets,(function(t){O.default.isLayerVisible(t)?e.push(t):n.push(t)})),e.length>0&&L.default.announceLayersShown(e),n.length>0&&L.default.announceLayersHidden(n)}}))},At=function(){if(l.default.analyticsApplicationKey){O.default.on(O.default.publishedEvents.SCALE,(function(t){var e=t.ratio;I.default.updateScale(e)})),E.default.on(E.default.publishedEvents.PAGE_SCROLL,(function(t){I.default.trackPageScroll({page_slug:t.slug,page_num:j.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})})),E.default.on(E.default.publishedEvents.PAGE_ACTIVATED,(function(t){I.default.viewExperience({page_slug:t.slug,page_num:j.documentVersion.getPageNumberBySlug(t.slug),grace_period_expired:!1}),j.documentVersion.isAutoTransitioning()||I.default.viewPage({page_slug:t.slug,page_name:t.pageName,page_num:j.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})}));var t=function(t){var e={experience_slug:j.issue.get("slug"),experience_version_slug:j.documentVersion.get("slug"),page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,video_slug:t.videoSlug};return t.videoLength&&(e.video_length=t.videoLength),e};E.default.on(E.default.publishedEvents.PAGE_VIDEO_PLAY,(function(e){I.default.playVideo(o.default.extend(t(e),{video_position:e.videoPosition})),L.default.announceVideoPlayed(e.componentSlug)})),E.default.on(E.default.publishedEvents.PAGE_VIDEO_PROGRESS_TIME,(function(e){I.default.trackVideoProgressTime(o.default.extend(t(e),{video_position:e.videoPosition,video_play_time:e.videoPlayTime}))})),E.default.on(E.default.publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,(function(e){I.default.trackVideoProgressPercent(o.default.extend(t(e),{video_progress_percent:e.progressPercent}))})),E.default.on(E.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){I.default.clickLink({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,outgoing_url:t.url,outgoing_domain:t.domain})})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){I.default.clickLightbox({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,lightbox_url:t.lightboxUrl,lightbox_width:t.lightboxWidth,lightbox_height:t.lightboxHeight,lightbox_has_close_button:t.lightboxHasCloseButton})})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){I.default.clickProduct({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,product_id:t.productPanelId})})),E.default.on(E.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){I.default.clickShoppingCart({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),E.default.on(E.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){I.default.clickComponent({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,click_x:t.clickX,click_y:t.clickY})})),E.default.on(E.default.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,(function(t){I.default.hoverComponent({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),E.default.on(E.default.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,(function(t){I.default.formSubmit({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,form_origin:t.formOrigin,form_origin_account_id:t.formOriginAccountId,form_origin_form_id:t.formOriginFormId,form_origin_form_name:t.formOriginFormName,interaction_triggered:t.interactionTriggered})})),A.default.on(A.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){I.default.clickShoppingCart({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber()})})),p.default.on(E.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){I.default.clickPageShare({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,service:t.action})})),A.default.on(A.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){I.default.clickPageShare({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber(),service:t.action})})),P.default.on(P.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(){I.default.clickCerosBranding({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber()})})),a.default(document).on("click",I.default.registerUserActivity)}};e.default={run:function(){Z(),it(),H(),B.mark(B.MARKS.PLAYER.RUN_START),r.default.init(l.default.logging),r.default.debug("Player.run() start"),ct().done((function(){rt(),dt()||(ft(),a.default((function(){B.mark(B.MARKS.PLAYER.DOM_READY),r.default.debug("jquery.ready: About to load the doc version."),D.default.setupInitialDom(),ut(),D.default.showLoadingExperience(),B.mark(B.MARKS.PLAYER.SPINNER_SHOWN),at().then(o.default.bind(D.default.showPreviewerFadingMessage,D.default)),A.default.load();var t=gt();t.done((function(){r.default.debug("Doc Version is loaded"),B.mark(B.MARKS.PLAYER.DOC_VERSION_LOADED),lt(),et();var t=ht();l.default.isEmbedded&&S.default.hasVariants()?(r.default.debug("Waiting for ScrollProxy to send first message with viewport dimensions"),W(t,$)):$()})),t.fail(o.default.bind(D.default.show404,D.default))})))}))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(1)),s={},u=[],l={bindToIframe:function(t){return new h(t)},on:function(t,e){if(o.default.isFunction(e))return"*"===t?(u.push(e),o.default.each(s,(function(t){t.push(e)}))):(o.default.has(s,t)||(s[t]=u.slice()),s[t].push(e)),this;r.default.warn("handler is not a function")},unbindAll:function(){s={},u=[]},handleRequest:function(t,e){if(o.default.has(s,t.name)){var n=s[t.name].slice(),i={},a=function(){e(i)},u=function(t){r.default.warn("Error:",t),i={error:"Unable to process request due to an error"},a()},l=function(){try{var e=n.shift();if(!e)return void a();var r=e(t,i);if(r&&o.default.isFunction(r.done)&&o.default.isFunction(r.fail)&&o.default.isFunction(r.always)){var s=setTimeout((function(){u(new Error("handler timed out"))}),1e4);r.done((function(){l()})).fail((function(){a()})).always((function(){clearTimeout(s)}))}else!1===r?a():l()}catch(t){u(t)}};l()}else r.default.warn("No handler for "+t.name)}},c=function(t){if(o.default.isUndefined(t.client))throw new Error("No client object given");if(o.default.isUndefined(t.name))throw new Error("No name given");this.name=t.name,this.client=t.client,this.params=t.params||{}},d=[],f=!1,h=function(t){d.push(this),this.iframe=t,f||(f=!0,o.default.isUndefined(window.postMessage)?r.default.warn("This browser does not support inter-frame communication"):(r.default.debug("listening for iframe messages"),a.default(window).on("message",(function(t){var e=t.originalEvent.source,n=null;if(o.default.each(d,(function(t){e===t.getWindow()&&(n=t)})),n&&o.default.isString(t.originalEvent.data)){var i;try{i=JSON.parse(t.originalEvent.data)}catch(e){return void r.default.warn("Could not parse data: ["+t.originalEvent.data+"]")}if(i.name){if(0!==i.name.indexOf("ceros.sdk.player")){var a=i.uuid,s=new c({name:i.name,params:i.params,client:{type:"iframe",sdkVersion:i.version}});l.handleRequest(s,(function(t){var n=JSON.stringify({uuid:a,response:t});e.postMessage(n,"*")}))}}else r.default.warn('Data has no "name" property')}}))))};h.prototype={getWindow:function(){return this.iframe.contentWindow}},e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(2)),u=i(n(120)),l=i(n(10)),c=i(n(35)),d=i(n(36)),f=i(n(46)),h=i(n(67)),p=i(n(121)),g=i(n(69)),v=i(n(37)),m=new p.default,y=new c.default,b={getOrCreateRasterImageResource:function(t,e,n){var i=o.default.Deferred();return f.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void i.resolve(null);v.default.isValidCropObject(n)?r=v.default.createOriginalDimensionsFromCropDimensions(r,n):n=null;var o=b.getRasterImage(t,n),a=b.isUriForGif(t),s=b.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){b.shouldRequestHigherResolution(r.width,o.getWidth(),s)?i.resolve(b.createRasterImageResource(t,s,n)):i.resolve(o)})).fail(i.reject):i.resolve(b.createRasterImageResource(t,s,n))})),i.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var n=m.get(t),i=b.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return n&&(!n.ready()||n.getWidth()>=e)?n:b.createRasterImageResource(t,e);var o=b.calculateVariantDimensions(r,e,i);return n?n.ready()&&b.shouldRequestHigherResolution(r.width,n.getWidth(),o)?b.createRasterImageResource(t,o):n:b.createRasterImageResource(t,o)},getRasterImage:function(t,e){var n=m.createCacheKey(t,e);return m.get(n)},getOrCreateVectorImageResourceFactory:function(t){var e;if(y.has(t))return y.get(t);var n=b.createImageProxyUri(t);return e=new g.default(n),y.put(t,e),e},getVectorImageResourceFactory:function(t){return y.get(t)},createRasterImageResource:function(t,e,n){var i=b.createImageResourceUrl(t,e,n),r=new h.default(i),o=m.createCacheKey(t,n);return m.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var n=.05*Math.ceil(t/e/.05);return e*(n=Math.max(n,.05))},calculateVariantDimensions:function(t,e,n){if(s.default.isExported||(n?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var i=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,i)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-"gif".length)},shouldRequestHigherResolution:function(t,e,n){return r.default.isNull(n)||n>=t?e<t:(n-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(m.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,n,i){d.default.putImageInfo(t,e,n,i)},primeCacheWithVectorImageResourceFactory:function(t,e){y.put(t,e)},loadImageInfoForPage:function(t){return f.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return f.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,n){return s.default.isStudio?b.createImageProxyUri(t,e,n):s.default.isExported?b.createExportUrl(t,e):b.createMediaUrl(t,e,n)},createImageProxyUri:function(t,e,n){t+="/proxy";var i={};return r.default.isNumber(e)&&(i.width=e),r.default.isObject(n)&&(i.crop=v.default.createCropDimensionsString(n)),l.default.appendQueryParams(t,i,!0)},createMediaUrl:function(t,e,n){var i=d.default.get(t),o=r.default.get(i,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(n)&&(a.crop=v.default.createCropDimensionsString(n)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var n=d.default.get(t),i=r.default.get(n,"thumbnails");if(!r.default.isObject(i))return"";var o=u.default.getComponentImageThumbnail(i,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return m},getVectorImageResourceFactoryCache:function(){return y}};e.default=b},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={VARIANTS:{FULL:"full",HALF:"half",QUARTER:"quarter",TENTH:"tenth"},getThumbnailVariant:function(t,e){var n=null;return r.default.has(t,e)?n=t[e]:r.default.has(t,this.VARIANTS.FULL)&&(n=t[this.VARIANTS.FULL]),n},getComponentImageThumbnail:function(t,e){if(!e)return this.getThumbnailVariant(t,this.VARIANTS.FULL);var n=[];r.default.each(t,(function(t){n.push(t)})),n.sort((function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}));var i=r.default.find(n,(function(t){return t.width>=e}));return r.default.isObject(i)||(i=this.getThumbnailVariant(t,this.VARIANTS.FULL)),i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(35)),a=i(n(37));function s(){o.default.call(this)}r.default.extend(s.prototype,o.default.prototype,{createCacheKey:function(t,e){var n=a.default.createCropDimensionsString(e);return r.default.isString(n)&&n.length>0?t+"|"+n:t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(24)),a=i(n(68)),s=function(t){a.default.call(this),t.done(r.default.bind((function(t){this.initImage(t)}),this)).fail(r.default.bind((function(){this.resourceReady.reject()}),this))};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{initImage:function(t){this.image.onerror=r.default.bind((function(){o.default.revokeObjectURL(t),this.resourceReady.reject()}),this),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.src=t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=function(t){return this.url=t,this.deferred=r.default.Deferred(),this.cssLinkResource=r.default("<link>",{rel:"stylesheet",type:"text/css",href:t}),this.data=this.cssLinkResource,this.cssLinkResource.on("load",o.default.bind((function(){this.deferred.resolve()}),this)),this.cssLinkResource.appendTo("head"),this};a.prototype={onload:function(){return this.deferred.done.apply(this.deferred,arguments),this.deferred},ready:function(){return"resolved"==this.deferred.state()},remove:function(){delete this.cssLinkResource}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(1)),a=i(n(0)),s=i(n(3)),u={},l=0,c=s.default.desktop()?2:1,d=!1,f={PENDING:1,LOADING:2,LOADED:3,ERROR:4,CANCELED:5},h=function(){this.queue=[],this.finished=o.default.Deferred()};h.prototype=a.default.extend(h.prototype,{push:function(t){this.queue.push(t)},getNextItem:function(){if(0===this.length())return null;var t=this.queue.shift();return 0===this.length()&&(this.finished.resolve(),this.finished=o.default.Deferred()),t},length:function(){return this.queue.length},flush:function(){this.queue=[],this.finished.resolve(),this.finished=o.default.Deferred()},onFinish:function(t){this.finished.done(t)}});var p=new h,g=new h,v=function(t,e,n){var i=f.PENDING,s=new o.default.Deferred;this.getStatus=function(){return i},this.setStatus=function(t){a.default.includes(a.default.values(f),t)&&(i=t)},this.getPromise=function(){return s.promise()},this.load=function(){i=f.LOADING;var u=a.default.isFunction(e)?e():o.default.noop();return u.promise?(u.then((function(){i=f.LOADED,s.resolve.apply(this,arguments)}),(function(){i=f.ERROR,s.reject(),r.default.devWarn("Resource failed to load",{key:t})})),u.always((function(){a.default.isFunction(n)&&n()})),this.getPromise()):(s.reject(),r.default.warn("onLoadBegin must be a function that returns a deferred promise and resolves with necessary resource data",{key:t}),this.getPromise())},this.getKey=function(){return t}};v.prototype.loadNow=function(){return this.getStatus()===f.PENDING&&(g.push(this),y()),this.getPromise()},v.prototype.isLoading=function(){return this.getStatus()===f.LOADING},v.prototype.isLoaded=function(){return this.getStatus()===f.LOADED},v.prototype.isError=function(){return this.getStatus()===f.ERROR},v.prototype.isPending=function(){return this.getStatus()==f.PENDING},v.prototype.isCanceled=function(){return this.getStatus()==f.CANCELED},v.prototype.cancel=function(){this.setStatus(f.CANCELED)};var m=o.default.Deferred(),y=function(){if(!(l>=c&&0===g.length())){var t=b();a.default.isNull(t)?m.resolve():(l++,t.load().always((function(){l--,y()})))}},b=function(){var t=null;return g.length()>0&&(t=_(g)),d||a.default.isNull(t)&&(t=_(p)),t},_=function(t){for(var e=null;t.length()>0&&!(e=t.getNextItem()).isPending();)e=null;return e};e.default={add:function(t,e,n){if(a.default.isNull(t)||a.default.isUndefined(t))return null;if(u.hasOwnProperty(t))u[t].isCanceled()&&(u[t].setStatus(f.PENDING),p.push(u[t]));else{var i=new v(t,e,n);u[t]=i,p.push(i)}return y(),u[t]},get:function(t){return a.default.isNull(t)||a.default.isUndefined(t)?null:u.hasOwnProperty(t)?u[t].isError()?(r.default.warn("An error was encountered while trying to load the resource",{key:t}),null):u[t]:(r.default.warn("No resource exists for the provided key",{key:t}),null)},has:function(t){return u.hasOwnProperty(t)},cancelPending:function(){for(g.flush();p.length()>0;){p.getNextItem().status=f.CANCELED}},pause:function(){d=!0},resume:function(){d&&(d=!1,y())},onPriorityQueueCompletion:function(t){g.onFinish(t)},onAllResourcesLoaded:function(t){m.done(t)},purgeResourceCache:function(){u={}}}},function(t,e){t.exports=WebFont},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2)),a=function(){var t=this;this.POLL_TIMEOUT=1e4,this.STATUS_SESSION_ENDED=410,this.STATUS_CONCURRENT_LOGIN=409,this.KEEP_ALIVE_URL="/rest/v1/keep-alive",this.pollForSession=function(){r.default.get(t.KEEP_ALIVE_URL).then(t.setPollTimeout).catch(t.onError)},this.setPollTimeout=function(){setTimeout(t.pollForSession,t.POLL_TIMEOUT)},this.onError=function(e){t.redirectToLogin(e.status)},this.redirectToLogin=function(e){var n="";switch(e){case t.STATUS_SESSION_ENDED:n="invalidSession";break;case t.STATUS_CONCURRENT_LOGIN:n="concurrentLogin"}var i=o.default.adminUrl+"/signin";n.length>0&&(i+="?"+n+"=yes"),t.redirect(i)},this.redirect=function(t){window.location.replace(t)}};e.KeepAlive=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(5)),s=i(n(2)),u=i(n(4)),l=i(n(48)),c=i(n(100)),d=i(n(281)),f=i(n(102)),h=i(n(103)),p=i(n(30)),g=i(n(46)),v=i(n(36)),m=i(n(98)),y=i(n(8)),b=a.default.Collection.extend({model:d.default}),_=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/document-versions",MANIFEST_ADD_PAGE:"manifestAddPage",MANIFEST_REMOVE_PAGE:"manifestRemovePage",MANIFEST_MOVE_PAGE:"manifestMovePage",initialize:function(t,e){if(a.default.Model.prototype.initialize.call(this,t,e),!s.default.previewMode&&!e.docVersionRequest)throw new Error("A doc version request must be passed in when not in preview mode");this.docVersionRequest=e.docVersionRequest,this.pages=[]},fetch:function(t){return this.loadBackgroundImageInfo(),s.default.previewMode?this.fetchForPreviewMode(t):this.fetchForPublished(t)},fetchForPreviewMode:function(t){var e=o.default.Deferred();try{l.default.getConnection().openExisting(this._getDocumentName(),r.default.bind((function(t,n){if(t)u.default.warn(t),e.reject();else if(n){l.default.listenForReadOnlyConnectionLimitError(n);var i=JSON.parse(JSON.stringify(n.snapshot));this.set(i),e.resolve(i,n)}}),this))}catch(t){u.default.warn(t),e.reject()}e.then(r.default.bind((function(t,e){this.bindToDocChanges(e)}),this));var n=this.loadResolvedMedia().fail((function(){u.default.warn("Could not fetch docversion media!")}));return o.default.when(e,n)},fetchForPublished:function(t){return this.docVersionRequest.then(r.default.bind((function(t){v.default.putMediaArray(t.media),delete t.media,this.set(t)}),this))},loadPageModels:function(){u.default.debug("Loading page models");var t=[],e=this.editorPagesManifest.map(r.default.bind((function(e,n){var i=this.createPageModel(e,n);return t.push(i),i.fetch()}),this));return this.pages=t,o.default.when.apply(o.default,e)},createPageModel:function(t,e){var n={slug:t.getSlug(),disabled:t.get("initiallyDisabled",{doNotFallbackToDesktop:!0})};if(!s.default.previewMode){var i=this.get("pages")[t.getSlug()];v.default.putMediaArray(i.media),delete i.media,n=r.default.extend(n,i)}var o=new c.default(n,{documentVersion:this,pageIndex:e});return t.on("change:initiallyDisabled change:overrides",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),y.default.on("change",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),o},processRemoteOps:function(t,e){for(var n=!1,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.p[0];"editorPagesManifest"===s?this.processManifestRemoteOp(a):(this.set(s,JSON.parse(JSON.stringify(t.snapshot[s]))),"smartgroups"===s?(n=n||h.default.isMediaReloadRequiredForOp(t,a),i=!0):"fonts"===s&&this.processFontRemoteOp(a))}n?this.loadResolvedMedia().done(r.default.bind((function(){this.trigger("reload")}),this)):i&&this.trigger("reload")},processFontRemoteOp:function(t){2===t.p.length&&t.p[1]===p.default.EXPERIENCE_FAMILY_GUIDS_KEY&&o.default.when(this.loadFontMetrics()).done(r.default.bind((function(t){s.default.fontManifest=t,this.trigger("reload")}),this))},createManifestCollection:function(){this.editorPagesManifest=new b(this.get("editorPagesManifest")),s.default.previewMode&&this.bindToManifestChanges()},bindToDocChanges:function(t){t.on("shout",r.default.bind((function(t){"updateViewportSize"!==(t=JSON.parse(t)).name&&"updateScaleExperience"!==t.name&&"updateTextMode"!==t.name||window.location.reload()}),this)),t.on("remoteop",r.default.bind((function(e){this.processRemoteOps(t,e)}),this))},bindToManifestChanges:function(){this.editorPagesManifest.on("add",r.default.bind((function(t,e,n){var i=n.at,o=this.createPageModel(t,i);this.pages.splice(i,0,o),o.fetch().done(r.default.bind((function(){this.trigger(this.MANIFEST_ADD_PAGE,t,n.at)}),this))}),this)),this.editorPagesManifest.on("remove",r.default.bind((function(t,e,n){this.pages.splice(n.index,1),this.trigger(this.MANIFEST_REMOVE_PAGE,n.index)}),this)),this.editorPagesManifest.on("move",r.default.bind((function(t,e){this.pages.splice(e,0,this.pages.splice(t,1)[0]),this.trigger(this.MANIFEST_MOVE_PAGE,t,e)}),this))},processManifestRemoteOp:function(t){var e,n=t.p[1];if(2===t.p.length)if(r.default.isUndefined(t.li))if(r.default.isUndefined(t.ld)){if(!r.default.isUndefined(t.lm)){var i=t.lm;e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e,{silent:!0}),this.editorPagesManifest.add(e,{at:i,silent:!0}),this.editorPagesManifest.trigger("move",n,i)}}else e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e);else this.editorPagesManifest.add(t.li,{at:n});else if(3===t.p.length&&!r.default.isUndefined(t.oi)){var o=t.p[2];this.editorPagesManifest.at(n).set(o,t.oi)}},getPageNumberBySlug:function(t){var e=this.editorPagesManifest;if(r.default.isEmpty(e))return null;var n=null;return e.find((function(e,i){return e.getSlug()===t&&(n=i+1,!0)})),n},getPageInfoByNumberOrSlug:function(t){var e=this.editorPagesManifest,n=null,i=null;return r.default.isString(t)?(n=this.getPageNumberBySlug(t))?i=t:n=1:((n=parseInt(t,10))<1||n>e.length)&&(n=1),!i&&e.at(n-1)&&(i=e.at(n-1).getSlug()),{number:n,slug:i}},getExperienceWidth:function(){return this.getOverrideablePropertyForCurrentVariant("viewportWidth")},getExperienceHeight:function(){return this.getOverrideablePropertyForCurrentVariant("viewportHeight")},getScaleExperience:function(){var t=this.getScaleExperienceType();return"string"==typeof t?t!==m.default.SCALE_EXPERIENCE_TYPE.NO_SCALING:this.getOverrideablePropertyForCurrentVariant("scaleExperience")},getScaleExperienceType:function(){return this.getOverrideablePropertyForCurrentVariant("scaleExperienceType")},getPages:function(){return this.pages},getEnabledPageIndexes:function(){var t=[];return r.default.each(this.pages,(function(e,n){e.get("disabled")||t.push(n)})),t},getNearestEnabledPage:function(t){var e=r.default.clamp(t,1,this.pages.length)-1;if(!this.pages[e].get("disabled"))return e+1;for(var n=1;e-n>=0||e+n<this.pages.length;n++){if(this.pages[e+n]&&!this.pages[e+n].get("disabled"))return e+n+1;if(this.pages[e-n]&&!this.pages[e-n].get("disabled"))return e-n+1}},isCarousel:function(){var t=this.editorPagesManifest,e=this.get("carousel");return e&&e.enabled&&t.length>1},isAutoTransitioning:function(){var t=this.get("carousel");return this.isCarousel()&&t.autoTransition},shouldLoadLowRes:function(){return this.get("loadLowRes")},shouldLazyLoad:function(){return this.get("lazyLoading")},getTextMode:function(){return this.get("textMode")},getAutoTransitionDelay:function(){var t=this.get("carousel");return t?t.autoTransitionDelay:0},_getDocumentName:function(){return this.get("uri").replace(/\//g,"_")},getSmartgroupDefinition:function(t){return r.default.find(this.get("smartgroups"),(function(e){return e.id===t}))},loadBackgroundImageInfo:function(){var t=r.default.get(s.default,"themeObj.backgroundImage",null);t&&v.default.put(t.id,t)},loadResolvedMedia:function(){return g.default.loadMediaForRestUri(this.getUri())},loadFontMetrics:function(){return o.default.ajax({url:this.getUri()+"/font-metrics",type:"GET",dataType:"json"})},getUri:function(){return"/rest"+a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)}});r.default.extend(_.prototype,f.default),e.default=_},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(5)),o=i(n(7)),a=i(n(0)),s=i(n(1)),u=i(n(17)),l=i(n(8)),c=i(n(129));e.default=r.default.View.extend({events:{"click .previewer-variant-option":"handleOptionClick","click .reload-btn":"reloadExperience"},initialize:function(){var t=u.default.isViewportWidthDetection();this.$el.show(),this.$el.html(o.default.render(c.default,{showTablet:!t||u.default.doesVariantExist("tablet"),showMobile:!t||u.default.doesVariantExist("mobile"),allLayoutsExist:!t||2===u.default.getNumberOfExistingVariants()})),l.default.on("change",a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.RELOAD_TRIGGERED,a.default.bind(this.loadSpinner,this)),this.updateIcons()},updateIcons:function(){var t=u.default.getPreviewerFrameSize();this.$el.find(".previewer-variant-option").removeClass("-selected");var e="."+t+"-option";this.$el.find(e).addClass("-selected")},handleOptionClick:function(t){var e=s.default(t.currentTarget).data("option");e!==u.default.getPreviewerFrameSize()&&u.default.setPreviewerFrameSize(e)},showSpinner:function(){this.$(".reload-container div").removeClass("ceros-replay-icon").addClass("loader-spinner")},hideSpinner:function(){this.$(".reload-container div").removeClass("loader-spinner").addClass("ceros-replay-icon")},loadSpinner:function(){this.showSpinner(),setTimeout(a.default.bind(this.hideSpinner,this),750)},reloadExperience:function(){u.default.isDocVersionSet()&&(u.default.triggerReload(),this.loadSpinner())}})},function(t,e){t.exports='<ul class="previewer-options-list {{#allLayoutsExist}}-all-layouts-exist{{/allLayoutsExist}}">\n    <li class="previewer-variant-option desktop-option" data-option="desktop">\n        <div class="desktop-option-icon"></div>\n    </li>\n    {{#showTablet}}\n    <li class="previewer-variant-option tablet-option" data-option="tablet">\n        <div class="tablet-option-icon"></div>\n    </li>\n    {{/showTablet}}\n    {{#showMobile}}\n    <li class="previewer-variant-option mobile-option" data-option="mobile">\n        <div class="mobile-option-icon"></div>\n    </li>\n    {{/showMobile}}\n    <li class="reload-container">\n        <div\n            title="To replay animations press \'Option+R\' on Mac or \'Alt+R\' on Windows"\n            class="ceros-icon ceros-replay-icon reload-btn">\n        </div>\n    </li>\n\n</ul>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(5)),a=i(n(0)),s=i(n(33)),u=i(n(2)),l=i(n(17)),c=i(n(8)),d=i(n(131)),f=i(n(3));e.default=o.default.View.extend({initialize:function(){var t=this;this.$previewerSelectionHeaderEl=r.default(".previewer-selection-header"),this.frameName=l.default.getPreviewerFrameSize(),this.$el.addClass("-"+this.frameName),this.onlyAllowFullscreenMode=u.default.isMarkup,this.styleFrame(),r.default(window).on("resize",(function(){t.styleFrame()}));var e=localStorage.getItem(u.default.issue.slug+"-fullscreen-preview");(this.onlyAllowFullscreenMode||"true"===e)&&this.turnOnFullscreenMode(this),this.$el.addClass("-initialized"),r.default(window).on("keyup",(function(e){d.default.isOptionRPressed(e)&&t.reloadExperience(),t.onlyAllowFullscreenMode||(r.default(document.activeElement).is("input")||!d.default.isHKeyPressed(e)||l.default.fullScreenMode?(d.default.isEscKeyPressed(e)||d.default.isHKeyPressed(e))&&l.default.fullScreenMode&&t.turnOffFullscreenMode(t):t.turnOnFullscreenMode(t))})),l.default.on(l.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,(function(e){t.$el.removeClass("-"+t.frameName),t.frameName=e.variant,t.$el.addClass("-"+t.frameName),t.styleFrame(),c.default.detect(),r.default(window).trigger("resize")}))},reloadExperience:function(){l.default.isDocVersionSet()&&l.default.triggerReload()},turnOnFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","true"),l.default.setFullScreenMode(!0),t.$previewerSelectionHeaderEl.hide(),t.$el.addClass("-full-screen-mode"),t.$el.css({width:r.default(window).width(),height:r.default(window).height()}),r.default(window).trigger("resize")},turnOffFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","false"),l.default.setFullScreenMode(!1),t.$previewerSelectionHeaderEl.show(),t.$el.removeClass("-full-screen-mode"),r.default(window).trigger("resize")},getThemeBackgroundColor:function(){return a.default.get(u.default,["themeObj","backgroundColor"],null)},styleFrame:function(){var t=r.default(window);if(l.default.fullScreenMode)this.$el.css({width:t.width(),height:t.height()});else{var e=l.default.getExperienceContainerDimensions(t);if(this.$el.css({width:e.width,height:e.height,backgroundColor:this.getThemeBackgroundColor()}),"desktop"!==this.frameName){var n=l.default.getTopBottomBorderWidth(r.default(window),this.frameName,e.height),i=l.default.getLeftRightBorderWidth(r.default(window),this.frameName,e.width),o=Math.round(n),a=Math.round(i);this.$el.css({"border-top-width":o,"border-bottom-width":o,"border-left-width":a,"border-right-width":a})}}},showFadingHelpMessage:function(){if(!this.onlyAllowFullscreenMode){var t=s.default.get("shownPreviewerFadingHelpMessage");f.default.mobile()||t||(r.default(".fit-to-window-help-message").show().delay(3e3).fadeOut(400),s.default.set("shownPreviewerFadingHelpMessage","1"))}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(72)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(5)),o=i(n(7)),a=i(n(133)),s=r.default.View.extend({events:{"click .close":"handleClose"},initialize:function(){this.$el.html(o.default.render(a.default,{}))},showMessage:function(t){this.$el.find(".message").text(t),this.show()},show:function(){this.$el.find(".infobar").show()},hide:function(){this.$el.find(".infobar").hide()},handleClose:function(){this.hide()}});e.default=s},function(t,e){t.exports='<div class="infobar">\n    <div class="container clearfix">\n        <span class="message">{{msg}}</span>\n        <a title="close" class="close"></a>\n    </div>\n</div>\n'},function(t,e,n){var i={"./analytics/module":73,"./branding/module":50,"./chrome/module":51,"./error/module":52,"./flippers/module":53,"./lightbox/module":64,"./page/module":54,"./sdk-backend/module":99,"./splash-screen/module":39,"./url-navigation/module":63,"./viewport/module":41};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=134},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(1)),s=i(n(3)),u=i(n(136)),l=i(n(151)),c=i(n(152)),d=i(n(75)),f=function(){this.ready=!1,this.lastPageLoadedAttr=null};f.prototype={init:function(t){this.options=o.default.extend({application:"player"},t||{}),this.analyticsTrackerManager=new u.default(t.analyticsTrackers),this.performanceTracker=new l.default,this.performanceTracker.on(this.performanceTracker.EVENTS.PERFORMANCE_MARK,this.sendPerformanceMarkEvent,this),this.playerPageViewTracker=new c.default,this.playerPageViewTracker.on(this.playerPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.sendPageDwellEvent,this),this.ready=!0},getPerformanceTracker:function(){return this.performanceTracker},updateScale:function(t){return this.analyticsTrackerManager.updateScale(t)},unsupportedOpen:function(t){return this._track(this.options.application+".unsupported_browser.open",t)},_openExperience:function(t){this._track(this.options.application+".experience.open",t)},viewExperience:function(t){if(window.cerosPlayerLoadStart){var e=new Date,n=(e-window.cerosPlayerLoadStart)/1e3;r.default.info("First Page Load Time: "+n),n<0&&(r.default.warn(new Error("Analytics: negative load time calculated. Start time: "+window.cerosPlayerLoadStart+", End time: "+e)),n=0),this._openExperience(o.default.extend({load_time:n},t)),window.cerosPlayerLoadStart=null}},viewPage:function(t){s.default.isBot()||this._trackViewPage(t)},playVideo:function(t){this._track(this.options.application+".video.play",t)},trackVideoProgressTime:function(t){this.isPlayer()&&this._track(this.options.application+".video.progress_time",t)},trackVideoProgressPercent:function(t){this.isPlayer()&&this._track(this.options.application+".video.progress_percent",t)},clickComponent:function(t){this._track(this.options.application+".component.click",t)},hoverComponent:function(t){this._track(this.options.application+".component.hover",t)},clickLink:function(t){this._track(this.options.application+".link.click",t)},clickLightbox:function(t){this._track(this.options.application+".lightbox.click",t)},clickProduct:function(t){this._track(this.options.application+".product.click",t)},clickShoppingCart:function(t){this._track(this.options.application+".shopping_cart.click",t)},clickPageShare:function(t){this._track(this.options.application+".page.share",t)},clickCerosBranding:function(t){this._track(this.options.application+".ceros_branding.click",t)},experienceLoadInteraction:function(t){this._track(this.options.application+".experience_load.timed",t)},formSubmit:function(t){o.default.isNil(t.form_origin_form_id)||((t=o.default.clone(t)).form_origin_form_id=""+t.form_origin_form_id),this._track(this.options.application+".component.form_submit",t)},handleApiRequest:function(t,e){this._track(this.options.application+".ceros.api.request",{sdk_event_name:t.name,sdk_version:t.client.sdkVersion})},sendPerformanceMarkEvent:function(t){this._track(this.options.application+".performance.marker",t,!0)},_trackViewPage:function(t){this._track(this.options.application+".page.view",t),this.playerPageViewTracker.activatePage(t.topY,t.bottomY,t.pageHeight),this.lastPageLoadedAttr=t},_track:function(t,e,n){if(!this.ready)throw Error("please call init() before attempting to capture analytics!");return s.default.isBot()?a.default.Deferred().resolve():(n||this.playerPageViewTracker.registerUserActivity(),this.analyticsTrackerManager.sendEvent(t,e))},resetPageTrackingMinMaxY:function(){this.playerPageViewTracker.resetYMinMax()},trackPageScroll:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_slug===t.page_slug&&this.playerPageViewTracker.trackPageScroll(t.topY,t.bottomY)},registerUserActivity:function(){this.playerPageViewTracker.registerUserActivity()},registerUserActivityIfVisible:function(){this.playerPageViewTracker.registerUserActivityIfNotPaused()},sendPageDwellEvent:function(t){if(!s.default.isBot()&&this.isPlayer()&&this.lastPageLoadedAttr){var e={page_slug:this.lastPageLoadedAttr.page_slug,page_num:this.lastPageLoadedAttr.page_num,page_height:this.lastPageLoadedAttr.pageHeight,min_y:t.minY,max_y:t.maxY,dwell_time:t.dwellTime};r.default.debug("SENDING PING, min_y: "+e.min_y+", max_y: "+e.max_y+", Dur: "+e.dwell_time+", page_height: "+e.page_height),this.analyticsTrackerManager.sendEvent(this.options.application+".page.dwell",e)}},isPlayer:function(){return"player"===this.options.application},getUserToken:function(){return d.default.getDomainTrackingCookieData().user_token}},e.default=new f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(137)),u=i(n(144)),l=i(n(147)),c=i(n(149)),d=i(n(150)),f=function(t){this.options=t||{},this.trackers=[],this.options.cerosPlayerTracker&&this.trackers.push(new s.default(this.options.cerosPlayerTracker)),this.options.googleAnalyticsTracker&&this.trackers.push(new u.default(this.options.googleAnalyticsTracker)),this.options.googleTagManagerTracker&&this.trackers.push(new l.default(this.options.googleTagManagerTracker)),this.options.marketoTracker&&this.trackers.push(new c.default(this.options.marketoTracker)),this.options.eloquaTracker&&this.trackers.push(new d.default(this.options.eloquaTracker))};o.default.extend(f.prototype,{sendEvent:function(t,e){if(a.default.isBot())return r.default.Deferred().resolve();var n=[];return o.default.each(this.trackers,(function(i){i.isEnabled()&&n.push(i.sendEvent(t,e))})),r.default.when.apply(r.default,n).promise()},updateScale:function(t){o.default.each(this.trackers,(function(e){e.isEnabled()&&e.updateScale(t)}))}}),e.default=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(138)),s=i(n(8)),u=i(n(2)),l=["previewer.component.hover","player.component.hover"],c=["previewer.page.view","player.page.view"],d=["page_slug","page_num"],f=function(t){a.default.call(this,o.default.extend({trackInitialReferrer:!0,application:u.default.analyticsApplicationKey},t))};(f.prototype=Object.create(a.default.prototype)).constructor=f,o.default.extend(f.prototype,{sendEvent:function(t,e){return o.default.includes(l,t)?r.default.Deferred().resolve():(e=this.filterEventData(t,e),a.default.prototype.track.call(this,t,e))},getCommonProps:function(t){var e=a.default.prototype.getCommonProps.call(this,t);return o.default.extend(e,{experience_alias:u.default.issueAliasSlug,experience_slug:u.default.issue.slug,experience_version_slug:u.default.docVersion.slug,project_slug:u.default.appSlug,current_layout:s.default.hasDetectedVariant()?s.default.getVariant():"unknown"})},filterEventData:function(t,e){return o.default.includes(c,t)&&(e=o.default.pick(e,d)),e}}),e.default=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(139)),u=i(n(3)),l=i(n(140)),c=i(n(141)),d=i(n(74)),f=i(n(75)),h=["player.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],p=function(t){if(d.default.call(this,t),this.options=t||{},this.userEmail=null,this.fullName=null,this.clientVersion=9,this.anonymousUserTrackingData=null,this.domain=this.getRootDomain(),this.experienceCookiePath=this.getExperienceCookiePath(),this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:s.default.generate()},this.eventQueue=new c.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,o.default.bind((function(t){this.trackEvents(t,!1)}),this)),this.environmentData=new l.default,this.options.trackInitialReferrer){var e=this.environmentData.getData();this.setInitialReferrer(e.referrer,e.referring_domain)}};(p.prototype=Object.create(d.default.prototype)).constructor=p,o.default.extend(p.prototype,{setUser:function(t,e,n){this.setDomainTrackingCookie({email:t,full_name:e,user_token:t,slug:n}),this.userEmail=t,this.fullName=e,this.userSlug=n},setInitialReferrer:function(t,e){var n=this.getExperienceTrackingCookieData();(o.default.isUndefined(n.initial_referrer)||o.default.isUndefined(n.initial_referring_domain))&&(n.initial_referrer=t||null,n.initial_referring_domain=e||null,this.setExperienceTrackingCookie(n))},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var n=o.default.extend({},{event_slug:s.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return n=o.default.omitBy(n,o.default.isNull)},track:function(t,e){var n=this.getEvent(t,e);return o.default.includes(h,n.event_name)?(this.eventQueue.addEvent(n),r.default.Deferred().resolve()):this.trackEvents([n],!0)},trackEvents:function(t,e){if(!this.isEnabled())return r.default.Deferred().resolve();if(!a.default.analyticsUrl)return r.default.Deferred().resolve();if(!t||0===t.length)return r.default.Deferred().resolve();var n=this.getDomainTrackingCookieData();n.user_token||(n=this.createDomainTrackingData()),this.setDomainTrackingCookie(n);var i=this.getCommonProps(n),s=this.environmentData.getData();this.options.envPropertyList&&(s=o.default.pick(s,this.options.envPropertyList));var u=this.getExperienceTrackingCookieData();s=o.default.extend(s,{email:n.email,full_name:n.full_name,timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:u.initial_referrer,initial_referring_domain:u.initial_referring_domain}),i=o.default.omitBy(i,o.default.isNull),s=o.default.omitBy(s,o.default.isNull),e&&(t=t.concat(this.eventQueue.popEvents()));var l={common:i,extended_common:s,events:t},c=a.default.analyticsUrl+"?data="+this.encodeData(l);return this._sendTrackingRequest(c,0)},getCommonProps:function(t){return{account_slug:a.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug}},_handleTrackingError:function(t,e,n,i){var r=this;i<3?setTimeout((function(){r._sendTrackingRequest(n,i)}),3e3):3!==i||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:n}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var n=this,i=new r.default.Deferred;if(u.default.isIE9OrEarlier()&&"http:"===location.protocol){var o=new Image;o.crossOrigin="Anonymous",o.src=t+"&_="+Math.random(),o.onload=function(){i.resolve()},o.onerror=function(){i.resolve()}}else r.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).fail((function(r,o,a){n._handleTrackingError(r,a,t,++e),i.resolve()}));return i},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperienceCookiePath:function(){var t=window.location.pathname,e=t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},createAnonymousUserDomainTrackingData:function(){return{user_token:s.default.generate()}},createDomainTrackingData:function(){return this.userEmail?{email:this.userEmail,full_name:this.fullName,user_token:this.userEmail,slug:this.userSlug}:(null===this.anonymousUserTrackingData&&(this.anonymousUserTrackingData=this.createAnonymousUserDomainTrackingData()),this.anonymousUserTrackingData)},setDomainTrackingCookie:function(t){this.isEnabled()&&f.default.setDomainTrackingCookie(t,"/",this.domain)},setExperienceTrackingCookie:function(t){this.isEnabled()&&f.default.setExperienceTrackingCookie(t,this.experienceCookiePath,this.domain)},getDomainTrackingCookieData:function(){return f.default.getDomainTrackingCookieData()},getExperienceTrackingCookieData:function(){return f.default.getExperienceTrackingCookieData()},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerPreviewer:function(){return"player"===a.default.analyticsApplicationKey||"previewer"===a.default.analyticsApplicationKey}}),e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=navigator.userAgent;e.default={generate:(i=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return i()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,n,i=r,o=[],a=0;function s(t,e){var n,i=0;for(n=0;n<e.length;n++)i|=o[n]<<8*n;return t^i}for(e=0;e<i.length;e++)n=i.charCodeAt(e),o.unshift(255&n),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+i()})}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(2)),s=i(n(10)),u=i(n(34)),l=window.navigator.userAgent,c=function(){};c.prototype={data:null,scale:null,initialScale:null,getData:function(){return this.data||(this.data=r.default.extend(this.getStandardParams(),this.getCampaignParams())),r.default.extend(this.data,this.getDynamicTrackingInfo())},updateScale:function(t){this.initialScale=this.initialScale||t,this.scale=t},getDynamicTrackingInfo:function(){var t=u.default.getDimensions(),e={screen_width:t.width,screen_height:t.height};return this.initialScale&&(e.initial_scale=this.initialScale),this.scale&&(e.scale=this.scale),e},getBrowserAndVersionUsingMixpanelAlgorithm:function(t,e,n){var i=function(e){var n=t.match(e);return n&&n[1]},o=null,a=null;e=e||"",r.default.includes(t,"PhantomJS")?(o="PhantomJS",a=i(/PhantomJS\/(\d+)/)):r.default.includes(t,"jsdom")?(o="jsdom",a=i(/jsdom\/([0-9._a-z]+)/)):n?o=r.default.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?o="BlackBerry":r.default.includes(t,"Edge")?(o="Microsoft Edge",a=i(/Edge\/(\d+)/)):r.default.includes(t,"FBIOS")?o="Facebook Mobile":r.default.includes(t,"Chrome")?(o="Chrome",a=i(/Chrome\/(\d+)/)):r.default.includes(t,"CriOS")?(o="Chrome iOS",a=i(/CriOS\/(\d+)/)):r.default.includes(e||"","Apple")?(o=r.default.includes(t,"Mobile")?"Mobile Safari":"Safari",a=i(/Version\/(\d+)/)):r.default.includes(t,"Android")?o="Android Mobile":r.default.includes(t,"Konqueror")?o="Konqueror":r.default.includes(t,"Firefox")?(o="Firefox",a=i(/Firefox\/(\d+)/)):/msie|trident/i.test(t)?(o="Internet Explorer",a=i(/(?:msie |rv:)(\d+)/i)):r.default.includes(t,"Gecko")&&(o="Mozilla");var s={};return o&&(s.name=o),a&&(s.version=a),s},getStandardParams:function(){var t=window.document.referrer,e=this.getSearchEngine(t),n=this.getBrowserAndVersionUsingMixpanelAlgorithm(l,navigator.vendor,window.opera);return{browser:n.name,trial:a.default.isTrialAccount?1:0,browser_version:n.version,user_agent:l,device_type:o.default.deviceType(),player_type:o.default.playerType(),initial_orientation:o.default.orientation(),cookies_enabled:o.default.cookies()?1:0,embedded:o.default.isIframe()?1:0,https:"https:"===window.location.protocol?1:0,device:this.getDevice(),device_pixel_ratio:o.default.pixelRatio(),search_engine:e,search_keyword:this.getSearchKeyword(e,t),os:o.default.os.name,os_version:o.default.os.version,referrer:t||null,referring_domain:this.extractReferringDomain(t)}},extractReferringDomain:function(t){var e=null;return t&&((e=s.default.extractDomain(t))||(e=t)),e},getDevice:function(){return/Windows Phone/i.test(l)||/WPDesktop/.test(l)?"Windows Phone":/iPad/.test(l)?"iPad":/iPod/.test(l)?"iPod Touch":/iPhone/.test(l)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Android/.test(l)?"Android":null},getSearchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},getSearchKeyword:function(t,e){var n="yahoo"!=t?"q":"p";if(null!==t){var i=s.default.getUrlParams(e)[n];if(i&&i.length)return i}return null},getCampaignParams:function(){return r.default.pick(s.default.getUrlParams(window.document.URL),"utm_source","utm_medium","utm_campaign","utm_content","utm_term")}},e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=function(){this.queue=[],this.timerId=null};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{AGGREGATE_EVENT:"aggregate-event"},addEvent:function(t){this.queue.push(t),this.startTimer()},isEmpty:function(){return 0===this.queue.length},popEvents:function(){var t=this.queue.splice(0,5);return this.clearTimer(),r.default.isEmpty(this.queue)||this.startTimer(),t},startTimer:function(){null===this.timerId&&(this.timerId=setTimeout(r.default.bind(this.postEvents,this),5e3))},clearTimer:function(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},postEvents:function(){this.queue.length>0?this.trigger(this.EVENTS.AGGREGATE_EVENT,this.popEvents()):this.clearTimer()}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.CEROS_ID="ceros_id",t.AUTH_REFERER="auth_referer",t.ORIGINAL_REFERER="original_referer",t.CEROS_DOMAIN_TRACKING="cerosdomaintracking",t.CEROS_EXPERIENCE_TRACKING="cerosexperiencetracking"}(e.CookieName||(e.CookieName={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t}();e.DataUtils=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(2)),s=i(n(9)),u=i(n(40)),l=i(n(145)),c=i(n(146)),d=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(d.prototype=Object.create(u.default.prototype)).constructor=d,o.default.extend(d.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.trackingID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={hitType:"pageview",page:s.default.buildUriForPageNumber(t.page_num)},n=new l.default(e);a.default.previewMode?r.default.forceInfo("GA page view event",n.toString()):n.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);if(a.default.previewMode)r.default.forceInfo("GA custom event",e.toString());else if(a.default.isEmbedded){var n=new c.default(t.eventAction,{send_to:this.options.trackingID,event_category:t.eventCategory,event_label:t.eventLabel});this.invokeOnParentPage([n,e])}else e.invoke()}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(49)),o=function(t){r.default.call(this,"ga",["send",t])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(49)),o=function(t,e){r.default.call(this,"gtag",["event",t,e])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(2)),s=i(n(9)),u=i(n(40)),l=i(n(148)),c=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(c.prototype=Object.create(u.default.prototype)).constructor=c,o.default.extend(c.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.containerID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={event:"ceros-pageview",cerosPagePath:s.default.buildUriForPageNumber(t.page_num),cerosPageTitle:t.page_name,cerosPageLocation:window.location.href},n=new l.default(e);a.default.previewMode?r.default.forceInfo("GTM page view event",n.toString()):n.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.hoverEventAction,cerosLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);a.default.previewMode?r.default.forceInfo("GTM custom event",e.toString()):a.default.isEmbedded?this.invokeOnParentPage(e):e.invoke()}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(49)),o=function(t){r.default.call(this,"dataLayer.push",t)};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(2)),s=i(n(40)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{didInit:!1,isEnabled:function(){return this.options.enabled&&!!this.options.accountId},isPageViewTrackingEnabled:function(){return this.isEnabled()},init:function(t){this.didInit=!!a.default.previewMode||!!window.Munchkin,a.default.previewMode&&r.default.forceInfo("Marketo page view event",JSON.stringify(this.formatPageUri(t.page_num))),window.Munchkin&&window.Munchkin.init(this.options.accountId)},formatPageUri:function(t){var e=window.location.pathname;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),{url:e}},handlePageEvent:function(t){if(this.didInit){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Marketo page view event",JSON.stringify(e)):window.Munchkin.munchkinFunction("visitWebPage",e)}else this.init(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(2)),s=i(n(40)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent)),this.isEnabled()&&(window._elqQ=window._elqQ||[],window._elqQ.push(["elqSetSiteId",this.options.siteId]),t.cookieDomain&&window._elqQ.push(["elqUseFirstPartyCookie",this.options.cookieDomain]))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.siteId},isPageViewTrackingEnabled:function(){return this.isEnabled()},formatPageUri:function(t){var e=window.location.href;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),e},handlePageEvent:function(t){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Eloqua page view event",e):window._elqQ.push(["elqTrackPageView",e])}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=function(){this.startTime=null};a.prototype=r.default.extend(a.prototype,o.default.Events,{EVENTS:{PERFORMANCE_MARK:"performance_mark"},MARKS:{PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},optionalProperties:{},setOptionalProperties:function(t){return this.optionalProperties=t,this},startTracking:function(t){this.startTime=t||(new Date).getTime();var e=r.default.extend({},this.optionalProperties,{performance_marker_name:"start-tracking",performance_marker_time:0});this.trigger(this.EVENTS.PERFORMANCE_MARK,e)},mark:function(t){if(null===this.startTime)return!1;var e=(new Date).getTime()-this.startTime;if(e<0||e>18e5)return!1;var n=r.default.extend({},this.optionalProperties,{performance_marker_name:t,performance_marker_time:e});return this.trigger(this.EVENTS.PERFORMANCE_MARK,n),!0}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(4)),a=i(n(0)),s=i(n(153)),u=function(){s.default.call(this)};(u.prototype=Object.create(s.default.prototype)).constructor=u;a.default.extend(u.prototype,{activatePage:function(t,e,n){this.timerId&&(o.default.debug("Stopping page ping timer"),clearTimeout(this.timerId),this.timerId=null),t=isNaN(t)?0:t,e=isNaN(e)?n:e,this.minY=t,this.maxY=e,this.lastTopY=t,this.lastBottomY=e,this.pageHeight=n,this.pageActivated=!0,this.registerUserActivity()},resetYMinMax:function(){this.minY=void 0,this.maxY=void 0},trackPageScroll:a.default.throttle((function(t,e){isNaN(t)||isNaN(e)||(this.minY=void 0===this.minY?t:Math.min(t,this.minY),this.maxY=void 0===this.maxY?e:Math.max(e,this.maxY),this.lastTopY=t,this.lastBottomY=e,this.registerUserActivity())}),200),setPostEventFireData:function(){this.minY=this.lastTopY,this.maxY=this.lastBottomY},shouldStartPagePingEventTimer:function(){return this.isUserActive()||this.isLightboxOpen()},getDwellTimeEventData:function(){var t=Math.max(0,this.minY),e=this.maxY;return this.pageHeight&&(e=Math.min(this.pageHeight,e)),{minY:t,maxY:e,dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},isLightboxOpen:function(){return r.default(".ceros-lightbox").is(":visible")},logDebug:function(t){o.default.debug(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=function(){this.lastUserActivityTime=null,this.timerId=null,this.paused=!1,this.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.registerUserActivity()}),this))};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{USER_ACTIVITY_PING:"user-activity-ping"},PAGE_PING_INTERVAL_MILLIS:5e3,USER_INACTIVITY_TIMEOUT_MILLIS:3e4,pause:function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},registerUserActivity:function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},registerUserActivityIfNotPaused:function(){this.paused||this.registerUserActivity()},startTimer:function(){this.logDebug("Starting page ping timer");var t=r.default.bind((function(){this.timerId=setTimeout(r.default.bind((function(){this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.setPostEventFireData(),this.shouldStartPagePingEventTimer()?t():(this.logDebug("Stopping page pings. User is not active."),this.timerId=null)}),this),this.PAGE_PING_INTERVAL_MILLIS),this.timerStartTime=Date.now()}),this);t()},getDwellTimeEventData:function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},setPostEventFireData:function(){},shouldStartPagePingEventTimer:function(){return this.isUserActive()},isUserActive:function(){return new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},isRunning:function(){return null!==this.timerId},logDebug:function(t){console.debug(t)}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(2)),u=i(n(11)),l=i(n(16)),c=i(n(155)),d=s.default.publicAssetsBaseUrl+"PoweredByCeros.svg";e.default=u.default.extend({id:"ceros-branding",initialize:function(){this.poweredByUrl=this.getBrandingLinkUrl(),u.default.prototype.initialize.call(this),this.render(),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.$el,o.default.bind(this._clickCerosBranding,this))},render:function(){if(this.$el.empty().html(c.default),this.$el.find("a").attr("href",this.poweredByUrl),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.setCustomTheming(),!this.options.whiteLabeling){var t={color:this.options.menuForegroundColor},e={alt:"Powered By Ceros",width:"100%",height:"100%"};l.default.addVectorImage(d).loadNow().done(o.default.bind((function(n){n.createImageElement(t,e).done(o.default.bind((function(t){this.$el.find("a").append(t)}),this))}),this))}},setCustomTheming:function(){this.$el.css("background-color",this.options.menuBackgroundColor);var t=this.options.menuHoverOpacity,e=this.$el.find("a");a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",t)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",t)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this._positionCerosBranding()},_positionCerosBranding:function(){a.default.isIphoneFullscreenMobileSafari(r.default(window).width(),r.default(window).height())?this.$el.css({right:"42px","border-radius":"3px 3px 0 0"}):this.$el.css({right:0,"border-radius":"3px 0 0 0"})},getBrandingLinkUrl:function(){return"http://www3.ceros.com/poweredbyceros?"+["utm_source=M-W-CerosPower","account="+encodeURIComponent(s.default.accountSlug),"experience="+encodeURIComponent(s.default.issueAliasSlug)].join("&")},_onResize:function(){this._positionCerosBranding()},_clickCerosBranding:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.BRANDING_CEROS_BRANDING_CLICK)}})},function(t,e){t.exports='\n    <a href="#" class="label"><span class="sr-only">Powered by Ceros</span></a>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(11)),u=i(n(157)),l=i(n(18)),c=i(n(10)),d=i(n(9)),f=i(n(72));e.default=s.default.extend({id:"chrome",initialize:function(){s.default.prototype.initialize.call(this),this.autoHideTimer=null,this.render(),this.clickOverlay=r.default('<div class="click-overlay"></div>'),this.bindInteraction(this.clickOverlay,o.default.bind(this._hideShareMenu,this)),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.title,o.default.bind(this._clickTitle,this)),this.bindInteraction(this.share,o.default.bind(this._activateShareMenu,this)),this.bindInteraction(this.shareMenu.find("a"),o.default.bind(this._sharePage,this)),this.bindInteraction(this.cart,o.default.bind(this._activateCart,this))},render:function(){this.$el.empty().html(u.default),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.chromeMenu=this.$el.find("#chrome-menu"),this.title=this.chromeMenu.find(".title"),this.share=this.chromeMenu.find(".share"),this.$shareBtn=this.chromeMenu.find(".share-button"),this.shareMenu=this.chromeMenu.find(".share-menu"),this.shareMenuArrow=this.chromeMenu.find(".arrow"),this._renderShareMenuArrow(),this.cart=this.chromeMenu.find(".cart"),!1===this.options.showChromeMenu&&this.chromeMenu.hide(),this.setCustomTheming(),this.options.allowCommerceIntegration&&this.options.commerceSettings.shoppingCartUrl||this.cart.remove(),this.chromeMenu.addClass("icon-"+this.chromeMenu.find("div.button").length)},_renderShareMenuArrow:function(){var t=r.default('<canvas width="39" height="18"></canvas>');this.shareMenuArrow.empty().append(t);var e=t[0].getContext("2d");e.save(),e.clearRect(0,0,39,18),e.fillStyle=this.options.menuBackgroundColor,e.beginPath(),e.moveTo(19.5,0),e.lineTo(39,18),e.lineTo(0,18),e.lineTo(19.5,0),e.fill(),e.restore()},setCustomTheming:function(){this.chromeMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.find("li").css("border-color",this.options.menuBorderColor);var t=this.options.menuForegroundColor;this.$el.find(".title,.label,.icon").css("color",t);var e=this.$el.find("a"),n=this.options.menuHoverOpacity;a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",n)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",n)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))},toggle:function(){this.chromeMenu.fadeToggle({duration:"fast",queue:!1,complete:o.default.bind(this.setAutoHideTimer,this)})},setAutoHideTimer:function(){this.cancelAutoHide(),this.chromeMenu.is(":visible")&&(this.autoHideTimer=setTimeout(o.default.bind((function(){"none"===this.shareMenu.css("display")&&this.hide(!0)}),this),5e3))},cancelAutoHide:function(){clearTimeout(this.autoHideTimer)},show:function(t){this.cancelAutoHide(),t?this.$el.fadeIn("fast"):this.$el.show()},hide:function(t){this.cancelAutoHide(),t?this.chromeMenu.fadeOut("fast"):this.chromeMenu.hide()},getHeight:function(){return!1===this.options.showChromeMenu?0:a.default.mobile()?50:42},setTitle:function(t){this.chromeMenu.find(".title").text(t)},_onResize:function(){this._positionShareMenu()},_showShareMenu:function(){this._positionShareMenu(),this.shareMenuArrow.show(),this.shareMenu.attr("aria-expanded","true"),this.shareMenu.slideDown(150,o.default.bind((function(){this.$el.after(this.clickOverlay),this.clickOverlay.show()}),this)),o.default.defer(o.default.bind((function(){this.bindInteraction(this.$el,o.default.bind(this._hideShareMenu,this))}),this)),this.bindShareMenuFocusStateWatcher(),this.bindShareMenuEscWatcher()},bindShareMenuFocusStateWatcher:function(){this.focusCallback=function(){this.shareMenu[0].contains(document.activeElement)||(this.removeShareMenuWatchers(),this._hideShareMenu())}.bind(this),document.addEventListener("focus",this.focusCallback,!0)},bindShareMenuEscWatcher:function(){this.escCallback=function(t){"Escape"!==t.code&&t.keyCode!==f.default.ESC||(this.removeShareMenuWatchers(),this.$shareBtn.focus(),this._hideShareMenu())}.bind(this),document.addEventListener("keydown",this.escCallback,!0)},removeShareMenuWatchers:function(){document.removeEventListener("keydown",this.escCallback,!0),document.removeEventListener("focus",this.focusCallback,!0)},_hideShareMenu:function(){this.shareMenu.attr("aria-expanded","false"),this.shareMenu.slideUp(100,o.default.bind((function(){this.shareMenuArrow.hide(),this.clickOverlay.detach(),this.unbindInteraction(this.$el)}),this)),a.default.mobile()&&this.setAutoHideTimer()},_positionShareMenu:function(){if(this.options.showChromeMenu){var t,e=r.default(window).width(),n=this.chromeMenu.height()+10;t=e<=480?this.share.position().left+this.share.width()/2-this.shareMenu.width()/2:this.share.position().left,this.shareMenu.css({top:n+"px",left:t+"px"})}},setMenuLinkHrefs:function(t){var e=c.default.removeEmbedParams(d.default.buildUriForPageNumber(t)),n=window.location.protocol+"//"+window.location.host+e,i=this.$el.find("[data-share='facebook']"),r=this.$el.find("[data-share='twitter']"),o=this.$el.find("[data-share='linkedin']"),a=this.$el.find("[data-share='pinterest']"),s=this.$el.find("[data-share='email']");this.title.attr("href",d.default.buildUriForPageNumber(1)),i.attr("href",l.default.urlForFacebook(n)),r.attr("href",l.default.urlForTwitter(n)),o.attr("href",l.default.urlForLinkedIn(n)),a.attr("href",l.default.urlForPinterest(n)),s.attr("href",l.default.urlForEmail(n))},_clickTitle:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.CHROME_TITLE_CLICK)},_activateCart:function(){this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHOPPING_CART)},_activateShareMenu:function(t){"none"===this.shareMenu.css("display")?(this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE),this._showShareMenu()):this._hideShareMenu()},_sharePage:function(t){t.preventDefault();var e="share-"+r.default(t.currentTarget).attr("data-share");this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE_PAGE,{action:e}),this._hideShareMenu()}})},function(t,e){t.exports='<nav id="chrome-menu">\n    <a href="#" class="title" title="Home"></a>\n    <div class="menu-buttons">\n        <div class="share button">\n            <button class="menu-button share-button" aria-controls="shareMenu"><span class="sr-only">Social Sharing Menu</span><span class="icon">&#xe000;</span></button>\n            <div class="arrow">\x3c!-- A dynamically rendered HTML5 canvas or VML element is inserted here --\x3e</div>\n        </div>\n        <div id="shareMenu" class="share-menu" style="display:none;" aria-expanded="false">\n            <ul>\n                <li><a href="#" data-share="facebook" title="Share on Facebook"><span class="sr-only">Share on Facebook</span><span class="icon ceros-facebook-icon"></span></a></li>\n                <li><a href="#" data-share="twitter" title="Share on Twitter"><span class="sr-only">Share on Twitter</span><span class="icon ceros-twitter-icon"></span></a></li>\n                <li><a href="#" data-share="linkedin" title="Share on LinkedIn"><span class="sr-only">Share on LinkedIn</span><span class="icon ceros-linkedin-icon"></span></a></li>\n                <li><a href="#" data-share="pinterest" title="Share on Pinterest"><span class="sr-only">Share on Pinterest</span><span class="icon ceros-pinterest-icon"></span></a></li>\n                <li><a href="#" data-share="email" title="Share via Email"><span class="sr-only">Share on Email</span><span class="icon ceros-email-icon"></span></a></li>\n            </ul>\n        </div>\n        <div class="cart button" aria-controls="cartModal">\n            <button class="menu-button" aria-controls="lightbox"><span class="sr-only">Open Cart</span><span class="icon">&#xe004;</span></button>\n        </div>\n    </div>\n</nav>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(7)),o=i(n(11)),a=i(n(159));e.default=o.default.extend({id:"errorModal",initialize:function(t){o.default.prototype.initialize.call(this,t),this.options=t,this.render()},render:function(){var t=r.default.render(a.default,{title:this.options.title,message:this.options.message,imageCssClass:this.options.imageCssClass});this.$el.html(t)}})},function(t,e){t.exports='<div id="float"></div>\n<div id="dialog">\n    <div id="content">\n        <div id="title">\n            {{title}}\n        </div>\n        <div id="image" {{#imageCssClass}}class="{{imageCssClass}}"{{/imageCssClass}}></div>\n        <div id="message">\n            {{{message}}}\n        </div>\n    </div>\n</div>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(13)),u=i(n(41)),l=i(n(63)),c=i(n(11)),d=i(n(3)),f=i(n(265)),h=i(n(9));e.default=c.default.extend({id:"flippers",leftArrow:null,rightArrow:null,scaleData:null,currentPageNumber:0,smallWindowThreshold:600,options:null,initialize:function(){c.default.prototype.initialize.call(this),d.default.desktop()&&r.default(document).on("keydown",o.default.bind(this.keyHandler,this)),this.render(),this.bindInteraction(this.leftArrow,o.default.bind(this._previousPage,this)),this.bindInteraction(this.rightArrow,o.default.bind(this._nextPage,this)),this.bindInteraction(this.$el)},onClose:function(){c.default.prototype.initialize.call(this),this.unbindInteraction(this.leftArrow),this.unbindInteraction(this.rightArrow),this.unbindInteraction(this.$el)},_previousPageHref:function(){if(!this.currentPageNumber)return"#";var t=h.default.parseLayoutFromLocation();return h.default.buildUri(l.default.PAGE_MODES.NUMBER,Math.max(1,this.currentPageNumber-1),t)},_nextPageHref:function(){if(!this.currentPageNumber)return"#";var t=h.default.parseLayoutFromLocation();return h.default.buildUri(l.default.PAGE_MODES.NUMBER,this.currentPageNumber+1,t)},replaceHrefs:function(){this.currentPageNumber=u.default.currentPageNumber(),this.$(".prev.left a").attr("href",this._previousPageHref()),this.$(".next.right a").attr("href",this._nextPageHref())},render:function(){var t=a.default.isEmbedded?"<button>":"<a>";this.leftArrow=r.default("<div>",{class:"prev left",css:{"background-color":this.options.menuBackgroundColor}}),this.leftArrowA=r.default(t,{title:"Previous Page",html:f.default.LEFT_ARROW,attr:{"aria-label":"Previous Page"},css:{color:this.options.menuForegroundColor}}),this.leftArrow.append(this.leftArrowA),this.rightArrow=r.default("<div>",{class:"next right",css:{"background-color":this.options.menuBackgroundColor}}),this.rightArrowA=r.default(t,{title:"Next Page",html:f.default.RIGHT_ARROW,attr:{"aria-label":"Next Page"},css:{color:this.options.menuForegroundColor}}),this.rightArrow.append(this.rightArrowA),a.default.isEmbedded||(this.leftArrowA.attr("href",this._previousPageHref()),this.rightArrowA.attr("href",this._nextPageHref()));var e=this.options.menuHoverOpacity;d.default.touch()&&(this.leftArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))),d.default.desktop()&&(this.leftArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")}))),this.disableNext(),this.disablePrevious(),this.$el.append(this.leftArrow),this.$el.append(this.rightArrow),!1===this.options.arrowsEnabled&&this.hide()},scale:function(t){t&&(this.scaleData=t);var e=this.scaleData.height,n=this.scaleData.marginTop,i=this.scaleData.originalWindowWidth;this.scaleData.windowHeight<this.smallWindowThreshold||i<this.smallWindowThreshold?(this.rightArrow.addClass("small"),this.leftArrow.addClass("small")):(this.leftArrow.removeClass("small"),this.rightArrow.removeClass("small"));var r,o=parseFloat(this.rightArrowA.css("height")),a=s.default.getInstance();r=a.isActive()?a.getVerticalCenterOfVisibleArea(e)-o/2:e/2-o/2+n,r=Math.round(r)+"px",this.leftArrow.css("top",r),this.rightArrow.css("top",r)},isPreviousDisabled:function(){return this.leftArrow.hasClass("disabled")},isNextDisabled:function(){return this.rightArrow.hasClass("disabled")},disablePrevious:function(){this.isPreviousDisabled()||(this.leftArrow.addClass("disabled"),this.leftArrow.attr("aria-hidden",!0),this.leftArrowA.attr("title",""),this.leftArrowA.attr("tabindex","-1"))},disableNext:function(){this.isNextDisabled()||(this.rightArrow.addClass("disabled"),this.rightArrow.attr("aria-hidden",!0),this.rightArrowA.attr("title",""),this.rightArrowA.attr("tabindex","-1"))},enablePrevious:function(){this.isPreviousDisabled()&&(this.leftArrow.removeClass("disabled"),this.leftArrow.removeAttr("aria-hidden"),this.leftArrowA.attr("title","Previous Page"),this.leftArrowA.removeAttr("tabindex"))},enableNext:function(){this.isNextDisabled()&&(this.rightArrow.removeClass("disabled"),this.rightArrow.removeAttr("aria-hidden"),this.rightArrowA.attr("title","Next Page"),this.rightArrowA.removeAttr("tabindex"))},show:function(){!0===this.options.arrowsEnabled&&this.$el.show()},hide:function(){this.$el.hide()},_nextPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.NEXT_PAGE)},_previousPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.PREVIOUS_PAGE)},keyHandler:function(t){(!t.target||"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName)&&(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||this.options.arrowsEnabled&&(39!==t.keyCode||this.isNextDisabled()?37!==t.keyCode||this.isPreviousDisabled()?37!==t.keyCode&&39!==t.keyCode||(t.stopPropagation(),t.preventDefault()):(t.stopPropagation(),t.preventDefault(),this._previousPage(t)):(t.stopPropagation(),t.preventDefault(),this._nextPage(t))))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(1)),a=i(n(0)),s=i(n(2)),u=i(n(77)),l=i(n(78)),c=i(n(16)),d=i(n(79)),f=i(n(3)),h=i(n(11)),p=i(n(80)),g=i(n(162)),v=i(n(17)),m=n(163),y=i(n(19)),b=i(n(20)),_=0,w=1,E=2;e.default=h.default.extend({id:"viewport",documentVersion:null,module:null,pageJumpFrom:null,currentPage:null,currentPageSlug:null,pageViews:null,leftThresholdA:null,leftThresholdB:null,rightThresholdA:null,rightThresholdB:null,clickShield:null,isPageTransitionInProgress:!1,autoTransitionDelay:null,backgroundImage:null,scaleContext:null,scrollPositionsByPage:{},viewportContainer:null,backgroundContainerEl:null,backgroundImageEl:null,backgroundImageResource:null,backgroundImageInfo:null,mainContentLink:null,MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:2,initialize:function(){this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.module=this.options.module,this.mainContentLink=new m.MainContentLinkView({docVersion:this.documentVersion}),h.default.prototype.initialize.call(this),y.default.hasFeature(b.default.ACCESSIBILITY)&&this.$el.append(this.mainContentLink.$el),o.default(window).on("resize",a.default.bind(this.scale,this)),f.default.touch()&&(l.default.mergeDelegates(this,g.default),this.configureGestures()),this.clickShield=o.default('<div class="click-shield"></div>'),this.addClickShield(),this.reset(null),s.default.previewMode&&this.listenForRemoteChanges(),a.default.each(this.documentVersion.pages,a.default.bind((function(t){t.on("change:disabled",(function(){this.module.trigger(this.module.publishedEvents.PAGE_ENABLED_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this)}),this)),this.backgroundImageInfo=a.default.get(s.default,"themeObj.backgroundImage",null)},listenForRemoteChanges:function(){this.documentVersion.on("change:carousel",a.default.bind((function(){this.getCurrentPage()&&this.currentPageSlug&&(this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.setAutoTransitionDelay())}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_ADD_PAGE,a.default.bind((function(t,e){var n=this.module.createSinglePageView(t,e);this.pageViews.splice(e,0,n),n.prepare().done(a.default.bind((function(){n.attach(),this.$el[0].appendChild(n.el()[0]),this.scale(),n.makePending(),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_REMOVE_PAGE,a.default.bind((function(t){t+1===this.currentPage?this.module.trigger(this.module.publishedEvents.CURRENT_PAGE_DELETED):(this.pageViews.splice(t,1),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_MOVE_PAGE,a.default.bind((function(t,e){var n=this.pageViews.splice(t,1)[0];this.pageViews.splice(e,0,n),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))},getNextPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage+1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=1;this.pageViews[t-1].isDisabled()&&t<this.currentPage;)t++;t>=this.currentPage&&(t=!1)}else t=!1}return t},getPreviousPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage-1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t--,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=this.pageViews.length;this.pageViews[t-1].isDisabled()&&t>this.currentPage;)t--;t<=this.currentPage&&(t=!1)}else t=!1}return t},isFirstPage:function(){return!1===this.getPreviousPageIndex()},isLastPage:function(){return!1===this.getNextPageIndex()},getCurrentPage:function(){return null!==this.pageViews&&this.pageViews[this.currentPage-1]},getNextPage:function(){var t=!1,e=this.getNextPageIndex();return e&&(t=this.pageViews[e-1]),t},getPreviousPage:function(){var t=!1,e=this.getPreviousPageIndex();return e&&(t=this.pageViews[e-1]),t},getPageCount:function(){return null===this.pageViews?0:this.pageViews.length},getPageViewportWidth:function(){return this.getCurrentPage().getScaleContext().originalWindowWidth},getExperienceWidth:function(){return this.documentVersion.getExperienceWidth()},getExperienceHeight:function(){return this.documentVersion.getExperienceHeight()},reset:function(t,e){if(this.$el.children().not("#ceros-branding").not(this.mainContentLink.$el).remove(),a.default.isNull(e)?this.currentPage=1:this.currentPage=e,null!==this.pageViews&&a.default.each(this.pageViews,(function(t){t.close()})),this.pageViews=t,this.viewportContainer=document.createDocumentFragment(),null!==this.pageViews){this._updatePageCss();var n=[];a.default.each(this.pageViews,(function(t){n.unshift(t.el()[0])})),a.default.each(n,a.default.bind((function(t){this.viewportContainer.appendChild(t)}),this)),this.$el[0].appendChild(this.viewportContainer),this.scale()}},disablePage:function(t){this.pageViews[t-1].disable()},enablePage:function(t){this.pageViews[t-1].enable()},nextPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getNextPageIndex();if(e){var n=this.getCurrentPage(),i=this.getNextPage();this._preTransition(n,i),this.switchPage(e,E,t)}}},previousPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getPreviousPageIndex();if(e){var n=this.getCurrentPage(),i=this.getPreviousPage();this._preTransition(n,i),this.switchPage(e,w,t)}}},doTransitionAnimation:function(t,e,n,i){if(n===_)return(new o.default.Deferred).resolve().promise();var r=new o.default.Deferred;this.isPageTransitionInProgress=!0,r.done(a.default.bind((function(){this.isPageTransitionInProgress=!1}),this)),e.makeInTransition();var s=this.getPageViewportWidth()*(n===E?-1:1);return t.pauseAnimations(),t.el().animate({"background-position-x":s},{duration:i,easing:"easeOutCubic",step:a.default.bind((function(n){t.setBackgroundPositionAndScaleTransform(n,this.isPageTransitionInProgress),e.setBackgroundPositionAndScaleTransform(n-s,this.isPageTransitionInProgress)}),this),complete:r.resolve}),r.promise()},_storePageScrollPosition:function(t){this.scrollPositionsByPage[t.getSlug()]=t.getScrollPosition()},_getStoredPageScrollPosition:function(t){return!a.default.isUndefined(t)&&a.default.has(this.scrollPositionsByPage,t.getSlug())?this.scrollPositionsByPage[t.getSlug()]:0},_preTransition:function(t,e){var n=t.getScaleContext();this._storePageScrollPosition(t),n.constrainedByHeight&&(this._hidePageScrollbar(t),this._hidePageScrollbar(e))},jumpToPage:function(t){if(null!==this.pageViews){var e=this.pageViews.length;t>=1&&t<=e&&(this.pageViews[t-1].isDisabled()||this.switchPage(t,_))}},isPageTransitioning:function(){return this.isPageTransitionInProgress},switchPage:function(t,e,n){this.isPageTransitioning()||(this.clearAutoTransitionDelay(),e==_||this.documentVersion.isAutoTransitioning()||this.getCurrentPage().pauseAnimations(),this.getCurrentPage().resetTimedTriggers(),this.showPage(t,e,n).done(a.default.bind((function(){var t=this.getCurrentPage();this.activatePage(t),t.doCustomScaling()}),this)))},showPage:function(t,e,n){e=!s.default.shouldReduceMotion&&e||_,n=n||500;var i=null;this.currentPage!==t&&(i=this.pageViews[this.currentPage-1]);var r,u=t-1;(this.currentPage=t,this.currentPageSlug=this.pageViews[u].getSlug(),this.module.trigger(this.module.publishedEvents.PAGE_CHANGING,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),i&&i.reset(),this.documentVersion.shouldLazyLoad())?r=[u]:r=new p.default(this.documentVersion.getEnabledPageIndexes(),this.documentVersion.isCarousel()).getPageIndexesToLoad(u);var l=new o.default.Deferred;this.attachPages(r,u).always(a.default.bind((function(){l.resolve()}),this));var c=this.doTransitionAnimation(i,this.getCurrentPage(),e,n);return c.done(a.default.bind((function(){this._updatePageCss(),this._adjustPage()}),this)),o.default.when(l,c)},_adjustPage:function(){var t=this.getCurrentPage();t.setScrollPosition(this._getStoredPageScrollPosition(t)),this._showPageScrollbar(t),this._focusPage(t)},_focusPage:function(t){s.default.isEmbedded||t&&t.focusScrollContainer()},activatePage:function(t){this.module.trigger(this.module.publishedEvents.PAGE_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage()}),t.activate(),y.default.hasFeature(b.default.ACCESSIBILITY)&&this.mainContentLink.setPageView(t).render(),this.setAutoTransitionDelay()},attachPages:function(t,e){var n=new o.default.Deferred;setTimeout(a.default.bind((function(){a.default.each(t,a.default.bind((function(t){this.pageViews[t].attach()}),this)),"pending"===n.state()&&(r.default.devWarn("Page media took over 10 seconds"),n.reject())}),this),1e4),this.module.trigger(this.module.publishedEvents.PAGE_BATCH_LOAD_START);var i=[];return a.default.each(t,a.default.bind((function(t){var n=this.pageViews[t],r=n.prepare();r.always(a.default.bind(n.attach,n)),(a.default.isUndefined(e)||t===e)&&i.push(r)}),this)),o.default.when.apply(o.default,i).done(n.resolve),o.default.when.apply(o.default,i).fail(n.reject),n.promise()},_updatePageCss:function(){var t;a.default.each(this.pageViews,a.default.bind((function(e,n){(t=n+1)<this.currentPage&&!e.isViewed()?e.makeViewed():t!==this.currentPage||e.isTop()?t>this.currentPage&&!e.isPending()&&e.makePending():e.makeTop()}),this))},scalePageComponents:function(){a.default.each(this.pageViews,(function(t){t.scale()}))},_showPageScrollbar:function(t){!f.default.isIos()&&this._doesPageFitInViewport(t)?t.$pageContainer.css("overflow-y","hidden"):t.$pageContainer.css("overflow-y","scroll")},_hidePageScrollbar:function(t){t.$pageContainer.css("overflow-y","hidden")},_doesPageFitInViewport:function(t){var e=t.getScaleContext(),n=t.model.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=Math.round(e.windowHeight/e.ratio),o=Math.round(e.windowWidth/e.ratio);return(n<=(s.default.heightOverride||this.documentVersion.getExperienceHeight())||n<=r)&&i<=o},scale:function(t){var e,n,i=this.scaleContext.getCurrentWindowScaleContext(),r=this.getExperienceWidth(),s=this.documentVersion.getScaleExperience();o.default("#main").css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px"}),this.$el.css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px","margin-top":i.marginTop+"px"}),null!==this.pageViews&&a.default.each(this.pageViews,a.default.bind((function(t){var o=t.model.getPageHeight(this.documentVersion),a=t.getScaleContext(),u=this._doesPageFitInViewport(t),l=u?0:d.default.getScrollbarWidth();if(n=this.getPageViewOffsetTop(t,a),e=this.getPageViewOffsetLeft(t,a,l),a.constrainedByWidth&&a.windowWidth<a.originalWindowWidth&&u){var c=(a.originalWindowWidth-a.windowWidth)/a.ratio;e+=c/2}var f=s?"hidden":"scroll";t.$pageContainer.css({width:"100%",height:"100%","overflow-y":"scroll","overflow-x":f,position:"relative"}),this._showPageScrollbar(t);var h=0;t.isPending()?h=i.originalWindowWidth:t.isViewed()&&(h=-1*i.originalWindowWidth),s?this.setPageViewScaleTransformCss(t,a):t.$el.css({height:"100%",width:"100%"}),t.setBackgroundPositionAndScaleTransform(h,this.isPageTransitionInProgress),s?t.$pageScroll.css({height:o+"px",width:r,left:e>=1?e:0,top:n>=1?n:0}):this.setPageScrollUnscaledCss(t,o,r,a),t.$pinnedContainer&&this.setPinnedContainerCss(o,a,e,n,l,r,t)}),this));var u=this.getCurrentPage();!1!==u&&(this._focusPage(u),this.module.isFirstPageReadyToShow()&&u.onScrollAndWindowResize()),this.module.trigger(this.module.publishedEvents.SCALE,i)},setPageScrollUnscaledCss:function(t,e,n,i){t.$pageScroll.css({height:e+"px",width:n});var r="";e<=i.height?(r+="translateY(-50%) ",t.$pageScroll.css({top:"50%"})):t.$pageScroll.css({top:""}),n<=i.windowWidth?(r+="translateX(-50%)",t.$pageScroll.css({left:"50%"})):t.$pageScroll.css({left:""}),t.$pageScroll.css({transform:r})},setPinnedContainerCss:function(t,e,n,i,r,o,s){var u={height:t+"px",width:e.width/e.ratio,left:n>=1?n:0,top:i>=1?i:0};r?a.default.extend(u,{"max-width":o,width:e.originalWindowWidth/e.ratio-r}):a.default.extend(u,{width:o}),s.$pinnedContainer.css(u)},setPageViewScaleTransformCss:function(t,e){var n,i;this.scaleContext.useZoom(e.ratio)?(n="zoom",i=e.ratio):(n="transform",i="scale("+e.ratio+","+e.ratio+")"),t.storeScaleTransform(n,i);var r={height:e.height/e.ratio+"px",width:e.originalWindowWidth/e.ratio+"px"};r[n]=i,t.$el.css(r)},addClickShield:function(){this.$el.before(this.clickShield),this.clickShield.show()},removeClickShield:function(){this.clickShield.detach()},setAutoTransitionDelay:function(){this.clearAutoTransitionDelay(),this.documentVersion.isAutoTransitioning()&&(this.autoTransitionDelay=a.default.delay(a.default.bind((function(){this.clearAutoTransitionDelay(),this.nextPage()}),this),1e3*this.documentVersion.getAutoTransitionDelay()))},clearAutoTransitionDelay:function(){clearTimeout(this.autoTransitionDelay),this.autoTransitionDelay=null},preloadMedia:function(){this.getBackgroundImagePromise()},getBackgroundImagePromise:function(){return this.backgroundImageResource?this.backgroundImageResource.getPromise():a.default.isNull(this.backgroundImageInfo)?o.default.Deferred().reject().promise():(this.loadBackgroundImage(),this.backgroundImageResource.getPromise())},loadBackgroundImage:function(){this.backgroundImageResource&&this.backgroundImageResource.cancel();var t=this.calculateBackgroundImageDimensions();this.bgImageWidth=t.width,this.bgImageHeight=t.height;var e=u.default.calculateWidthForDevicePixelRatio(this.bgImageWidth);return this.backgroundImageResource=c.default.addRasterImage(this.backgroundImageInfo.id,e),this.backgroundImageResource.loadNow(),this.backgroundImageResource},showBackground:function(t){t&&(this.backgroundContainerEl=o.default("#backgroundContainer"),this.backgroundImageEl=o.default("<img>",{width:20,height:20}),this.backgroundContainerEl.empty().append(this.backgroundImageEl),this.backgroundImageEl.on("load",a.default.bind(this.scaleBackground,this)).attr("src",t.getSrc()),o.default(window).on("resize",a.default.throttle(a.default.bind(this.resizeBackgroundImage,this),200)),this.backgroundContainerEl.fadeIn())},resizeBackgroundImage:function(){this.loadBackgroundImage().getPromise().then(a.default.bind((function(t){o.default(this.backgroundImageEl).attr("src")===t.getSrc()?this.scaleBackground():o.default(this.backgroundImageEl).attr("src",t.getSrc())}),this))},scaleBackground:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();this.backgroundContainerEl.width(t).height(e),this.backgroundImageEl.width(this.bgImageWidth).height(this.bgImageHeight).css({left:"-"+(this.bgImageWidth>t?this.bgImageWidth/2-t/2:0)+"px"})},getWindowWidth:function(){var t=o.default(window);return v.default.getExperienceContainerWidth(t)},getWindowHeight:function(){var t=o.default(window),e=v.default.getExperienceContainerHeight(t);return e+=f.default.getSlackHeight(e)},getPageViewOffsetTop:function(t,e){return this.documentVersion.getScaleExperience()&&e.constrainedByHeight?0:Math.max(0,(e.height/e.ratio-t.model.getPageHeight(this.documentVersion))/2)},getPageViewOffsetLeft:function(t,e,n){var i,r=this.documentVersion.getScaleExperience();n?i=n:i=this._doesPageFitInViewport(t)?0:d.default.getScrollbarWidth();return r&&e.constrainedByWidth?0:Math.max(0,(e.windowWidth/e.ratio-this.getExperienceWidth()-i)/2)},calculateBackgroundImageDimensions:function(){var t=this.backgroundImageInfo.original.width,e=this.backgroundImageInfo.original.height,n=this.getWindowWidth()/t,i=this.getWindowHeight()/e,r=n>i?n:i;return{width:Math.round(r*t),height:Math.round(r*e)}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(3)),s=i(n(76)),u={startX:null,startY:null,lastDirection:null,xDistance:0,yDistance:0,gesturesEnabled:!0,swipeDirection:null,originalDirection:null};e.default={offsetTimeout:null,disableGestures:function(){u.gesturesEnabled=!1},enableGestures:function(){u.gesturesEnabled=!0},configureGestures:function(){var t={};a.default.isBrowserChrome()&&a.default.isAndroid()&&(t.inputClass=s.default.TouchInput),a.default.isMobileSafari()&&(t.touchAction="pan-x pan-y");var e=new s.default.Manager(this.$el[0],t);e.add(new s.default.Press({time:500})),a.default.isMobileSafari()&&(e.add(new s.default.Pinch),e.add(new s.default.Tap),e.get("pinch").set({enable:!0}),e.on("pinch pinchend pinchstart tap",(function(t){"tap"===t.type&&2!==t.tapCount||t.preventDefault()}))),e.on("press",r.default.bind((function(t){u.gesturesEnabled&&(t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.LONGPRESS))}),this)),e.on("hammer.input",r.default.bind((function(t){var e=t.eventType,n=t.deltaTime;if(u.gesturesEnabled){var i=this.getCurrentPage();if(this.isPageTransitioning())t.preventDefault();else switch(e){case s.default.INPUT_START:this.pauseAnimationsOnMove=r.default.once(r.default.bind((function(){i.pauseAnimations()}),this)),this.clearAutoTransitionDelay();break;case s.default.INPUT_MOVE:var a=t.deltaX,l=t.deltaY;if(u.xDistance=Math.abs(a),u.yDistance=Math.abs(l),!u.swipeDirection&&(u.xDistance>10||u.yDistance>10))u.xDistance>u.yDistance?u.swipeDirection=s.default.DIRECTION_HORIZONTAL:u.swipeDirection=s.default.DIRECTION_VERTICAL;else if(!u.swipeDirection)return;if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL?u.lastDirection=a>0?s.default.DIRECTION_RIGHT:s.default.DIRECTION_LEFT:u.swipeDirection==s.default.DIRECTION_VERTICAL&&(u.lastDirection=l>0?s.default.DIRECTION_DOWN:s.default.DIRECTION_UP),r.default.isNull(u.originalDirection)||(u.originalDirection=u.lastDirection),u.originalDirection!=u.lastDirection&&(u.changedDirection=!0),u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!o.default.themeObj.swipeEnabled)return;if(this.getPageCount()<=1&&this.documentVersion.getScaleExperience())return void t.preventDefault();var c=this.getNextPage(),d=this.getPreviousPage();if(!this.isValidHorizontalSwipe())return;if(r.default.isFunction(this.pauseAnimationsOnMove)&&this.pauseAnimationsOnMove(),o.default.isEmbedded&&(this._isSwipeRight()&&!d||this._isSwipeLeft()&&!c))return;c&&this._isSwipeLeft()&&(c.makeInTransition(),c.setBackgroundPositionAndScaleTransform(a+this.getPageViewportWidth(),!0)),d&&this._isSwipeRight()&&(d.makeInTransition(),d.setBackgroundPositionAndScaleTransform(a-this.getPageViewportWidth(),!0));var f=a;this._isSwipeOutOfPageBounds()&&(f=this._getRubberbandHorizontalDistance(),this._isSwipeLeft()&&(f*=-1)),this.getCurrentPage().setBackgroundPositionAndScaleTransform(f,!0),t.preventDefault()}break;case s.default.INPUT_END:case s.default.INPUT_CANCEL:if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!this.isValidHorizontalSwipe())return;if(this.pauseAnimationsOnMove=null,!o.default.themeObj.swipeEnabled)return void this.setAutoTransitionDelay();var h=u.xDistance/n;if(!this._isSwipeOutOfPageBounds()&&e==s.default.INPUT_END&&(this._isDistancePageChangeSwipe(u.xDistance)||this._isVelocityPageChangeSwipe(h))){var p=this.calculateRemainingTransitionTime(u.xDistance,n);this._isSwipeLeft()?this._slideLeft(p):this._isSwipeRight()&&this._slideRight(p)}else this._abortSlide(n)}u.xDistance=0,u.yDistance=0,u.lastDirection=null,u.swipeDirection=null,u.originalDirection=null,u.changedDirection=!1;break;default:t.preventDefault()}}}),this))},isValidHorizontalSwipe:function(){if(!this.documentVersion.getScaleExperience()){if(!this._isAtLeft()&&!this._isAtRight())return!1;if(this._isAtLeft()&&!this._isSwipeRight())return!1;if(this._isAtRight()&&!this._isSwipeLeft())return!1}return!0},_getPageTopWithOffset:function(){var t=this.getCurrentPage();return this._isAtTop()?this._getPageTop(t):this._isAtBottom()?this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET/2},_isAtTop:function(){return this.getCurrentPage().$el.scrollTop()<=0},_isAtBottom:function(){var t=this.getCurrentPage(),e=t.$el.height(),n=t.$pageScroll.height()-e;return t.$el.scrollTop()>=n},_isAtLeft:function(){return-1*this.getCurrentPage().$pageScroll.offset().left<=0},_isAtRight:function(){var t=this.getCurrentPage(),e=t.$el.width(),n=t.$pageScroll.width()-e;return-1*t.$pageScroll.offset().left>=n},_isSwipeOutOfPageBounds:function(){return this.isFirstPage()&&this._isSwipeRight()||this.isLastPage()&&this._isSwipeLeft()},_getRubberbandHorizontalDistance:function(){var t=this.getPageViewportWidth();return u.xDistance>=.5*t?.25*t:(t-u.xDistance)/t*u.xDistance},_isSwipeLeft:function(){return u.lastDirection==s.default.DIRECTION_LEFT},_isSwipeRight:function(){return u.lastDirection==s.default.DIRECTION_RIGHT},_isSwipeUp:function(){return u.lastDirection==s.default.DIRECTION_UP},_isSwipeDown:function(){return u.lastDirection==s.default.DIRECTION_DOWN},_abortSlide:function(t){var e=this.getCurrentPage();if(0!==e.getLeft()){this.isPageTransitionInProgress=!0;var n=this.calculateTransitionTime(u.xDistance,t);e.el().animate({"background-position-x":0},{duration:n,easing:"easeOutCubic",step:r.default.bind((function(t,n){e.setBackgroundPositionAndScaleTransform(t,!0),this.getNextPage()&&this.getNextPage().setBackgroundPositionAndScaleTransform(t+this.getPageViewportWidth(),!0),this.getPreviousPage()&&this.getPreviousPage().setBackgroundPositionAndScaleTransform(t-this.getPageViewportWidth(),!0)}),this),complete:r.default.bind((function(){this.isPageTransitionInProgress=!1;var t=this.getNextPage();t&&t.makePending();var n=this.getPreviousPage();n&&n.makeViewed(),e.resumeAnimations(),this.setAutoTransitionDelay()}),this)})}},_isDistancePageChangeSwipe:function(t){return t>=.2*this.getPageViewportWidth()},_isVelocityPageChangeSwipe:function(t){return t>.6},_slideRight:function(t){return this._slide("right",this.getPreviousPage(),t)},_slideLeft:function(t){return this._slide("left",this.getNextPage(),t)},_slide:function(t,e,n){"left"===t?this.nextPage(n):this.previousPage(n)},calculateTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!1)},calculateRemainingTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!0)},_calculateTransitionTimeInternal:function(t,e,n){var i=1e3,r=t/e,o=t/this.getPageViewportWidth();n&&(o=1-o);var a=(i*=o)/r;return a>i&&(a=i),a}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1)),u=a(n(0)),l=n(81),c=n(165),d=n(166),f=n(22),h=function(t){function e(n){return t.call(this,o(o({},e.DEFAULT_ATTRIBUTES),n))||this}return r(e,t),e.prototype.setPageView=function(t){return this.currentPageView=t,this},e.prototype.initialize=function(t){var n=u.default.get(t,"docVersion.attributes.mainContentLinkText"),i=u.default.get(t,"docVersion.attributes.theming.menuBgColor"),r=u.default.get(t,"docVersion.attributes.theming.menuFgColor");this.$el.html(n||c.MAIN_CONTENT_LINK_DEFAULT_TEXT),this.$el.css("background-color",i||e.DEFAULT_BACKGROUND_COLOR),this.$el.css("color",r||e.DEFAULT_FOREGROUND_COLOR),this.$el.on({click:this.onClick.bind(this)})},e.prototype.render=function(){return this.targetId=s.default(".page-viewport.top main:first").attr("id"),this.targetId?(this.$el.attr("href","#"+this.targetId),this.$el.attr("tabindex",2),this.$el.removeAttr("aria-hidden"),this.$el.css("visibility","")):(this.$el.removeAttr("href"),this.$el.removeAttr("tabindex"),this.$el.attr("aria-hidden","true"),this.$el.css("visibility","hidden")),t.prototype.render.call(this)},e.prototype.onClick=function(t){(t.preventDefault(),this.targetId)&&new l.ScrollToObjectInteraction({layerTargets:[this.targetId],trigger:"click",action:f.ActionTypes.scrollToObject},this.currentPageView).triggerAction(o(o({},t),{clickX:t.clientX,clickY:t.clientY,componentSlug:this.options.id,componentName:"Main Content Link",componentType:"main-content-link",pageSlug:this.currentPageView.model.get("slug"),pageName:this.currentPageView.model.get("name")}))},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e.DEFAULT_ATTRIBUTES={className:"main-content-link",tagName:"a"},e}(d.JsTsViewGlue);e.MainContentLinkView=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){var n=r.default.assign({},t,e);delete n.pageView,r.default.assign(this,n)};e.InteractionInvocation=o},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel"},e.MODEL_DEFAULTS=((i={})[e.properties.ARIA_LABEL]=void 0,i),e.SECTION_DEFAULTS=((r={})[e.properties.HTML_LANDMARK]=void 0,r[e.properties.ARIA_LABEL]=void 0,r),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content"},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.activeClicksForInteractions=[],n}return r(e,t),e.prototype.invokeObjectState=function(t,e){var n=this.findChildView(t);n&&n.invokeObjectState(e)},e.prototype.revokeObjectState=function(t,e){var n=this.findChildView(t);n&&n.revokeObjectState(e)},e.prototype.hasActiveHover=function(t){var e=t.getParentsWithLinkInteraction();return!!this.activeHoversGroupedByInteraction.find((function(n){return!!n.find((function(n){return n.target.id===t.id||!!e.find((function(t){return n.target.id===t}))}))}))},e.prototype.removeAllActiveStates=function(t){var e=this.findChildView(t);e&&e.removeAllActiveStates()},e.prototype.removeActiveState=function(t,e){var n=this.findChildView(t);n&&n.removeActiveState(e)},e.prototype.addActiveState=function(t,e){var n=this.findChildView(t);n&&n.addActiveState(e)},e.prototype.addActiveClickAndBindMouseEvents=function(t,e){0===this.activeClicksForInteractions.length&&(this.$pageScroll.on("mouseup",this.handleMouseUp.bind(this)),this.$pinnedContainer.on("mouseup",this.handleMouseUp.bind(this))),this.activeClicksForInteractions.push({object:t,interaction:e})},e.prototype.deactivateClicks=function(){this.activeClicksForInteractions=[],this.$pageScroll.off("mouseup"),this.$pinnedContainer.off("mouseup")},e.prototype.handleMouseUp=function(){this.activeClicksForInteractions.forEach((function(t){t.object.triggerMouseUpAction(t.interaction)})),this.deactivateClicks()},e.prototype.deactivateInteraction=function(t){if("hover"===t.trigger){var e=this.activeHoversGroupedByInteraction.map((function(e){var n=e.findIndex((function(e){return e.interaction===t}));return-1!==n&&e.splice(n,1),e})).filter((function(t){return!!t.length}));this.activeHoversGroupedByInteraction=e,this.activeHoversGroupedByInteraction.length||this.deactivateHovers()}else if("click"===t.trigger){var n=this.activeClicksForInteractions.filter((function(e){return e.interaction!==t}));this.activeClicksForInteractions=n,this.activeClicksForInteractions.length||this.deactivateClicks()}},e}(o(n(168)).default);e.PageView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),a=i(n(1)),s=i(n(0)),u=i(n(3)),l=i(n(2)),c=i(n(13)),d=i(n(11)),f=n(6),h=i(n(175)),p=i(n(261)),g=i(n(97)),v=i(n(85)),m=i(n(39)),y=i(n(8)),b=i(n(15)),_=i(n(27)),w=n(95),E=r(n(45)),T=n(262),S=i(n(10)),A=n(263),P=n(22);e.default=d.default.extend({className:"page-viewport",tagName:"div",activated:!1,documentVersion:null,$pageContainer:null,$pinnedContainer:null,$pageScroll:null,scaleContext:null,scaleTransformKey:null,scaleTransformValue:null,scaleExperience:null,prerenderer:null,focusArbiter:null,activeHoversGroupedByInteraction:null,defaults:{physicalPageNumber:"unknown"},initialize:function(){if(this.options=s.default.defaults(this.options,this.defaults),this.animationRunner=new p.default,this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.scaleExperience=this.documentVersion.getScaleExperience(),this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[],this.prerenderer=new h.default(this),this.$pageContainer=a.default("<div>",{class:"page-container"}),this.throttleReload=s.default.debounce(s.default.bind(this.reload,this),1e3),this.documentVersion.on("reload",this.throttleReload),this.$pageScroll=a.default("<div>",{class:"page-scroll"}),this.$pageContainer.append(this.$pageScroll),this.documentVersion.shouldLazyLoad()&&S.default.getUrlParams(window.location.href).showLazyLoadBreakpoint){var t=a.default("<hr/>",{class:"lazyLoadingBreakpointLine"});t.css("top",this.model.getlazyLoadingVerticalBreakpoint()+"px"),this.$pageScroll.append(t)}this.focusArbiter=new T.FocusArbiter(this);var e=this;u.default.desktop()&&(this.$pinnedContainer=a.default("<div>",{class:"pinned-container"}),this.$el.append(this.$pinnedContainer),this.$pinnedContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop(),i=t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i*=e.getUnstyledLineHeight()),e.$pageContainer.scrollTop(n+i)}}))),this.$pageContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){var n=e.$pageContainer.scrollTop(),i=n+t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i=n+t.originalEvent.deltaY*e.getUnstyledLineHeight());var r=e.$pageContainer[0].scrollHeight>e.$pageContainer[0].offsetHeight,o=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop>0,a=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop<e.$pageContainer[0].clientHeight;if(l.default.isEmbedded){if(!(-1===window.location.href.indexOf("?heightOverride=")&&r&&o&&a))return;t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}else t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}}));var n=u.default.isDesktopSafari()||u.default.isMobileSafari();u.default.isIpadPretendingToBeDesktop()&&u.default.isIosGreaterThanOrEqualTo(13)&&n&&(this.$pageContainer.addClass("page-container-for-ipad-pretending-to-be-desktop"),this.$pinnedContainer.addClass("pinned-container-for-ipad-pretending-to-be-desktop")),this.$el.append(this.$pageContainer),d.default.prototype.initialize.call(this),this.el=function(){return this.$el},this.$el.attr("data-slug",this.model.get("slug")),this.prepare=s.default.once(s.default.bind(this.prepare,this)),this.attach=s.default.once(s.default.bind(this.attach,this)),this.spinner=null,this.pageReady=new a.default.Deferred,this.renderPlaceholder(),this.activeHoversGroupedByInteraction=[],this.lastViewportUpdate=performance.now(),this.isProcessingScroll=!1;var i=this,r=function(t){t-i.lastViewportUpdate>100?(i.onScrollAndWindowResize(),i.lastViewportUpdate=t,i.isProcessingScroll=!1):requestAnimationFrame(r)};this.$pageContainer.on("scroll",(function(t){i.isProcessingScroll||(i.isProcessingScroll=!0,requestAnimationFrame(r))})),c.default.getInstance().on("change",s.default.bind(this.onScrollAndWindowResize,this)),l.default.previewMode&&this.registerVariantListeners(),this.childViews=[]},registerVariantListeners:function(){y.default.on("change",s.default.debounce(s.default.bind(this.reload,this),50,{leading:!0,trailing:!0})),c.default.getInstance().on("change:windowWidth change:windowHeight",(function(){y.default.detect()})),a.default(window).on("resize",(function(){y.default.detect()}))},startLazyPrerender:function(){return this.prerenderer.lazyPrerender()},prerender:function(){this.prerenderer.prerender()},getPrerenderDeferred:function(){return this.prerenderer.prerenderDeferred},isPrerendered:function(){return this.prerenderer.isPrerendered()},resetPageForPrerender:function(){this.closeAllComponents(),this.childViews=[],this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[]},getUnstyledLineHeight:function(){if(!this.unstyledLineHeight){var t=document.createElement("iframe");t.src="#",document.body.appendChild(t);var e=t.contentWindow.document;e.open(),e.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),e.close();var n=e.body.firstElementChild;this.unstyledLineHeight=n.offsetHeight,document.body.removeChild(t)}return this.unstyledLineHeight},getPageHeight:function(){return this.model.getPageHeight(this.documentVersion)},getPageWidth:function(){return this.model.getPageWidth(this.documentVersion)},getScrollPosition:function(){return this.$pageContainer.scrollTop()},setScrollPosition:function(t){this.$pageContainer.scrollTop(t)},focusScrollContainer:function(){this.$pageContainer.trigger("focus")},triggerModuleScrollEvent:function(t){this.getModule().trigger(this.getModule().publishedEvents.PAGE_SCROLL,{slug:this.model.get("slug"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()})},onScrollAndWindowResize:function(){if(this.activated){var t=this.getVisibleBoundaries();this.animationRunner.whenVisibleBoundariesChange(this.scrollTriggeredObjects,t),this.animationRunner.resetHoverInteractionViewsToInitialVisibility(this.resetWhenOffscreenHoverTriggers,this.childViews,t),this.triggerModuleScrollEvent(t)}},resetTimedTriggers:function(){s.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers(),t.timedTriggersCreatedAtLeastOnce=!1}))},getVisibleBoundaries:function(){var t=this.getVisibleYBoundaries(),e=this.getVisibleXBoundaries();return e?new v.default(t.topY,t.bottomY,e.leftX,e.rightX):new v.default(t.topY,t.bottomY)},getVisibleYBoundaries:function(){var t,e,n=this.getScaleContext(),i=n.height/n.ratio,r=c.default.getInstance(),o=this.$pageContainer.scrollTop();if(r.isActive()){var a=this.getPageHeight(),s=Math.max((i-a)/2,0),u=r.getTop()/n.ratio,l=r.getBottom()/n.ratio;t=Math.max(u,0)+o-s,e=Math.min(l,i)+o-s}else e=(t=o)+i;return{topY:Math.round(t),bottomY:Math.round(e)}},getVisibleXBoundaries:function(){if(this.scaleExperience)return null;var t=this.getScaleContext();return{leftX:this.$pageContainer.scrollLeft(),rightX:this.$pageContainer.scrollLeft()+t.width}},getScaleContext:function(){return this.scaleContext.getPageScaleContext(this.model)},getSlug:function(){return this.model.get("slug")},onClose:function(){this.closeAllComponents()},closeAllComponents:function(){if(this.childViews){var t=function(e){s.default.each(e,(function(e){e.close(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},_bindModel:function(){this.model.on("remote",this.applyRemoteChange,this),this.model.on("reload",this.throttleReload,this)},renderPlaceholder:function(){this.closeAllComponents();var t=a.default(window);this.$el.css({width:t.width(),height:t.height()}),this._createSpinner(!1)},setFixedPosition:function(t){var e=this;u.default.desktop()||(t.$el.css("position","fixed"),t.$el.on("mousewheel",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop();t.originalEvent.deltaY&&e.$pageContainer.scrollTop(n+t.originalEvent.deltaY)})))},findChildView:function(t){return g.default.find(this.childViews,t)},findVideo:function(t){var e=null,n=function(i){return s.default.some(i,(function(i){return i.el&&i.el.id===t?(e=i,!0):!!i.childViews&&n(i.childViews)}))};return this.childViews&&n(this.childViews),e},_addScrollTriggeredObject:function(t){s.default.some(this.scrollTriggeredObjects,(function(e){return e.id==t.id}))||this.scrollTriggeredObjects.push(t)},_removeScrollTriggeredObject:function(t){var e;s.default.find(this.scrollTriggeredObjects,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.scrollTriggeredObjects.splice(e,1)},addResetWhenOffscreenHoverTrigger:function(t){s.default.some(this.resetWhenOffscreenHoverTriggers,(function(e){return e.id==t.id}))||this.resetWhenOffscreenHoverTriggers.push(t)},removeResetWhenOffscreenHoverTrigger:function(t){var e;s.default.find(this.resetWhenOffscreenHoverTriggers,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.resetWhenOffscreenHoverTriggers.splice(e,1)},prepare:function(){return this.prerenderer.isPrerendered()||this.prerenderer.prerender(),this.prerenderer.getPrerenderPromise().done(s.default.bind((function(){a.default.when.apply(a.default,this.attachInitialMedia()).done(s.default.bind((function(){o.default.debug("All page media attached"),this.pageReady.resolve()}),this)).fail(s.default.bind((function(){o.default.debug("Page media failed"),this.pageReady.reject()}),this))}),this)),this.pageReady.promise()},attachInitialMedia:function(){return this.documentVersion.shouldLazyLoad()?(this.attachChildMedia(this,!0),this.attachInitialViewportMedia(this)):this.attachChildMedia(this,!0)},attachViewMedia:function(t){var e=[];e.push(t.attachMedia());return e=e.concat(this.attachChildMedia(t,!1))},attachChildMedia:function(t,e){var n=[],i=this,r=function(t){s.default.each(t,(function(t){e&&!t.initiallyVisible||((!i.documentVersion.shouldLazyLoad()||i.documentVersion.shouldLazyLoad()&&!t.options.isInInitialViewport)&&n.push(t.attachMedia()),t.childViews&&r(t.childViews))}))};return t&&t.childViews&&r(t.childViews),n},attachInitialViewportMedia:function(t){var e=[],n=function(t){s.default.each(t,(function(t){t.options.isInInitialViewport&&e.push(t.attachMedia()),t.childViews&&n(t.childViews)}))};return t&&t.childViews&&n(t.childViews),e},scale:function(){var t=this.getScaleContext();this.model.preloadImages(t);var e=function(t){s.default.each(t,(function(t){(t.mediaHasBeenLoaded||t.initiallyVisible)&&(t.scaleComponent(),t.childViews&&e(t.childViews))}))};e(this.childViews)},doCustomScaling:function(){var t=function(e){s.default.each(e,(function(e){(e.mediaHasBeenLoaded||e.initiallyVisible)&&(e.doCustomScaling(!0),e.childViews&&t(e.childViews))}))};t(this.childViews)},attach:function(){this._destroySpinner(),this.pageReady.resolve(),this.render(),o.default.debug("Page idx: "+this.getPageIndex()+" attached!")},render:function(){this.$pageScroll[0].appendChild(this.prerenderer.getDocumentFragment()),u.default.desktop()&&this.$pinnedContainer[0].appendChild(this.prerenderer.getPinnedDocumentFragment());var t=function(e){s.default.each(e,(function(e){e.onAttach(),e.childViews&&(u.default.isDesktopSafari()&&e.childrenUseBlendingModes()&&s.default.isFunction(e.prepareGroupForBlendingModes)&&e.prepareGroupForBlendingModes(),t(e.childViews))}))};t(this.childViews),this.$pageScroll.trigger("focus")},applyRemoteChange:function(t){var e=this.findChildView(t.id);if(this.model.updateLayerDictionaryFromRemoteChange(t),e&&e instanceof f.AbstractComponentView){var n;n=!e.areAllParentsVisible(),e.applyChanges(this.applyPageContext(t.options)),n&&e.hide(),e.doTriggerOnScroll()?this._addScrollTriggeredObject(e):this._removeScrollTriggeredObject(e),e.getResettableHoverInteractions()?this.addResetWhenOffscreenHoverTrigger(e):this.removeResetWhenOffscreenHoverTrigger(e)}},reload:function(){var t=y.default.getVariant();if(t!==this.model.getReconciledVariant()){var e=this.model.reconcileLayers(this.model.get("layerHierarchies")[t],this.model.get("layerDictionary"));this.model.set("layers",e),this.model.resolveSmartgroupsAndMedia()}this.scaleExperience=this.documentVersion.getScaleExperience();var n=this.getScaleContext();this.documentVersion.shouldLazyLoad()?this.model.lazyPreloadAllMedia(n,this.options.isRequestedPage):(this.model.preloadVisibleMedia(n,!0),this.model.preloadHiddenMedia(n)),this.prerender(),this.$pageScroll.empty(),u.default.desktop()&&this.$pinnedContainer.empty(),this.resetTimedTriggers(),this.render(),this.getModule().trigger(this.getModule().publishedEvents.PAGE_RELOAD),this.attachInitialMedia(),this.activateAndRunEntryAnimationsForAllVisible()},storeScaleTransform:function(t,e){this.scaleTransformKey=t,this.scaleTransformValue=e},setBackgroundPositionAndScaleTransform:function(t,e){var n={"background-position-x":t+"px",zoom:"",transform:""};(this.scaleExperience||e)&&(e?"transform"===this.scaleTransformKey?n.transform="translateX("+t+"px) "+this.scaleTransformValue:(n.transform="translateX("+t+"px)",n[this.scaleTransformKey]=this.scaleTransformValue):n[this.scaleTransformKey]=this.scaleTransformValue),this.$el.css(n)},getLeft:function(){return parseInt(this.$el.css("background-position-x"),10)},setOpacity:function(t){this.$pageScroll.css("opacity",t)},isInTransition:function(){return this.$el.hasClass("in-transition")},isPending:function(){return this.$el.hasClass("pending")},isTop:function(){return this.$el.hasClass("top")},isViewed:function(){return this.$el.hasClass("viewed")},isReady:function(){return"resolved"===this.pageReady.state()},isDisabled:function(){return!0===this.model.get("disabled")},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},makeInTransition:function(){this.$el.addClass("in-transition"),this._startSpinner()},makePending:function(){this.$el.removeClass("top viewed in-transition").addClass("pending").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(t.originalWindowWidth,!1),this._stopSpinner()},makeTop:function(){this._startSpinner(),this.$el.removeClass("pending viewed in-transition").addClass("top").attr("aria-hidden",!1),this.setBackgroundPositionAndScaleTransform(0,!1)},activate:function(){this.activateAndRunEntryAnimationsForAllVisible();var t=this.getVisibleBoundaries();this.animationRunner.createTimedTriggers(this.scrollTriggeredObjects,t),this.getModule().trigger(this.getModule().publishedEvents.PAGE_ACTIVATED,{slug:this.model.get("slug"),pageName:this.model.get("name"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()}),this.activated=!0},triggerScrollTo:function(t){t=t.replace(/^#?/,""),t=window.decodeURIComponent(t);var e="#"+E.escapeComponentId(t),n="component",i=t.match(/page-[0-9]+-(top|bottom)/);i?n=i[1]:this.$pageContainer.find(e).hasClass("scranchor")&&(n="scranchor"),b.default.trigger(this.module.publishedEvents.PAGE_ACTION_SCROLL_TO,{scrollTargetType:n,scrollTargetScranchor:t})},makeViewed:function(){this.$el.removeClass("top pending in-transition").addClass("viewed").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(-t.originalWindowWidth,!1),this._stopSpinner()},getThumbnail:function(){return this.options&&this.options.thumbnail?S.default.makeUrlAbsolute(this.options.thumbnail):null},getChildViews:function(){return this.childViews},isChildVisible:function(t){return null!==t&&!0===t.visible},reset:function(){this.childViews&&(this.deactivateHovers(),this.animationRunner.resetAnimationsAndInitialVisibility(this.childViews))},activateAndRunEntryAnimationsForAllVisible:function(){this.childViews&&this.animationRunner.activateAndRunEntryAnimationsForAllVisible(this.childViews,this.getVisibleBoundaries())},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(){this.childViews&&this.animationRunner.restartRepeatEntryAnimationsForAllVisibleOrViewed(this.childViews,this.getVisibleBoundaries())},pauseAnimations:function(){if(this.childViews){var t=function(e){s.default.each(e,(function(e){e.pauseAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},resumeAnimations:function(){if(this.childViews){var t=function(e){s.default.each(e,(function(e){e.resumeAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},isValidChildView:function(t){return null!==this.findChildView(t)},applyPageContext:function(t){return t.interactions=w.InteractionFactory.initializeInteractions(t.interactions,this),t.states&&(t.states=A.ObjectStateFactory.initializeStates(t.states)),s.default.defaults(t,{pageWidth:this.getPageWidth(),pageHeight:this.getPageHeight(),module:this.getModule(),pageView:this,theme:this.options.theme,allowCommerceIntegration:this.options.allowCommerceIntegration})},invokeShowAction:function(t){if(t&&0!==t.length){var e=this,n=[];s.default.each(t,(function(t){var i=e.findChildView(t);i&&n.push(i)})),this.loadAllMediaThenShowChildViews(s.default.uniq(n))}},invokeHideAction:function(t){if(t&&0!==t.length){var e=[],n=this;s.default.each(t,(function(t){var i=n.findChildView(t);i&&e.push(i)})),this.hideAllChildViews(s.default.uniq(e))}},invokeToggleAction:function(t){if(t&&0!==t.length){var e=[],n=[],i=this;s.default.each(t,(function(t){var r=i.findChildView(t);r&&(i.isChildVisible(r)?e.push(r):n.push(r))})),this.hideAllChildViews(s.default.uniq(e)),this.loadAllMediaThenShowChildViews(s.default.uniq(n))}},invokeShowOrHideOnlyAction:function(t,e){if(t&&0!==t.length){var n=[];s.default.each(t,s.default.bind((function(t){var e=this.findChildView(t);e&&(e.parentViews.length>0?n.push(e.parentViews[0]):n.push(this))}),this));var i=[],r=[];s.default.each(s.default.uniq(n),(function(n){s.default.each(n.childViews,(function(n){var o=-1!==t.indexOf(n.id);o&&e||!o&&!e?r.push(n):i.push(n)}))})),this.loadAllMediaThenShowChildViews(s.default.uniq(r)),this.hideAllChildViews(s.default.uniq(i))}},invokeShowOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!0)},invokeHideOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!1)},invokeCycleNextOrPreviousAction:function(t,e){if(t&&0!==t.length){var n=[],i=[];s.default.each(t,s.default.bind((function(t){var r=this.findChildView(t);if(r&&r.childViews&&0!==r.childViews.length){var o,a=s.default.findLast(r.childViews,(function(t){return t.visible}));if(a){var u=r.childViews.indexOf(a);o=e?0===u?r.childViews.length-1:u-1:u===r.childViews.length-1?0:u+1}else o=e?r.childViews.length-1:0;i.push(r.childViews[o]),n=n.concat(r.childViews.slice(0,o)).concat(r.childViews.slice(o+1))}}),this)),this.loadAllMediaThenShowChildViews(s.default.uniq(i)),this.hideAllChildViews(s.default.uniq(n))}},invokeCycleNextAction:function(t){this.invokeCycleNextOrPreviousAction(t,!0)},invokeCyclePreviousAction:function(t){this.invokeCycleNextOrPreviousAction(t,!1)},loadAllMediaThenShowChildViews:function(t){var e=this;function n(){var n=e.getVisibleBoundaries();s.default.each(t,(function(t){t.mediaHasBeenLoaded=!0,e.animationRunner.showChildViewIfAllParentsVisible(t,n)}))}var i=[];if(s.default.each(t,(function(t){t.mediaHasBeenLoaded||(i=i.concat(e.attachViewMedia(t)))})),s.default.isEmpty(i))n();else{s.default.isNull(e.childLoadingTimeout)||clearTimeout(e.childLoadingTimeout),e.childLoadingTimeout=s.default.delay((function(){e._createSpinner(!0)}),200);var r=function(){clearTimeout(e.childLoadingTimeout),e.childLoadingTimeout=null,e._destroySpinner(),n()};a.default.when.apply(a.default,i).done((function(){o.default.debug("Successfully attached child media being shown."),r()})).fail((function(){o.default.debug("Failed to load child media being shown."),r()}))}},hideAllChildViews:function(t){this.animationRunner.hideAllChildViewsAndRunExitAnimations(t)},_createSpinner:function(t){s.default.isNull(this.spinner)&&(this.spinner=m.default.showLoading(this.$el,{startImmediately:t}))},_destroySpinner:function(){this.spinner&&(this.spinner.destroy(),this.spinner=null)},_stopSpinner:function(){this.spinner&&this.spinner.stop()},_startSpinner:function(){this.spinner&&this.spinner.start()},addActiveHoverAndBindMouseEvents:function(t,e){0===this.activeHoversGroupedByInteraction.length&&(this.$pageScroll.on("mousemove",s.default.bind(this._handleMouseMove,this)),this.$pageScroll.on("mouseleave",s.default.bind(this._handleMouseLeave,this)),this.$pinnedContainer.on("mousemove",s.default.bind(this._handleMouseMove,this)));var n=e.getHoverTargets(),i=t.getExtents(),r=[];s.default.isEmpty(i)?this.deactivateHovers():(s.default.each(n,s.default.bind((function(n){if(this.isValidChildView(n)){var i=t.isFixedPosition(),o=n;e.action===P.ActionTypes.changeState&&(o=t.id);var a=this.calculateHoverArea(t,t.getExtents(),o,e,i);e.action===P.ActionTypes.changeState&&t.hasExtentsChangeOnState(e.state)&&e.setHoverArea(a);var u=this.findChildView(n),l=parseInt(u.$el.css("zIndex"),10)||0,c=[];"folder"===u.options.type?l=u.getFirstAvailableZIndex():c=s.default.map(u.getParentsWithLinkInteraction(),s.default.bind((function(t){return this.findChildView(t)}),this));var d={object:t,interaction:e,area:a,target:u,targetZIndex:l,targetParentsWithLinkInteraction:c,pinned:i};r.push(d)}}),this)),r.length?this.activeHoversGroupedByInteraction.push(r):0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers())},calculateHoverArea:function(t,e,n,i,r){var o,a=this.getChildViewExtents(n,i);if(!s.default.isEmpty(a)){if(r){var u=s.default.cloneDeep(t.getExtents()),l=t.getTopAndBottomFixedPosition(u.y1,u.y2);u.y1=l.top,u.y2=l.bottom,o=_.default.createHoverArea(u,a,!1)}else o=_.default.createHoverArea(e,a,!1);return o}this.deactivateHovers()},getMouseXAndMouseYFromEvent:function(t){var e,n,i=this.getScaleContext(),r=this.$pageScroll.offset();return this.scaleContext.useZoom(i.ratio)?(e=t.pageX/i.ratio-r.left,n=t.pageY/i.ratio-r.top):(e=(t.pageX-r.left)/i.ratio,n=(t.pageY-r.top)/i.ratio),{mouseX:e,mouseY:n}},_handleMouseMove:function(t){var e=this,n=this.getMouseXAndMouseYFromEvent(t),i=n.mouseX,r=n.mouseY,o=[],a=Math.ceil(i),u=Math.floor(i),l=Math.ceil(r),c=Math.floor(r);s.default.each(this.activeHoversGroupedByInteraction,s.default.bind((function(t){s.default.every(t,s.default.bind((function(t){var n,i,r=s.default.some(t.targetParentsWithLinkInteraction,(function(t){return t.isHovered()})),o=t.object.isHovered()||t.target.isHovered()||r;if(t.interaction.shouldCreateHoverArea()||t.pinned){var d=s.default.cloneDeep(t.object.getExtents());n=t.interaction.hoverArea||e.calculateHoverArea(t.object,d,t.target.id,t.interaction,t.pinned),i=!(Math.pointInPoly(n,a,l)||Math.pointInPoly(n,a,c)||Math.pointInPoly(n,u,l)||Math.pointInPoly(n,u,c)||o)}else i=!o;return t.target.mediaHasBeenLoaded&&i}),this))?t[0].object.triggerMouseOutAction(t[0].interaction):o.push(t)}),this)),this.activeHoversGroupedByInteraction=o,0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers()},_handleMouseLeave:function(t){s.default.each(this.activeHoversGroupedByInteraction,s.default.bind((function(t){t[0].object.triggerMouseOutAction(t[0].interaction)}),this)),this.deactivateHovers()},deactivateNonParentHovers:function(t){var e=[];s.default.each(this.activeHoversGroupedByInteraction,s.default.bind((function(n){n.length>0&&(s.default.every(n,s.default.bind((function(e){var n=t.idBelongsToParent(e.target.id)||e.target.id===t.id,i=e.object.id===t.id,r=e.interaction.action!==P.ActionTypes.changeState;return!(n||i||!e.target.mediaHasBeenLoaded||!r)}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):e.push(n))}),this)),this.activeHoversGroupedByInteraction=e},isMouseOverAnActiveHoverAreaWithHigherZIndex:function(t,e){var n=this.getMouseXAndMouseYFromEvent(e),i=n.mouseX,r=n.mouseY,o=Math.ceil(i),a=Math.floor(i),u=Math.ceil(r),l=Math.floor(r),c=!1,d=parseInt(t.$el.css("zIndex"),10)||0;return"folder"===t.options.type&&(d=t.getFirstAvailableZIndex()),s.default.each(this.activeHoversGroupedByInteraction,s.default.bind((function(t){if(t.length>0&&(c=s.default.some(t,s.default.bind((function(t){return!!(t.interaction.createHoverArea&&t.targetZIndex>d)&&(Math.pointInPoly(t.area,o,u)||Math.pointInPoly(t.area,o,l)||Math.pointInPoly(t.area,a,u)||Math.pointInPoly(t.area,a,l))}),this))))return!0}),this)),c},deactivateHovers:function(){this.activeHoversGroupedByInteraction=[],this.$pageScroll.off("mousemove"),this.$pageScroll.off("mouseleave")},getChildViewExtents:function(t,e){var n=this.findChildView(t),i={};if(n)if(e&&e.action===P.ActionTypes.changeState)i=n.getExtentsFromObjectState(e.state);else if(i=n.getExtents(),n.isFixedPosition()){var r=n.getTopAndBottomFixedPosition(i.y1,i.y2);i.y1=r.top,i.y2=r.bottom}return i},getPageIndex:function(){return this.model.getPageIndex()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1)),a=i(n(0)),s=i(n(3)),u=i(n(25)),l=i(n(2)),c=i(n(83)),d=i(n(84)),f=i(n(173)),h=i(n(174)),p=n(26),g=n(55),v=i(n(15)),m=i(n(85)),y=i(n(27)),b=i(n(86)),_=r(n(21)),w=i(n(8)),E=n(38),T=i(n(19)),S=i(n(20)),A=n(22);e.default=c.default.extend({COMMERCE_ACTIONS:["product","shopping-cart"],LIGHTBOX_ACTION:"lightbox",className:"component",timedTriggersCreatedAtLeastOnce:!1,initialize:function(){c.default.prototype.initialize.call(this),this.hasAccessibilityFeature=T.default.hasFeature(S.default.ACCESSIBILITY),this.$el.addClass("page-object"),this.$el.addClass(this.type),this.$el.css({position:"absolute"}),this.options.rotation||(this.options.rotation=0),this.timedTriggerTimeouts=[],this.shouldRestartEntryAnimations=!1,this._activatedEntryAnimations=!1,this.runningExitAnimations=!1,this.wasInsideVisibleBoundaries=!1,this.timedTriggersActivated=!1,this.exitAnimationPromise=null,this.validInteractions={},this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y,this.options.absoluteX=this.options.x,this.options.absoluteY=this.options.y,this.$window=o.default(window),this.options.animationsRepeatAll=!!this.options.animationsRepeatAll,this.defaultTagName=this.tagName},tagOverride:function(){var t=void 0;(this.hasAccessibilityFeature&&this.options.htmlLandmarkTag&&(t={tagName:this.options.htmlLandmarkTag}),Array.isArray(this.options.interactions))&&(t=this.options.interactions.reduce((function(t,e){var n=e.domTagOverride;return n?t?n.priority>t.priority?n:t:n:t}),void 0)||t);return t},getSpecifiedAttributes:function(t){return a.default.transform(t,(function(t,e){e.specified&&(t[e.name]=e.value)}),{})},applyAccessibilityFeatures:function(){this.applyTagOverride(),this.hasAccessibilityFeature&&(this.options.ariaLabel?this.getAriaElement().attr("aria-label",this.options.ariaLabel):this.getAriaElement().removeAttr("aria-label"))},getAriaElement:function(){return this.$el},applyTagOverride:function(){var t=this.tagOverride();if(t&&t.tagName){this.tagName=a.default.get(t,"tagName",this.tagName);var e=this.attributes||{};if(this.attributes=a.default.assign({},this.attributes,a.default.get(t,"attributes")),this.$el.is(this.tagName)&&a.default.isEqual(e,this.attributes))return;var n=a.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=o.default("<"+this.tagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}else if(!this.$el.is(this.defaultTagName)){n=a.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=o.default("<"+this.defaultTagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}},getOpacity:function(){return this.options.opacity},addParentView:function(t){this.parentViews.push(t),t.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},hasParents:function(){return this.parentViews.length>0},configureAbsoluteCoordinates:function(){var t=new _.Point(this.options.x+this.options.width/2,this.options.y+this.options.height/2),e=this.parentViews;a.default.each(e,(function(e){if(e.options.rotation){var n=e.options.width/2,i=e.options.height/2;t.rotate(n,i,-Math.toRad(e.options.rotation))}t.x+=e.options.x||0,t.y+=e.options.y||0})),this.options.absoluteX=t.x-this.options.allWidth/2,this.options.absoluteY=t.y-this.options.allHeight/2},areAllParentsVisible:function(){var t=a.default.every(this.parentViews,(function(t){return t.visible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.visible:t},areAllParentsInitiallyVisible:function(){var t=a.default.every(this.parentViews,(function(t){return t.initiallyVisible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.initiallyVisible:t},areAnyParentsNotVisible:function(){var t=a.default.some(this.parentViews,(function(t){return!t.visible}));return this.options.parentSmartgroup?t||!this.options.parentSmartgroup.visible:t},idBelongsToParent:function(t){return a.default.some(this.parentViews,(function(e){return e.id===t}))},addContainerId:function(t){var e=this.$el.attr("data-container-id")?this.$el.attr("data-container-id")+",":"";this.$el.attr("data-container-id",e+t)},onClose:function(){},_configureAllWidthAllHeight:function(){if(a.default.isUndefined(this.options.allWidth)&&a.default.isUndefined(this.options.allHeight)){var t,e,n=this.options.rotation?this.options.rotation:0;if(this.options.parentSmartgroup&&this.options.parentSmartgroup.options.rotation&&(n+=this.options.parentSmartgroup.options.rotation,n%=360),this.hasParents()&&(n+=a.default.reduce(this.parentViews,(function(t,e){return t+(e.options.rotation||0)}),0)),n>180&&(n=360-n),n>90&&(n=180-n),0!==(n=Math.toRad(n))){t=Math.cos(n),e=Math.sin(n);var i=y.default.getExtentsFromDimensions(this.options.x,this.options.y,this.options.width,this.options.height,n,this.options.border.width?this.options.border.width:0);this.options.allWidth=i.x2-i.x1,this.options.allHeight=i.y2-i.y1}else this.options.allWidth=this.options.width,this.options.allHeight=this.options.height;this._configureAllWidthAllHeightForShadow(),this._configureAllWidthAllHeightForBorder(n,e,t)}},_configureAllWidthAllHeightForShadow:function(){a.default.isEmpty(this.options.shadow)||""===this.options.shadow||(this.options.allWidth+=a.default.isNumber(this.options.shadow.x)?Math.abs(this.options.shadow.x):0,this.options.allHeight+=a.default.isNumber(this.options.shadow.y)?Math.abs(this.options.shadow.y):0,this.options.allWidth+=a.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.allHeight+=a.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.shadow.blur>Math.abs(this.options.shadow.x)&&(this.options.allWidth+=this.options.shadow.blur-Math.abs(this.options.shadow.x)),this.options.shadow.blur>Math.abs(this.options.shadow.y)&&(this.options.allHeight+=this.options.shadow.blur-Math.abs(this.options.shadow.y)))},_configureAllWidthAllHeightForBorder:function(t,e,n){!a.default.isEmpty(this.options.border)&&""!==this.options.border&&a.default.isNumber(this.options.border.width)&&(0!==t?(this.options.allWidth+=2*(this.options.border.width*n+this.options.border.width*e),this.options.allHeight+=2*(this.options.border.width*n+this.options.border.width*e)):(this.options.allWidth+=2*this.options.border.width,this.options.allHeight+=2*this.options.border.width))},enablePointerEventsForIPadSafariDesktop:function(){if(this.options.fixedPosition){var t=s.default.isDesktopSafari()||s.default.isMobileSafari();s.default.isIpadPretendingToBeDesktop()&&s.default.isIosGreaterThanOrEqualTo(13)&&t&&(this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.$el.css("pointer-events","all")}},render:function(){if(this.applyAccessibilityFeatures(),this.$el.css("transform",""),this.updateFixedPosition(),this.enablePointerEventsForIPadSafariDesktop(),this._configureAllWidthAllHeight(),this.configureAbsoluteCoordinates(),this._applyPosition(this.options.x,this.options.y,this.options.border),this._applyRotation(this.options.rotation,this.options.width,this.options.height),this._applyDimensions(this.options.width,this.options.height),this._applyOpacity(this.getOpacity()),this._applyVisibility(this.options.visible),this._configureInteractions(),g.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)&&g.WebkitUtils.hardwareAccelerateTransform(this.$el),"image"===this.type&&s.default.isDesktopSafari()&&this.hasActiveBlendingMode()){var t=this.$el.find("img");g.WebkitUtils.hardwareAccelerateTransform(t)}return this.doCustomScaling(),this._applyAnimations(),this._applyBorder(this.options.border),this._applyBackground(this.options.background),this._applyShadow(this.options.shadow,this.options.rotation,this.options.border,this.options.background),this},scaleComponent:function(){this.updateFixedPosition()},updateFixedPosition:function(){if(this.options.fixedPosition&&!s.default.desktop()){var t=this.options.pageView.$pageScroll,e=parseFloat(t.css("left")),n=parseFloat(t.css("top"));this.options.x=this.options.unfixedX+e,this.options.y=this.options.unfixedY+n,this._applyPosition(this.options.x,this.options.y,this.options.border)}},onAttach:function(){},attachMedia:function(){return(new o.default.Deferred).resolve().promise()},applyChanges:function(t){l.default.allowAdaptiveLayouts&&(t=a.default.extend(t,t.overrides[w.default.getVariant()])),this.options=a.default.extend(this.options,t),this.render(),this.attachMedia(),this.rerunActivationAndEntryAnimations()},getApplyPositionTarget:function(){return this.$el},_applyPosition:function(t,e,n){t=a.default.isNil(t)?this.options.x:t,e=a.default.isNil(e)?this.options.y:e,n=a.default.isNil(n)?this.options.border:n;var i=this.getApplyPositionTarget();!a.default.isEmpty(n)&&a.default.isNumber(n.width)&&(t-=n.width,e-=n.width),i.css("left",t+"px"),i.css("top",e+"px")},getApplyDimensionsTarget:function(){return this.$el},_applyDimensions:function(t,e){t=a.default.isNil(t)?this.options.width:t,e=a.default.isNil(e)?this.options.height:e;var n=this.getApplyDimensionsTarget();n.css("width",t+"px"),n.css("height",e+"px"),n.css("transform-origin","center")},setDimensionsAsAttributes:function(t,e,n){t.attr("width",e),t.attr("height",n)},getApplyOpacityTarget:function(){return this.$el},_applyOpacity:function(t){t=a.default.isNil(t)?this.getOpacity():t,this.options.parentSmartgroup&&this.options.parentSmartgroup.getOpacity()<1&&(t*=this.options.parentSmartgroup.getOpacity()),this.getApplyOpacityTarget().css("opacity",t)},getApplyVisibilityTarget:function(){return this.$el},_applyVisibility:function(t){this.getApplyVisibilityTarget().css("display",t?"block":"none")},_applyRotation:function(t){((t=a.default.isNil(t)?this.options.rotation:t)||0===t)&&p.CssUtils.setTransformToElement(this.$el,{rotate:t})},getApplyBorderTarget:function(){return this.$el},_applyBorder:function(t){t=a.default.isNil(t)?this.options.border:t;var e=this.getApplyBorderTarget();if(a.default.isEmpty(t))e.css("border","none");else if(t.width?(e.css("borderWidth",t.width+"px"),t.color&&""!==t.color&&e.css("borderColor",t.color),t.style&&""!==t.style&&t.style.match(/(solid|dashed|dotted)/)?e.css("borderStyle",t.style):e.css("borderStyle","solid")):e.css("borderWidth","0"),t.radius){var n=(t.radius+"").split(",");if(1==n.length)e.css("borderRadius",parseInt(n[0],10)+"px",10);else{var i=parseInt(n[0],10),r=parseInt(n[1],10),o=parseInt(n[2],10),s=parseInt(n[3],10);e.css("borderRadius",i+"px "+r+"px "+o+"px "+s+"px")}}else e.css("borderRadius","")},entryAnimationsActivated:function(){return this._activatedEntryAnimations},isEntryAnimationConfiguredToReplayOnScroll:function(){return this.options.animationsReplayOnScroll},setWasInsideVisibleBoundaries:function(t){this.wasInsideVisibleBoundaries=t},getWasInsideVisibleBoundaries:function(){return this.wasInsideVisibleBoundaries},isAnyPartOfComponentWithinBoundaries:function(t,e){var n=(e=e||this.getComponentBoundaries()).componentTop<t.bottomY&&e.componentBottom>=t.topY;return t.hasXBoundaries&&(n=n&&e.componentLeft<t.rightX&&e.componentRight>=t.leftX),n},isAnyPartOfComponentWithinEntryAnimationBoundaries:function(t,e){return this.isAnyPartOfComponentWithinBoundaries(t.getEntryAnimationVisibleBoundaries(this.options.pageHeight,this.options.pageWidth),e)},isOutsideOfPage:function(){var t=new m.default(0,this.options.pageHeight,0,this.options.pageWidth);return!1===this.isAnyPartOfComponentWithinBoundaries(t)},getComponentBoundaries:function(){var t=this.options.absoluteX,e=this.options.absoluteY,n=this.options.allHeight,i=this.options.allWidth,r=this.options.parentSmartgroup,o=this.isFixedPosition();if(r){t*=r.options.scaleWidth,t+=r.options.originalX,e*=r.options.scaleHeight,e+=r.options.originalY;var a=Math.toRad(r.options.rotation);if(a){var s=r.options.x+r.options.width/2,u=r.options.y+r.options.height/2,l=Math.rotateCoord(t,e,s,u,-a);t=l.x,e=l.y}n*=r.options.scaleHeight}var c=e+n,d=t+i;if(o){var f=this.getTopAndBottomFixedPosition(e,c);e=f.top,c=f.bottom}return{componentTop:e,componentLeft:t,componentBottom:c,componentRight:d}},getTopAndBottomFixedPosition:function(t,e){var n=this.options.pageView.$pinnedContainer,i=this.options.pageView.scaleContext,r=this.options.pageView.getScaleContext(),o=n?n.offset():{left:0,top:0},a=this.options.pageView.$pageScroll.offset().top-o.top;return i.useZoom(r.ratio)||(a/=r.ratio),{top:Math.floor(t-a),bottom:Math.floor(e-a)}},isFixedPosition:function(){if(this.options.fixedPosition||this.options.parentSmartgroup&&this.options.parentSmartgroup.options.fixedPosition)return!0;if(!a.default.isEmpty(this.parentViews))for(var t=0;t<this.parentViews.length;++t){var e=this.parentViews[t];if(void 0!==e.isFixedPosition&&e.isFixedPosition())return!0}return!1},_hasInteraction:function(t){var e=this.options.interactions;return!(!a.default.isArray(e)||0===e.length)&&this.getValidInteractionsByTrigger(t).length>0},hasClickInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.CLICK)},hasMouseDownInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN)},hasHoverInteraction:function(){return s.default.desktop()&&this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)},getResettableHoverInteractions:function(){if(this.hasHoverInteraction()){var t=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);return a.default.filter(t,(function(t){return t.resetWhenScrolledOffscreen}))}return null},hasResettableHoverInteractions:function(){var t=this.getResettableHoverInteractions();return t&&t.length>0},getValidInteractionsByTrigger:function(t){if(!this.validInteractions[t]||l.default.previewMode){var e=this.options.interactions,n=this;(e=a.default.filter(e,(function(e){return!!n._isValidInteraction(e)&&(a.default.isUndefined(t)||e.trigger===t)}))).sort((function(t,e){var n=-1!==["page-goto","page-next","page-prev"].indexOf(t.action),i=-1!==["page-goto","page-next","page-prev"].indexOf(e.action),r="page-enable-disable"==t.action,o="page-enable-disable"==e.action;return r&&i?-1:o&&n?1:0})),this.validInteractions[t]=e}return this.validInteractions[t]},_isValidInteraction:function(t){return!(-1!==a.default.indexOf(this.COMMERCE_ACTIONS,t.action)&&!this.options.allowCommerceIntegration)&&t.isValid()},unbindInteractions:function(){this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout")},assignCursor:function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.$el.css("cursor","pointer"):this.$el.css("cursor","inherit")},styleForTouchDevices:function(){s.default.touch()&&s.default.trident&&this.$el.css("touch-action","manipulation")},bindClickInteraction:function(){this.hasClickInteraction()?this.$el.on("click",a.default.bind(this._handleClickInteraction,this)):this.$el.on("click",a.default.bind(this.handleClickWithoutInteraction,this))},bindMouseDownInteraction:function(){this.hasMouseDownInteraction()&&this.$el.on("mousedown",a.default.bind(this._handleMouseDownInteraction,this))},bindMouseoverInteraction:function(){this.hasHoverInteraction()&&this.$el.on("mouseover",a.default.bind(this._handleMouseOverInteraction,this))},_configureInteractions:function(){this.unbindInteractions(),this.assignCursor(),this.styleForTouchDevices(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseoverInteraction()},createTimedTriggers:function(){var t=this.getModule(),e=this;if(this.canCreateTimedTriggers()){var n=a.default.groupBy(e.getValidInteractionsByTrigger(t.INTERACTION_TRIGGERS.VIEW),(function(t){return t.delay}));a.default.forOwn(n,(function(n,i){var r=a.default.filter(n,(function(t){return!e.timedTriggersCreatedAtLeastOnce||t.repeat}));if(r.length>0){var o=setTimeout((function(){a.default.each(r,(function(n){!function n(r){e.simulateClick(!0,r),v.default.trigger(t.publishedEvents.TIMED_INTERACTION,e.addComponentAndClickDataToEvent(r)),("cycle-next"===r.action||"cycle-previous"===r.action)&&e.timedTriggerTimeouts.push(setTimeout((function(){n(r)}),1e3*i))}(n)}))}),1e3*i);e.timedTriggerTimeouts.push(o)}})),this.timedTriggersCreatedAtLeastOnce=!0,this.timedTriggersActivated=!0}},canCreateTimedTriggers:function(){if(this.timedTriggersActivated)return!1;if(!this.visible)return!1;var t=this.getModule();return!!this._hasInteraction(t.INTERACTION_TRIGGERS.VIEW)&&this.areAllParentsVisible()},simulateClick:function(t,e){var n={clientX:-1,clientY:-1,preventDefault:o.default.noop};this._handleClickInteraction(n,t,e)},_handleClickInteraction:function(t,e,n){var i=this.getModule(),r=!1;t.preventDefault();var o=[];if(e){if(!n)return;o=[n]}else o=this.getValidInteractionsByTrigger(i.INTERACTION_TRIGGERS.CLICK);a.default.each(o,a.default.bind((function(e){this._triggerClickAction(t,e)&&(r=!0)}),this));var s=this.addComponentAndClickDataToEvent({},t);v.default.trigger(i.publishedEvents.PAGE_COMPONENT_CLICKED,s),r&&(t.handledByComponent=!0,e||i.trigger(i.publishedEvents.PAGE_COMPONENT_INTERACTION,s))},handleClickWithoutInteraction:function(t){var e=this.getModule(),n=this.addComponentAndClickDataToEvent({},t);v.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,n)},_triggerClickAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);return e.triggerAction(n)},addComponentAndClickDataToEvent:function(t,e){return o.default.extend(t,{clickX:e?e.clientX:-1,clickY:e?e.clientY:-1,componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:this.options.pageView.model.get("slug"),pageName:this.options.pageView.model.get("name"),currentState:this.options.selectedState})},_handleMouseDownInteraction:function(t){var e;t.preventDefault(),e=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN),a.default.each(e,a.default.bind((function(e){this._triggerMouseDownAction(t,e)}),this));var n=this.addComponentAndClickDataToEvent({},t);v.default.trigger(this.getModule().publishedEvents.PAGE_COMPONENT_MOUSEDOWN_INTERACTION,n)},_triggerMouseDownAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);e.hasOutTrigger&&this.options.pageView.addActiveClickAndBindMouseEvents(this,e),e.triggerAction(n)},_handleMouseOverInteraction:function(t){var e=this,n={componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:this.options.pageView.model.get("slug"),pageName:this.options.pageView.model.get("name"),currentState:this.options.selectedState},i=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER),r=this;if(i.length>0){if(this.options.pageView.isMouseOverAnActiveHoverAreaWithHigherZIndex(this,t))return;this.options.pageView.deactivateNonParentHovers(this),a.default.each(i,(function(t){if(t.action===A.ActionTypes.changeState){var i=e.getParentsWithLinkInteraction();if(i&&i.length>0)return;if(e.options.pageView.hasActiveHover(e))return}r._triggerMouseOverAction(t,n)}));var o=this.getModule();o.trigger(o.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,n)}},_triggerMouseOverAction:function(t,e){if(b.default.hasCustomFiringHoverAction(t)){var n=t.layerTargets,i=b.default.isHoverInteractionShowingLayers(t);n=a.default.filter(n,a.default.bind((function(t){var e=this.options.pageView.findChildView(t);e.removePointerEventsIfNoInteractions();var n=this.options.pageView.isChildVisible(e);return i?!n:n}),this)),i?this.options.pageView.invokeShowAction(n):this.options.pageView.invokeHideAction(n),b.default.isTemporaryHoverInteractionShowingOrHidingLayers(t)&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t)}else t.hasOutTrigger&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t),t.triggerAction(e)},triggerMouseOutAction:function(t){var e=this;a.default.each(t.layerTargets,(function(t){e.options.pageView.findChildView(t).addPointerEvents()})),b.default.isShowLayersOnHoverInteraction(t)?this.options.pageView.invokeHideAction(t.layerTargets):b.default.isHideLayersInteraction(t)?this.options.pageView.invokeShowAction(t.layerTargets):t.hasOutTrigger&&t.triggerOutAction()},getApplyAnimationsTarget:function(){return this.$el},getAnimatedObjectModelData:function(){return{x:this.options.x,y:this.options.y,allWidth:this.options.allWidth,allHeight:this.options.allHeight,width:this.options.width,height:this.options.height,rotation:this.options.rotation,opacity:this.getOpacity(),scaleWidth:this.options.scaleWidth,scaleHeight:this.options.scaleHeight,pageWidth:this.options.pageWidth,pageHeight:this.options.pageHeight,parentSmartgroup:this.options.parentSmartgroup,requiresHardwareAcceleration:g.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)}},_applyAnimations:function(){var t=this.getAnimatedObjectModelData();this.animatedObjectModel=new h.default(t);var e=this.getApplyAnimationsTarget();this.cleanupAnimations(),this.entryAnimations=this.buildAnimationPhases(e,this.options.animations,this.options.animationsRepeatAll,this.animatedObjectModel),this.exitAnimations=this.buildAnimationPhases(e,this.options.exitAnimations,!1,this.animatedObjectModel),this.resetToInitialState()},buildAnimationPhases:function(t,e,n,i){var r=[];if(e&&e.length>0)for(var o=function(t){t.play()},s=0;s<e.length;s++){n&&(e[s].loop=!1);var u=f.default.compileNewSequence(t,e[s],i);if(a.default.isNull(u))break;if(r.push(u),r[r.length-2]&&r[r.length-2].on(d.default.END_EVENT,a.default.bind((function(){a.default.defer(o,this)}),u)),!0===e[s].loop)break}return r},reset:function(){this.resetAnimations()},resetAnimations:function(){this.cleanupAnimations(),this.resetToInitialState(),this.runningExitAnimations=!1,this._activatedEntryAnimations=!1},resetTimers:function(){a.default.each(this.timedTriggerTimeouts,(function(t){window.clearTimeout(t)})),this.timedTriggerTimeouts=[],this.timedTriggersActivated=!1},whenLeavingVisibleBoundaries:function(){var t=this.entryAnimationsActivated()&&this.isEntryAnimationConfiguredToReplayOnScroll(),e=this.getModule(),n=!a.default.isEmpty(this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.VIEW))&&this.initiallyVisible&&this.areAllParentsInitiallyVisible();this.isOutsideOfPage()||(t&&(this.resetAnimations(),this.exitAnimationPromise&&(this.exitAnimationPromise.resolve(),this.exitAnimationPromise=null),this.visible&&"none"===this.$el.css("display")&&this.$el.show()),n&&this.resetTimers())},onActivationStart:function(){},onActivationEnd:function(){this.shouldRestartEntryAnimations=this.hasEntryAnimation()&&(this.options.animationsRepeatAll||this.options.animations[this.options.animations.length-1].loop)},onExitStart:function(){},onExitEnd:function(){},activateAndRunEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()&&!this.entryAnimationsActivated()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},rerunActivationAndEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},restartRepeatEntryAnimations:function(){this.onActivationStart();var t=this.options.animationsRepeatAll&&!l.default.shouldReduceMotion?0:this.options.animations.length-1,e=this;this.runEntryAnimations(t).done((function(){e.onActivationEnd()}))},runEntryAnimations:function(t){var e=this.getModule();if(t=t||0,!this.runningExitAnimations){a.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.entryAnimations[t].resetToInitialState();var n=this,i=new o.default.Deferred,r=function(){a.default.last(n.entryAnimations).off(d.default.END_EVENT,r),n.options.animationsRepeatAll&&!l.default.shouldReduceMotion?a.default.defer(a.default.bind(n.runEntryAnimations,n)):(i.resolve(),v.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_END,n.id))};return a.default.last(this.entryAnimations).on(d.default.END_EVENT,r),this.entryAnimations[t].play(),this.entryAnimations.length>0&&v.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id),i.promise()}return(new o.default.Deferred).resolve().promise()},runAllChildViewExitAnimations:function(t){if(t=t||[],!this.runningExitAnimations&&this.visible&&this.areAllParentsVisible()){var e=this;this.runningExitAnimations=!0,this.onExitStart();var n=this.runExitAnimations().then((function(){e.runningExitAnimations=!1,e.onExitEnd()}));t.push(n),this.childViews&&a.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}))}return t},runExitAnimations:function(){var t=this.getModule();this.entryAnimations&&a.default.each(this.entryAnimations,(function(t){t.cleanup()}));var e=new o.default.Deferred;if(this.exitAnimationPromise=e,a.default.isEmpty(this.exitAnimations)||"none"===this.$el.css("display"))v.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,this.id),e.resolve();else{var n=this,i=function(){v.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,n.id),e.resolve(),a.default.last(n.exitAnimations).off(d.default.END_EVENT,i)};a.default.last(this.exitAnimations).on(d.default.END_EVENT,i),a.default.each(this.exitAnimations,(function(t){t.cleanup()})),this.exitAnimations[0].resetToInitialState(),this.exitAnimations[0].play(),this.exitAnimations.length>0&&v.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id)}return e.promise()},cleanupAnimations:function(){this.entryAnimations&&a.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.exitAnimations&&a.default.each(this.exitAnimations,(function(t){t.cleanup()}))},hasEntryAnimation:function(){return this.entryAnimations&&a.default.size(this.entryAnimations)>0},doTriggerOnScroll:function(){return this.hasEntryAnimation()||this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)||"html"===this.type},resetToInitialState:function(){if(a.default.isEmpty(this.entryAnimations)){if(!a.default.isEmpty(this.exitAnimations)){var t=a.default.first(this.exitAnimations);if(!!(t.isEntryAnimation()||this.options.visible&&0===t.initialState.opacity))return void t.setToFinalState();t.resetToInitialState()}}else a.default.first(this.entryAnimations).resetToInitialState()},pauseAnimations:function(){this.entryAnimations&&a.default.each(this.entryAnimations,(function(t){t.pause()})),this.exitAnimations&&a.default.each(this.exitAnimations,(function(t){t.pause()}))},resumeAnimations:function(){this.entryAnimations&&a.default.each(this.entryAnimations,(function(t){t.resume()})),this.exitAnimations&&a.default.each(this.exitAnimations,(function(t){t.resume()}))},hasShadow:function(t){return!a.default.isEmpty(t)&&(t.x>0||t.x<0||t.y>0||t.y<0||t.blur>0)},getApplyShadowTarget:function(){return this.$el},_applyShadow:function(t,e){var n=this.getApplyShadowTarget();if(t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.hasShadow(t)){var i={x:a.default.isNumber(t.x)?t.x:0,y:a.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(i,e);var r="";r+=Math.round(i.x)+"px",r+=" "+Math.round(i.y)+"px",r+=t.blur?" "+t.blur+"px":" 0",r+=t.spread?" "+t.spread+"px":" 0",r+=" "+t.color,n.css("boxShadow",r)}else n.css("boxShadow","none")},_rotateShadowCoordinates:function(t,e){e=Math.toRad(e);var n=t.x*Math.cos(e)+t.y*Math.sin(e),i=-1*t.x*Math.sin(e)+t.y*Math.cos(e);t.x=n,t.y=i},_flipShadowCoordinates:function(t,e,n){e&&(t.x*=-1),n&&(t.y*=-1)},getApplyBackgroundTarget:function(){return this.$el},_applyBackground:function(t){t=a.default.isNil(t)?this.options.background:t;var e=this.getApplyBackgroundTarget();if(!t)return e.css("backgroundColor","transparent"),void e.css("backgroundImage","none");t.color?e.css("backgroundColor",t.color):e.css("backgroundColor","transparent"),t.gradient?e.css("backgroundImage","linear-gradient("+parseInt(t.gradient.angle,10)+"deg,"+u.default.buildStops(t.gradient.stops)+")"):e.css("backgroundImage","none")},getExtents:function(){var t=this.getExtentsDimensionData(),e=y.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this._transformPointsToExtents(e)},_transformPointsToExtents:function(t){var e=this.transformPointToPageCoordinateSpace(t[0]),n=this.transformPointToPageCoordinateSpace(t[1]),i=this.transformPointToPageCoordinateSpace(t[2]),r=this.transformPointToPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},transformPointToPageCoordinateSpace:function(t){var e=new _.Point(t.x,t.y),n=this.parentViews;if(a.default.each(n,(function(t){if(t.options.rotation){var n=t.options.width/2,i=t.options.height/2;e.rotate(n,i,-Math.toRad(t.options.rotation))}e.x+=t.options.x||0,e.y+=t.options.y||0})),this.options.parentSmartgroup){var i=this.options.parentSmartgroup.options.x,r=this.options.parentSmartgroup.options.y,o=this.options.parentSmartgroup.options.width/2,s=this.options.parentSmartgroup.options.height/2,u=-Math.toRad(this.options.parentSmartgroup.options.rotation);0!==u&&e.rotate(o,s,u),e.x+=i,e.y+=r}return e},isHovered:function(){return this.$el.is(":hover")},removePointerEventsIfNoInteractions:function(){this.options.interactions.length||this.parentsHaveInteractions()||"text-component"===this.options.type&&this.containsHyperlinks()||this.$el.css("pointer-events","none")},addPointerEvents:function(){this.$el.css("pointer-events","auto")},isFlipped:function(){return!a.default.isNil(this.options.flipHorizontal)||!a.default.isNil(this.options.flipVertical)},childrenUseBlendingModes:function(){if(!this.childViews)return!1;var t=this;return this.childViews.some((function(e){var n=a.default.bind(t.childrenUseBlendingModes,e);return e.hasActiveBlendingMode()||n()}))},hasActiveBlendingMode:function(){var t=this.options.blendingMode&&!E.BlendingModes.isDefaultBlendingMode(this.options.blendingMode),e=a.default.some(this.options.states,(function(t){return t.config.blendingMode&&!E.BlendingModes.isDefaultBlendingMode(t.config.blendingMode)}));return t||e},parentsHaveInteractions:function(){var t=this.options.parentSmartGroup||this.parentViews;if(t&&(!Array.isArray(t)||t.length)){var e=[];if(this.options.parentSmartGroup)e=this.options.parentSmartGroup.interactions;else for(var n=0;n<this.parentViews.length;++n)this.parentViews[n].validInteractions&&(e.push(this.parentViews[n].validInteractions.click),e.push(this.parentViews[n].validInteractions.hover),e.push(this.parentViews[n].validInteractions.view));return!!a.default.filter(a.default.flatten(e)).length}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a="undefined"!=typeof WebKitAnimationEvent?"-webkit-":"undefined"!=typeof AnimationEvent?"":null,s=function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]};o.default.extend(s.prototype,{reset:function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]},_generateKeyframe:function(t,e,n,i){var r=t+"|"+JSON.stringify(e);if(0!==i&&(r+="|"+n+"|"+i),this.keyframeMap.hasOwnProperty(r))return this.keyframeMap[r];var s="@"+a+"keyframes keyframe"+this.keyframeInc+"{",u=o.default.sortBy(o.default.keys(e),(function(t){return parseInt(t,10)}));if(0===i)o.default.each(u,(function(n){s+=n+"{"+t+":"+e[n]+"}"}));else{var l=o.default.round(i/(i+n)*100,5),c=100-l;s+="0%{"+t+":"+e["0%"]+"}"+l+"%{"+t+":"+e["0%"]+"}",o.default.each(u,(function(n){"0%"!=n&&(s+=Math.round(l+c*(parseInt(n,10)/100))+"%{"+t+":"+e[n]+"}")}))}return s+="}",this.ruleBuffer.push(s),this.keyframeMap[r]="keyframe"+this.keyframeInc++,this.keyframeMap[r]},_generatePauseClass:function(t){var e="sequencePause"+t;if(!o.default.includes(this.pauseClassCache,e)){this.pauseClassCache.push(e);var n=[];o.default(t).times((function(){n.push("paused")})),this.ruleBuffer.push("."+e+"{"+a+"animation-play-state:"+n.join(",")+" !important;}")}return e},_generateRunClass:function(t,e,n,i){var r="sequenceRun"+this.sequenceInc++;return this.ruleBuffer.push("."+r+"{"+a+"animation-name:"+t.join(",")+";"+a+"animation-duration:"+e.join(",")+";"+a+"animation-timing-function:"+n.join(",")+";"+a+"animation-fill-mode:"+o.default.map(t,(function(){return"both"})).join(",")+";"+a+"animation-play-state:"+o.default.map(t,(function(){return"running"})).join(",")+";"+a+"animation-iteration-count:"+i.join(",")+";}"),r},generate:function(t){var e=o.default.map(t,(function(t){return t.getKey()})).join("&");if(!this.sequenceMap.hasOwnProperty(e)){var n=[],i=[],r=[],s=[],u=this;o.default.each(t,(function(t){var e="transform"==t.property?a+"transform":t.property;n.push(u._generateKeyframe(e,t.frames,t.duration,t.delay)),i.push(t.duration+t.delay+"ms"),r.push(t.easing),s.push(t.iterations)})),this.sequenceMap[e]={runClass:this._generateRunClass(n,i,r,s),pauseClass:this._generatePauseClass(t.length)}}return this.sequenceMap[e]},flush:function(){this.ruleBuffer.length>0&&(r.default("head").append(r.default("<style></style>").html(this.ruleBuffer.join("\n"))),this.ruleBuffer=[])}});var u=null;e.default=(null===u&&(u=new s),u)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={Tween:function(t,e,n,i,r,o){if(this.property=t,this.frames=e,this.duration=n,this.delay=i||0,this.iterations=r,this.easing=o,!this.frames.hasOwnProperty("0%"))throw Error("Tween must define 0% keyframe!");if(!this.frames.hasOwnProperty("100%"))throw Error("Tween must define 100% keyframe!");this._normalize()}};o.Tween.prototype={_normalize:function(){r.default.isUndefined(this.iterations)?this.iterations=1:r.default.isNumber(this.iterations)?(this.iterations=parseInt(this.iterations,10),this.iterations<0&&(this.iterations=0)):this.iterations="infinite"},getKey:function(){for(var t=r.default.values(this),e=0;e<t.length;e++)"object"==typeof t[e]&&(t[e]=JSON.stringify(t[e]));return t.join("|")}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["noDirection","center","left","right","up","down","topRight","topLeft","bottomRight","bottomLeft","backwards","forwards","verticalCenter","horizontalCenter","clockwise","counterClockwise","diagonal1","diagonal2"],a={},s={"Entry Effects":{FADE_IN:{label:"Fade In",directions:{noDirection:"fadeIn",left:"fadeLeft",right:"fadeRight",up:"fadeUp",down:"fadeDown"}},SPIN_FADE_IN:{label:"Spin and Fade In",directions:{counterClockwise:"spinLeftFade",clockwise:"spinRightFade"}},SLIDE_IN:{label:"Slide In",directions:{center:"enlargeFadeIn",left:"slideLeft",right:"slideRight",up:"slideUp",down:"slideDown",topRight:"slideTopRight",topLeft:"slideTopLeft",bottomRight:"slideBottomRight",bottomLeft:"slideBottomLeft"}},BOUNCE_IN:{label:"Bounce In",directions:{left:"bounceRight",right:"bounceLeft",up:"bounceUp",down:"bounceDown"}},LIGHTSPEED_IN:{label:"Light Speed In",directions:{left:"lightSpeedLeftIn",right:"lightSpeedRightIn"}},ROLL_IN:{label:"Roll In",directions:{left:"rollLeftIn",right:"rollRightIn"}},FLIP_IN:{label:"Rock In",directions:{verticalCenter:"flipInX",horizontalCenter:"flipInY"}},SHIFT_IN:{label:"Shift In",directions:{left:"shiftLeft",right:"shiftRight",up:"shiftUp",down:"shiftDown"}},SWING:{label:"Swing",directions:{left:"swingLeft",right:"swingRight",up:"swingTop",down:"swingBottom",bottomRight:"swingTopLeft",bottomLeft:"swingTopRight",topRight:"swingBottomLeft",topLeft:"swingBottomRight"}},SCALE_UP:{label:"Scale Up",directions:{left:"scaleUpLeft",right:"scaleUpRight",center:"enlarge",up:"scaleUpTop",down:"scaleUpBottom"}},EXPAND:{label:"Expand",directions:{left:"scaleUpHorizontalLeft",right:"scaleUpHorizontalRight",down:"scaleUpVerticalTop",up:"scaleUpVerticalBottom",horizontalCenter:"scaleUpHorizontalCenter",verticalCenter:"scaleUpVerticalCenter"}}},"Attention Seekers":{SPIN:{label:"Spin",directions:{clockwise:"spinRight",counterClockwise:"spinLeft"}},FLASH:{label:"Flash",directions:{noDirection:"flash"}},PULSE:{label:"Pulse",directions:{noDirection:"pulse"}},BOB:{label:"Bob",directions:{noDirection:"bob"}},TADA:{label:"Tada",directions:{noDirection:"tada"}},FLIP:{label:"Flip",directions:{horizontalCenter:"flip",verticalCenter:"flipHorizontal",diagonal2:"flipDiagonalRight",diagonal1:"flipDiagonalLeft"}},ROTATE_90:{label:"Rotate 90°",directions:{clockwise:"rotateCW90",counterClockwise:"rotateCCW90"}},SHAKE:{label:"Shake",directions:{noDirection:"shake"}},JELLO:{label:"Jello",directions:{noDirection:"jelloHorizontal"}},WOBBLE:{label:"Wobble",directions:{down:"wobbleTop",up:"wobbleBottom",right:"wobbleLeft",left:"wobbleRight"}},VIBRATE:{label:"Vibrate",directions:{noDirection:"vibrate"}},KEN_BURNS:{label:"Ken Burns",directions:{up:"kenBurnsTop",down:"kenBurnsBottom",left:"kenBurnsLeft",right:"kenBurnsRight"}}},"Exit Effects":{FADE_OUT:{label:"Fade Out",directions:{noDirection:"fadeOut",left:"fadeLeftOut",right:"fadeRightOut",up:"fadeUpOut",down:"fadeDownOut"}},SPIN_FADE_OUT:{label:"Spin and Fade Out",directions:{counterClockwise:"spinLeftFadeOut",clockwise:"spinRightFadeOut"}},SLIDE_OUT:{label:"Slide Out",directions:{right:"slideLeftOut",left:"slideRightOut",up:"slideUpOut",down:"slideDownOut",noDirection:"shrinkFadeOut",topRight:"slideTopRightOut",topLeft:"slideTopLeftOut",bottomRight:"slideBottomRightOut",bottomLeft:"slideBottomLeftOut"}},BOUNCE_OUT:{label:"Bounce Out",directions:{left:"bounceLeftOut",right:"bounceRightOut",up:"bounceUpOut",down:"bounceDownOut"}},LIGHTSPEED_OUT:{label:"Light Speed Out",directions:{left:"lightSpeedLeftOut",right:"lightSpeedRightOut"}},ROLL_OUT:{label:"Roll Out",directions:{left:"rollLeftOut",right:"rollRightOut"}},FLIP_OUT:{label:"Rock Out",directions:{verticalCenter:"flipOutX",horizontalCenter:"flipOutY"}},SHIFT_OUT:{label:"Shift Out",directions:{left:"shiftLeftOut",right:"shiftRightOut",up:"shiftUpOut",down:"shiftDownOut"}},SCALE_DOWN:{label:"Scale Down",directions:{left:"scaleDownLeft",right:"scaleDownRight",center:"shrink",down:"scaleDownTop",up:"scaleDownBottom"}},SHRINK:{label:"Shrink",directions:{down:"scaleDownVerticalTop",up:"scaleDownVerticalBottom",left:"scaleDownHorizontalLeft",right:"scaleDownHorizontalRight",verticalCenter:"scaleDownVerticalCenter",horizontalCenter:"scaleDownHorizontalCenter"}}}},u={},l={},c={};r.default.each(s,(function(t,e){c[e]={},r.default.each(t,(function(t,n){u[n]=t,c[e][n]=t.label,r.default.each(o,(function(e){t.directions.hasOwnProperty(e)&&(l[t.directions[e]]={title:n,direction:e})}))}))})),e.default={DIRECTIONS:o,EFFECT_MAP:u,DROPDOWN_OPTIONS:c,getTypeFromTitleAndDirection:function(t,e){return e||(e="noDirection"),u[t].directions[e]},getTitleAndDirectionFromType:function(t){return l[t]},getDirectionsForTitle:function(t){return r.default.keys(u[t].directions)},isEntryAnimation:function(t){if(a.hasOwnProperty(t))return a[t];for(var e=!1,n=s["Entry Effects"],i=Object.keys(n),o=0;o<i.length;++o){var u=r.default.values(n[i[o]].directions);if(r.default.includes(u,t)){e=!0;break}}return a[t]=e,e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(84)),s=i(n(3)),u={0:[0,0],15:[-30,6],30:[15,-6],45:[-15,3.6],60:[9,-2.4],75:[-6,1.2],100:[0,0]},l={0:[1,1],30:[1.25,.75],40:[.75,1.25],50:[1.15,.85],65:[.95,1.15],75:[1.05,.95],100:[1,1]},c={0:0,10:2,20:-4,30:4,40:-4,50:4,60:-4,70:4,80:-2,90:2,100:0},d={0:[0,0,0],20:[-3,-.1,-.1],30:[3,.1,.1],40:[-3,.1,.1],50:[3,.1,.1],60:[-3,.1,.1],70:[3,.1,.1],80:[-3,.1,.1],90:[3,.1,.1],100:[0,0,0]},f={0:[0,0],5:[-2,2],10:[-2,-2],15:[2,2],20:[2,-2],25:[-2,2],30:[-2,-2],35:[2,2],40:[2,-2],45:[-2,2],50:[-2,-2],55:[2,2],60:[2,-2],65:[-2,2],70:[-2,-2],75:[2,2],80:[2,-2],85:[-2,2],90:[-2,-2],95:[2,2],100:[0,0]};e.default={compileNewSequence:function(t,e,n){var i=null;if(r.default.isString(e.type)&&!r.default.isEmpty(e.type)&&r.default.isNumber(e.duration)&&e.duration>0){var s={$el:t,name:e.type,requiresHardwareAcceleration:n.get("requiresHardwareAcceleration")};(i=new a.default(s)).precompile(),!r.default.isUndefined(e.delay)&&r.default.isNumber(e.delay)||(e.delay=0),!0===e.loop&&i.setLoop(!0),r.default.isFunction(this[e.type])?this[e.type](i,e,n):o.default.warn("Animation type not supported: "+JSON.stringify(e)),i.compile()}return i},getIterations:function(t){var e=t.iterations?t.iterations:1;return!0===t.loop&&(e="infinite"),e},getDuration:function(t){return 1e3*t.duration},getDelay:function(t){return 1e3*t.delay},getEasing:function(t){return t.easing},buildTween:function(t,e,n){return new a.default.Tween(e,n,this.getDuration(t),this.getDelay(t),this.getIterations(t),this.getEasing(t))},fadeIn:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":0,"100%":n.get("opacity")}))},fadeOut:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":n.get("opacity"),"100%":0}))},spinSequence:function(t,e,n,i,r){var o=n.getScale(),a=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":a,"100%":a}))},spinRight:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-360,i)},spinLeft:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+360,i)},rotateCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-90,i)},rotateCCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+90,i)},slideInXSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("x");s.default.mobile()?t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateX(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInYSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("y");s.default.mobile()?t.add(this.buildTween(e,"top",{"0%":i.y+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateY("+(i.y-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateY(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":u+"px"})),t.add(this.buildTween(e,"top",{"0%":r.y+"px","100%":l+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeft:function(t,e,n){this.slideLeftIn(t,e,n)},slideLeftIn:function(t,e,n){var i=n.getOffPageRight();this.slideInXSequence(t,e,n,i)},slideRight:function(t,e,n){this.slideRightIn(t,e,n)},slideRightIn:function(t,e,n){var i=n.getOffPageLeft();this.slideInXSequence(t,e,n,i)},slideDown:function(t,e,n){this.slideDownIn(t,e,n)},slideDownIn:function(t,e,n){var i=n.getOffPageTop();this.slideInYSequence(t,e,n,i)},slideUp:function(t,e,n){this.slideUpIn(t,e,n)},slideUpIn:function(t,e,n){var i=n.getOffPageBottom();this.slideInYSequence(t,e,n,i)},slideTopRight:function(t,e,n){var i=n.getOffPageBottom(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideTopLeft:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideInXYSequence(t,e,n,i,r)},slideBottomRight:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideBottomLeft:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideInXYSequence(t,e,n,r,i)},slideOutSequence:function(t,e,n,i){var r=n.get("x"),o=n.get("y");t.add(this.buildTween(e,"left",{"0%":r+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":o+"px","100%":i.y+"px"}))},slideOutXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":u+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":l+"px","100%":r.y+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeftOut:function(t,e,n){var i=n.getOffPageRight();this.slideOutSequence(t,e,n,i)},slideRightOut:function(t,e,n){var i=n.getOffPageLeft();this.slideOutSequence(t,e,n,i)},slideDownOut:function(t,e,n){var i=n.getOffPageBottom();this.slideOutSequence(t,e,n,i)},slideUpOut:function(t,e,n){var i=n.getOffPageTop();this.slideOutSequence(t,e,n,i)},slideTopRightOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideOutXYSequence(t,e,n,r,i)},slideTopLeftOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideOutXYSequence(t,e,n,r,i)},slideBottomRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},slideBottomLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},shake:function(t,e,n){var i=n.get("rotation"),o=n.getTransformOriginString(.5,.5,!0),a=n.getScale(),s={};r.default.each(c,(function(t,e){s[e+"%"]="rotate("+(i+t)+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform",s)),t.add(this.buildTween(e,"transform-origin",{"0%":o,"100%":o}))},shiftInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeft:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftInSequence(t,e,n,r)},shiftRight:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftInSequence(t,e,n,r)},shiftDown:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftInSequence(t,e,n,r)},shiftUp:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftInSequence(t,e,n,r)},shiftOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftOutSequence(t,e,n,r)},shiftRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftOutSequence(t,e,n,r)},shiftDownOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftOutSequence(t,e,n,r)},shiftUpOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftOutSequence(t,e,n,r)},flash:function(t,e,n){var i=n.get("opacity");t.add(this.buildTween(e,"opacity",{"0%":i,"50%":0,"100%":i}))},pulse:function(t,e,n){var i=n.get("rotation"),r=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"rotate("+i+"deg) scale("+(r.x+.1)+","+(r.y+.1)+")","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},bob:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.getRelativeRotatedPoint(0,-30),a=n.getRelativeRotatedPoint(0,-15);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","40%":"translate("+o.x+"px,"+o.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","60%":"translate("+a.x+"px,"+a.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","80%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},tada:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(d,(function(t,e){a[e+"%"]="rotate("+(i+t[0])+"deg) scale("+(o.x+t[1])+", "+(o.y+t[2])+")"})),t.add(this.buildTween(e,"transform",a));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},flipSequence:function(t,e,n,i,r){var o=n.getOffsetRotation(),a=Math.rotateCoord(i,r,0,0,o),s=n.get("rotation"),u=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate3d("+a.x+","+a.y+", 0, 180deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")","100%":"rotate3d("+a.x+","+a.y+", 0, 0deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")"}));var l=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":l,"100%":l}))},flip:function(t,e,n){this.flipSequence(t,e,n,0,1)},flipHorizontal:function(t,e,n){this.flipSequence(t,e,n,1,0)},flipDiagonalRight:function(t,e,n){this.flipSequence(t,e,n,1,1)},flipDiagonalLeft:function(t,e,n){this.flipSequence(t,e,n,-1,1)},flipInX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipInY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipOutX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},flipOutY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},fadeUp:function(t,e,n){this.fadeUpIn(t,e,n)},fadeUpIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeInSequence(t,e,n,i)},fadeDown:function(t,e,n){this.fadeDownIn(t,e,n)},fadeDownIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeInSequence(t,e,n,i)},fadeRight:function(t,e,n){this.fadeRightIn(t,e,n)},fadeRightIn:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeInSequence(t,e,n,i)},fadeLeft:function(t,e,n){this.fadeLeftIn(t,e,n)},fadeLeftIn:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeInSequence(t,e,n,i)},fadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeUpOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeOutSequence(t,e,n,i)},fadeDownOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeOutSequence(t,e,n,i)},fadeRightOut:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeOutSequence(t,e,n,i)},fadeLeftOut:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeOutSequence(t,e,n,i)},bounceInSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":i.x+"px","60%":a+r.x+"px","80%":a+o.x+"px","100%":a+"px"})),t.add(this.buildTween(e,"top",{"0%":i.y+"px","60%":s+r.y+"px","80%":s+o.y+"px","100%":s+"px"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},bounceUp:function(t,e,n){this.bounceUpIn(t,e,n)},bounceUpIn:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,-30),o=n.getRelativeRotatedPoint(0,10);this.bounceInSequence(t,e,n,i,r,o)},bounceDown:function(t,e,n){this.bounceDownIn(t,e,n)},bounceDownIn:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,30),o=n.getRelativeRotatedPoint(0,-10);this.bounceInSequence(t,e,n,i,r,o)},bounceLeft:function(t,e,n){this.bounceLeftIn(t,e,n)},bounceLeftIn:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(30,0),o=n.getRelativeRotatedPoint(-10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceRight:function(t,e,n){this.bounceRightIn(t,e,n)},bounceRightIn:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(-30,0),o=n.getRelativeRotatedPoint(10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceOutSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":a+"px","20%":a+r.x+"px","40%":a+o.x+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":s+"px","20%":s+r.y+"px","40%":s+o.y+"px","100%":i.y+"px"})),t.add(this.buildTween(e,"opacity",{"0%":u,"60%":u,"100%":0}))},bounceUpOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,-10),o=n.getRelativeRotatedPoint(0,30);this.bounceOutSequence(t,e,n,i,r,o)},bounceDownOut:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,10),o=n.getRelativeRotatedPoint(0,-30);this.bounceOutSequence(t,e,n,i,r,o)},bounceLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(-10,0),o=n.getRelativeRotatedPoint(30,0);this.bounceOutSequence(t,e,n,i,r,o)},bounceRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(10,0),o=n.getRelativeRotatedPoint(-30,0);this.bounceOutSequence(t,e,n,i,r,o)},spinFadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFade:function(t,e,n){this.spinRightFadeIn(t,e,n)},spinRightFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,-90)},spinLeftFade:function(t,e,n){this.spinLeftFadeIn(t,e,n)},spinLeftFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,90)},spinFadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,90)},spinLeftFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,-90)},lightSpeedInSequence:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u=n.get("opacity"),l="right"===o?1:-1;t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) skewX("+30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","60%":"translate("+r.x+"px,"+r.y+"px) skewX("+-30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","80%":"translate(0,0) skewX("+15*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","100%":"translate(0,0) skewX(0deg) rotate("+a+"deg) scale("+s.x+","+s.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},lightSpeedRight:function(t,e,n){this.lightSpeedRightIn(t,e,n)},lightSpeedRightIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(-1*o,0),s=n.getRelativeRotatedPoint(Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"right")},lightSpeedLeft:function(t,e,n){this.lightSpeedLeftIn(t,e,n)},lightSpeedLeftIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(o,0),s=n.getRelativeRotatedPoint(-1*Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"left")},lightSpeedOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity"),u=30*("right"===r?-1:1);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","60%":"translate("+i.x+"px,"+i.y+"px) skewX("+u+"deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"60%":0,"100%":0}))},lightSpeedRightOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(i,0);this.lightSpeedOutSequence(t,e,n,r,"right")},lightSpeedLeftOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.lightSpeedOutSequence(t,e,n,r,"left")},rollInSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")","100%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":s}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeft:function(t,e,n){this.rollLeftIn(t,e,n)},rollRightIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollInSequence(t,e,n,r,-120)},rollRight:function(t,e,n){this.rollRightIn(t,e,n)},rollLeftIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollInSequence(t,e,n,r,120)},rollOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"100%":0}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollOutSequence(t,e,n,r,-120)},rollRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollOutSequence(t,e,n,r,120)},enlargeFadeIn:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale(0)","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":o}))},shrinkFadeOut:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"rotate("+i+"deg) scale(0)"})),t.add(this.buildTween(e,"opacity",{"0%":o,"100%":0}))},scale:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u="rotate("+a+"deg) scale(0, 0)",l="rotate("+a+"deg) scale("+s.x+","+s.y+")";o&&(u="rotate("+a+"deg) scale("+("x"===o?0:s.x)+","+("y"===o?0:s.y)+")");var c={"0%":u,"100%":l};if("down"===i&&(c={"0%":l,"100%":u}),t.add(this.buildTween(e,"transform",c)),r){var d=r;0===a&&1===s.x&&1===s.y||(d=n.getTransformOriginString(.5,.5,!0)),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":d}))}},enlarge:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5,!0))},scaleUpRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,.5))},scaleUpLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,.5))},scaleUpBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,0))},scaleUpTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,1))},scaleUpVerticalTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,0),"y")},scaleUpVerticalBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,1),"y")},scaleUpVerticalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"y")},scaleUpHorizontalLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,1),"x")},scaleUpHorizontalRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,0),"x")},scaleUpHorizontalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"x")},shrink:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5,!0))},scaleDownLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,.5))},scaleDownRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,.5))},scaleDownTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,1))},scaleDownBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,0))},scaleDownVerticalTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,1),"y")},scaleDownVerticalBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,0),"y")},scaleDownVerticalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"y")},scaleDownHorizontalLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,0),"x")},scaleDownHorizontalRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,1),"x")},scaleDownHorizontalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"x")},swing:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale();t.add(this.buildTween(e,"transform",{"0%":i+" rotate("+o+"deg) scale("+a.x+", "+a.y+")","100%":"rotateX(0) rotateY(0) rotate("+o+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":n.getTransformOriginString(.5,.5,!0)})),t.add(this.buildTween(e,"transform-box",{"0%":"fill-box","100%":"fill-box"}))},swingTopLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(-180deg)",n.getTransformOriginString(0,0))},swingTopRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(-180deg)",n.getTransformOriginString(1,0))},swingBottomLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(180deg)",n.getTransformOriginString(0,1))},swingBottomRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(180deg)",n.getTransformOriginString(1,1))},swingLeft:function(t,e,n){this.swing(t,e,n,"rotateY(180deg)",n.getTransformOriginString(1,.5))},swingRight:function(t,e,n){this.swing(t,e,n,"rotateY(-180deg)",n.getTransformOriginString(0,.5))},swingTop:function(t,e,n){this.swing(t,e,n,"rotateX(180deg)",n.getTransformOriginString(.5,1))},swingBottom:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg)",n.getTransformOriginString(.5,0))},jelloHorizontal:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(l,(function(t,e){a[e+"%"]="scale("+t[0]*o.x+", "+t[1]*o.y+") rotate("+i+"deg)"})),t.add(this.buildTween(e,"transform",a))},wobble:function(t,e,n,i,o){var a=n.get("rotation"),s=n.getTransformOriginString(.5,.5,!0),l=n.getScale(),c="translate"+i,d=o?1:-1,f={};r.default.each(u,(function(t,e){var n=a+t[1]*d;f[e+"%"]=c+"("+t[0]+"px) rotate("+n+"deg) scale("+l.x+", "+l.y+")"})),t.add(this.buildTween(e,"transform",f)),t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},wobbleTop:function(t,e,n){this.wobble(t,e,n,"X",!0)},wobbleBottom:function(t,e,n){this.wobble(t,e,n,"X",!1)},wobbleLeft:function(t,e,n){this.wobble(t,e,n,"Y",!0)},wobbleRight:function(t,e,n){this.wobble(t,e,n,"Y",!1)},vibrate:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(f,(function(t,e){a[e+"%"]="translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"deg) scale("+o.x+", "+o.y+")"})),t.add(this.buildTween(e,"transform",a))},kenBurns:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"scale("+s.x+", "+s.y+") translate(0, 0) rotate("+a+"deg)","100%":"scale("+1.25*s.x+", "+1.25*s.y+") translate("+i+") rotate("+a+"deg)"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":o}))},kenBurnsTop:function(t,e,n){this.kenBurns(t,e,n,"0, -15px",n.getTransformOriginString(.5,.16),n.getTransformOriginString(.5,0))},kenBurnsBottom:function(t,e,n){this.kenBurns(t,e,n,"0, 15px",n.getTransformOriginString(.5,.84),n.getTransformOriginString(.5,1))},kenBurnsLeft:function(t,e,n){this.kenBurns(t,e,n,"-20px, 0",n.getTransformOriginString(.16,.5),n.getTransformOriginString(0,.5))},kenBurnsRight:function(t,e,n){this.kenBurns(t,e,n,"20px, 0",n.getTransformOriginString(.84,.5),n.getTransformOriginString(1,.5))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5));e.default=o.default.Model.extend({getCenter:function(){return{x:this.get("x")+this.get("width")/2,y:this.get("y")+this.get("height")/2}},getScale:function(){return{x:r.default.isUndefined(this.get("scaleWidth"))?1:this.get("scaleWidth"),y:r.default.isUndefined(this.get("scaleHeight"))?1:this.get("scaleHeight")}},getOffsetX:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleWidth;if(1===t)return this.get("parentSmartgroup").options.x;var e=this.get("parentSmartgroup").options.width/2-this.get("parentSmartgroup").options.width*t/2;return this.get("parentSmartgroup").options.x+e},getOffsetY:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleHeight;if(1===t)return this.get("parentSmartgroup").options.y;var e=this.get("parentSmartgroup").options.height/2-this.get("parentSmartgroup").options.height*t/2;return this.get("parentSmartgroup").options.y+e},getOffsetRotation:function(){return this.get("parentSmartgroup")?Math.toRad(this.get("parentSmartgroup").options.rotation):0},getRelativeRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2;t+=i,e+=r;var o=Math.rotateCoord(t,e,i,r,n);t=o.x-i,e=o.y-r}return{x:t,y:e}},getRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2,o=this.getCenter();t+=i,e+=r;var a=Math.rotateCoord(t,e,o.x,o.y,n);t=a.x-i,e=a.y-r}return{x:t,y:e}},getRotatedCenter:function(){var t=this.getOffsetRotation(),e=this.get("parentSmartgroup"),n=this.getCenter();if(e&&t>0){var i=e.options.width/2,r=e.options.height/2;return Math.rotateCoord(n.x,n.y,i,r,-1*t)}return{x:n.x,y:n.y}},getOffPageY:function(t){var e=this.get("x"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().y-r.y,this.getRotatedPoint(e,t)}return{x:e,y:t}},getOffPageTop:function(){var t=-1*(1+this.getOffsetY());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t-=this.get("allHeight"),this.getOffPageY(t)},getOffPageBottom:function(){var t=this.get("pageHeight")+1-this.getOffsetY();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t+=this.get("allHeight")-this.get("height"),this.getOffPageY(t)},getOffPageX:function(t){var e=this.get("y"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().x-r.x,this.getRotatedPoint(t,e)}return{x:t,y:e}},getOffPageLeft:function(){var t=-1*(1+this.getOffsetX());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t-=this.get("allWidth"),this.getOffPageX(t)},getOffPageRight:function(){var t=this.get("pageWidth")+1-this.getOffsetX();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t+=this.get("allWidth")-this.get("width"),this.getOffPageX(t)},getTransformOriginString:function(t,e,n){var i=this.get("width")*t,r=this.get("height")*e;if(!n){var o=this.getScale();i*=o.x,r*=o.y}return i+"px "+r+"px"}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(1)),a=i(n(0)),s=i(n(4)),u=n(56),l=i(n(177)),c=i(n(258)),d=n(38),f=i(n(260)),h=function(t){this.prerenderDeferred=new o.default.Deferred,this.prerenderWorkQueue=[],this.pageView=t,this.pageIndex=this.pageView.getPageIndex(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment()};h.prototype={prerender:function(){s.default.debug("Pre-rendering page idx: "+this.pageIndex);var t=Date.now();for(this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();!this.isPrerenderQueueEmpty();)this.prerenderNextWorkItem();s.default.debug("Prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()},lazyPrerender:function(){if(!this.isPrerendered()){var t=Date.now();s.default.debug("Starting lazy prerender on page idx: "+this.pageIndex);var e=a.default.bind((function(){var n=Date.now();if(!this.isPrerendered()){if(this.isPrerenderQueueEmpty())this.initPrerenderQueue();else for(this.prerenderNextWorkItem();!this.isPrerenderQueueEmpty()&&Date.now()-n<10;)this.prerenderNextWorkItem();this.isPrerenderQueueEmpty()?(s.default.debug("Lazy prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()):window.requestAnimationFrame(e)}}),this);window.requestAnimationFrame(e)}return this.prerenderDeferred.promise()},initPrerenderQueue:function(){this.pageView.resetPageForPrerender(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.prerenderWorkQueue=c.default.createPreRenderList(this.pageView),this.prerenderWorkQueue.unshift(this.getCanvasBackgroundFromQueue(this.prerenderWorkQueue)),s.default.debug("Prerender queue for page idx: "+this.pageIndex+" has "+this.prerenderWorkQueue.length+" items.")},getCanvasBackgroundFromQueue:function(t){for(var e,n=t.length-1;n>=0;--n){var i=t[n];if(e="canvas-background-component"===i.model.type?t.splice(n,1)[0]:this.getCanvasBackgroundFromQueue(i.childViews))break}return e},addViewToDOM:function(t,e){f.default.insert(t,e.$el[0],e.options.x,e.options.y)},addComponentToDOM:function(t){t.options.fixedPosition&&r.default.desktop()?this.addViewToDOM(this.pinnedDocFrag,t):this.addViewToDOM(this.docFrag,t)},prerenderObjectView:function(t,e){t=this.pageView.applyPageContext(t);var n=l.default.createComponentFromObject(t);return null!==n&&(n.render(),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),e||(this.setObjectViewToNextHighestZIndex(n),this.addComponentToDOM(n))),n},prerenderFolderView:function(t,e){var n=new u.FolderView(t);return n.childViews=e,a.default.each(n.childViews,a.default.bind((function(t){n.isInitiallyVisible()||t.hide(),t.addParentView(n),t.addContainerId(n.getId())}),this)),n},prerenderGroupView:function(t,e){var n=this;t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return i.childViews=e,i.childrenUseBlendingModes()?this.addBlendingModesFocusClass(i):this.setObjectViewToNextHighestZIndex(i),a.default.each(e,(function(t){var e=t;e.addParentView(i),e.addContainerId(i.getId()),e.childrenUseBlendingModes()||n.setObjectViewToNextHighestZIndex(e),e.hasActiveBlendingMode()&&n.addBlendingModesFocusClass(e),n.addViewToDOM(i.$el[0],e)})),i.render(),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},prerenderSmartgroupView:function(t,e){var n=this;t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return i.childViews=e,this.setObjectViewToNextHighestZIndex(i),function t(e){a.default.each(e,(function(e){if("folder"===e.options.type)t(e.childViews);else{var r=e;n.setObjectViewToNextHighestZIndex(r),n.addViewToDOM(i.$el[0],r),"image-component"===e.options.type&&e.$el.css("mix-blend-mode",d.BlendingModes.getDefault()),r.options.parentSmartgroup=i}}))}(i.childViews),i.render(),i.addContainerId(i.id),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},setObjectViewToNextHighestZIndex:function(t){t.$el.css("zIndex",this.nextZIndex),this.nextZIndex++},addBlendingModesFocusClass:function(t){var e=r.default.isBrowserFirefox()?"blending-modes-focus-mozilla":"blending-modes-focus";t.$el.addClass(e)},isPrerendered:function(){return"resolved"===this.prerenderDeferred.state()},getPrerenderPromise:function(){return this.prerenderDeferred.promise()},getDocumentFragment:function(){return this.docFrag},getPinnedDocumentFragment:function(){return this.pinnedDocFrag},isPrerenderQueueEmpty:function(){return!this.prerenderWorkQueue||0===this.prerenderWorkQueue.length},prerenderNextWorkItem:function(){var t=this.prerenderWorkQueue.shift();this.prerenderSingleWorkItem(t)},prerenderSingleWorkItem:function(t){if(t)if(t.isSmartgroupLayer()){var e=this.prerenderSmartgroupView(t.model,t.childViews);t.setView(e)}else if(t.isFolder()){var n=this.prerenderFolderView(t.model,t.childViews);t.setView(n)}else if(t.isGroup()){var i=this.prerenderGroupView(t.model,t.childViews);t.setView(i)}else if(t.isScranchor())f.default.insert(this.docFrag,t.$el[0],t.x,t.y,!0),t.adjustYCoordinateWithinGroup();else{var r;r=t.findParentSmartgroupOrGroupModel();var o=this.prerenderObjectView(t.model,r);t.setView(o)}}},e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(83)),s=i(n(27));e.default=a.default.extend({initialize:function(){a.default.prototype.initialize.call(this),this.childViews={}},hide:function(){o.default.each(this.childViews,(function(t){t.hide()}))},addContainerId:function(t){o.default.each(this.childViews,(function(e){e.addContainerId(t)}))},addParentView:function(t){this.parentViews.push(t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},isHovered:function(){return o.default.some(this.childViews,(function(t){t.isHovered()}))},addPointerEvents:function(){o.default.each(this.childViews,(function(t){t.addPointerEvents()}))},removePointerEventsIfNoInteractions:function(){o.default.each(this.childViews,(function(t){t.removePointerEventsIfNoInteractions()}))},runAllChildViewExitAnimations:function(t){this.runningExitAnimations=!0,t=t||[],o.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}));var e=this;return r.default.when.apply(r.default,t).done((function(){e.runningExitAnimations=!1})),t},reset:function(){this.runningExitAnimations=!1},getExtents:function(){var t;return this.childViews?o.default.each(this.childViews,function(e){var n=e.getExtents();t=t?s.default.getSmallestContainingRectangle(t,n):n}.bind(this)):t={},t},getFirstAvailableZIndex:function(){var t=0;return this.childViews&&this.childViews.length>0&&(t="folder"===this.childViews[0].options.type?this.childViews[0].getFirstAvailableZIndex():this.childViews[0].$el.css("zIndex")||0),t},isFixedPosition:function(){return!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(178)),a=i(n(179)),s=i(n(180)),u=i(n(185)),l=i(n(186)),c=i(n(187)),d=i(n(189)),f=i(n(194)),h=i(n(57)),p=i(n(196)),g=i(n(197)),v=i(n(206)),m=i(n(208)),y=i(n(24)),b=n(209),_=n(214),w=n(216),E=n(218),T=n(220),S=n(222);e.default={createComponentFromObject:function(t){var e=null;switch(t.type){case"html-component":e=new u.default(t);break;case"chartblocks-chart-component":e=new l.default(t);break;case"hubspot-form-component":e=new c.default(t);break;case"marketo-form-component":e=new d.default(t);break;case"hotspot-component":e=new f.default(t);break;case"hotspot-path-component":e=new _.HotspotPathComponentView(t);break;case"canvas-background-component":e=new o.default(t);break;case"shape-component":switch(t.shape){case"square":e=new a.default(t);break;case"circle":e=new w.CircleComponentView(t);break;case"triangle":case"right-triangle":e=new T.TriangleComponentView(t);break;default:e=new s.default(t)}break;case"line-component":e=new E.LineComponentView(t);break;case"image-component":e=y.default.isVectorBased(t.contentType)?new p.default(t):new h.default(t);break;case"smartgroup":e=new v.default(t);break;case"group":e=new m.default(t);break;case"text-component":e=new S.TextComponentView(t);break;case"video-widget":e=g.default.create(t);break;case"custom-shape-component":e=new b.CustomShapeComponentView(t);break;default:return r.default.warn("Object type not supported:",t.type),null}return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.default=i.AbstractComponentView.extend({type:"canvas-background",initialize:function(t){t.height=t.pageView.getPageHeight(),t.width=t.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.initialize.apply(this,arguments)},applyChanges:function(t){t.height=this.options.pageView.getPageHeight(),t.width=this.options.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.applyChanges.apply(this,arguments)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(6);e.default=o.AbstractComponentView.extend({type:"shape",render:function(){return o.AbstractComponentView.prototype.render.call(this),!r.default.isEmpty(this.options.background)||!r.default.isEmpty(this.options.border)&&0!==this.options.border.width||r.default.isEmpty(this.options.action)||this.$el.css({"background-color":"white",opacity:0}),this},hasShadow:function(t){return!r.default.isEmpty(this.options.background)&&o.AbstractComponentView.prototype.hasShadow.call(this,t)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(4)),a=i(n(0)),s=i(n(181)),u=i(n(182)),l=i(n(3)),c=r(n(21));e.default=s.default.extend({type:"shape",render:function(){var t=this.canvasElement();if(!a.default.isFunction(t[0].getContext))return this;this.scale=u.default.getScale(),this.startX=0,this.startY=0;var e={width:this.options.width,height:this.options.height};if("square"===this.options.shape)throw Error("This component view cannot be used for square!");this.addShadowPadding(e),this.addBorderPadding(e),this.options.allWidth=e.width,this.options.allHeight=e.height,s.default.prototype.render.call(this);var n=this.options.shadow,i=this.options.border,r=this.options.background,o=e.width,c=e.height;!a.default.isEmpty(r)||!a.default.isEmpty(i)&&0!==i.width||a.default.isEmpty(this.options.action)||t.css({"background-color":"white",opacity:0}),this._applyDimensions(o,c),t[0].width=o*(l.default.retina()?2:1),t[0].height=c*(l.default.retina()?2:1);var d=this.getContextAndApplyBorderShadowStyles();return this.renderBackground(d,i,r,n),this},addShadowPadding:function(t){var e=this.options.shadow;if(!a.default.isEmpty(e)&&!a.default.isEmpty(this.options.background)&&""!==e){var n=this.options.rotation;if(n&&0!==n){var i=a.default.isNumber(e.x)?e.x:0,r=a.default.isNumber(e.y)?e.y:0;n=Math.toRad(n),e.x=i*Math.cos(n)+r*Math.sin(n),e.y=-1*i*Math.sin(n)+r*Math.cos(n)}e.blur=a.default.isNumber(e.blur)?Math.abs(e.blur):0,e.x=a.default.isNumber(e.x)?e.x:0,e.y=a.default.isNumber(e.y)?e.y:0,l.default.retina()&&!e.retinaReady&&(e.blur*=2,e.x*=2,e.y*=2,e.retinaReady=!0),e.x<0&&(this.options.x-=Math.abs(e.x)+e.blur,this.startX+=Math.abs(e.x)+e.blur),e.y<0&&(this.options.y-=Math.abs(e.y)+e.blur,this.startY+=Math.abs(e.y)+e.blur),t.width+=Math.abs(e.x)+e.blur,t.height+=Math.abs(e.y)+e.blur,e.blur>Math.abs(e.x)&&this._applyShadowXOffset(t,e),e.blur>Math.abs(e.y)&&this._applyShadowYOffset(t,e),this.options.shadow=e}},_applyShadowXOffset:function(t,e){var n=e.blur-Math.abs(e.x),i=this.options.isXAdjusted?0:n;t.width+=n,this.startX+=n,this.options.x-=i,this.options.isXAdjusted=!0},_applyShadowYOffset:function(t,e){var n=e.blur-Math.abs(e.y),i=this.options.isYAdjusted?0:n;t.height+=n,this.startY+=n,this.options.y-=i,this.options.isYAdjusted=!0},addBorderPadding:function(t){var e=this.options.border;!a.default.isEmpty(e)&&""!==e&&a.default.isNumber(e.width)&&(t.width+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),t.height+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),this.options.x-=e.width+this._offsetForPointyShapes(e),this.options.y-=e.width+this._offsetForPointyShapes(e),this.startX+=e.width+this._offsetForPointyShapes(e),this.startY+=e.width+this._offsetForPointyShapes(e))},getContextAndApplyBorderShadowStyles:function(){var t=this.canvasElement().get(0).getContext("2d");l.default.retina()&&t.scale(2,2),t.translate(this.startX,this.startY);var e=this.options.border;a.default.isEmpty(e)||""===e||(t.lineWidth=1==e.width?1.0001:e.width,t.strokeStyle=e.color);var n=this.options.shadow;return a.default.isEmpty(n)||a.default.isEmpty(this.options.background)||""===n||(t.shadowOffsetX=n.x,t.shadowOffsetY=n.y,t.shadowColor=n.color,t.shadowBlur=n.blur),t},_applyShadow:function(){},_applyBorder:function(){},_applyBackground:function(){},_sizeFactorForPointyShapes:function(){return"star2"==this.options.shape||"double-arrow"==this.options.shape?2:1},_offsetForPointyShapes:function(t){return"star2"==this.options.shape||"double-arrow"==this.options.shape||"single-arrow"==this.options.shape?t.width:0},renderBackground:function(t,e,n,i){t.save(),(a.default.isUndefined(this.options.pathData)||a.default.isNull(this.options.pathData)||""===this.options.pathData)&&(this.path=u.default.getPathFunc(this.options.shape)),"square"==this.options.shape||(null!==this.path?(t.save(),t.scale(this.options.width/this.scale.x,this.options.height/this.scale.y),t.beginPath(),this.path(t),t.closePath(),t.restore()):o.default.error("Unsupported shape")),t.save(),n&&n.gradient?this._renderGradient(t,n.gradient):n&&n.color&&(t.fillStyle=n.color,t.fill()),t.restore(),e&&e.width>0&&t.stroke(),t.restore()},_applyPosition:function(t,e,n){t=a.default.isNil(t)?this.options.x:t,e=a.default.isNil(e)?this.options.y:e;var i=this.getApplyPositionTarget();"square"==this.options.shape?s.default.prototype._applyPosition.call(this,t,e,n):(i.css("left",t+"px"),i.css("top",e+"px"))},_renderGradient:function(t,e){var n=c.calcRotatedLineIntersect(e.angle,this.options.width,this.options.height),i=n.startPt,r=n.endPt,o=t.createLinearGradient(Math.round(i.getX()),Math.round(i.getY()),Math.round(r.getX()),Math.round(r.getY()));a.default.each(e.stops,a.default.bind((function(t){o.addColorStop(t.stop,t.color)}),this)),t.fillStyle=o,t.fill()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=n(6);e.default=a.AbstractComponentView.extend({tagName:"canvas",canvasElement:function(){return this.$el.is("canvas")?this.$el:this.$el.find("canvas")},getApplyDimensionsTarget:function(){return this.$el.add(this.$el.find("canvas"))},applyTagOverride:function(){var t=this.tagOverride(),e=this.canvasElement();if(t){var n=this.getSpecifiedAttributes(this.$el[0].attributes),i=o.default("<"+t.tagName+"></"+t.tagName+">");i.attr(r.default.assign({},n,t.attributes));var a=this.getSpecifiedAttributes(i[0].attributes);if(this.$el.is(t.tagName)&&r.default.isEqual(n,a))return;this.unbindInteractions(),this.$el.replaceWith(i),e.css("left",0),e.css("top",0),this.setElement(i.append(e))}else this.$el.is("canvas")||(this.unbindInteractions(),e.attr("style",this.$el.attr("style")),this.$el.replaceWith(e),this.setElement(e))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(183)),s=i(n(67)),u=i(n(184)),l=function(){this.shapes=r.default(u.default),this.scale={x:parseInt(this.shapes.filter(":first").attr("width"),10),y:parseInt(this.shapes.filter(":first").attr("height"),10)},this.paths={},this.shapes.find("g").each(o.default.bind((function(t,e){var n,i=(e=r.default(e)).attr("id"),o=e.children(),s=this.getScale().x,u=this.getScale().y;this.paths[i]=null,o.length>0&&(o.is("path")?(n=a.default.parse(o.attr("d")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("polygon")?(n=a.default.pointsToPath(o.attr("points")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("circle")?this.paths[i]=function(t){var e=s>u?u/2:s/2;t.translate(s/2,u/2),t.scale(s>u?s/u:1,u>s?u/s:1),t.arc(0,0,e,0,Math.toRad(360),!0)}:o.is("rect")&&(this.paths[i]=function(t){t.rect(0,0,s,u)}))}),this))};o.default.extend(l.prototype,{getScale:function(){return this.scale},getPathFunc:function(t){return this.paths[t]},getAllShapes:function(){return o.default.keys(this.paths)},hasShape:function(t){return o.default.has(this.paths,t)},getImageResource:function(t,e,n,i,a){var u=r.default('<canvas width="'+e+'" height="'+n+'"></canvas>'),l=u[0].getContext("2d");l.save(),l.clearRect(0,0,e,n),o.default.isUndefined(i)||(l.fillStyle=i),o.default.isUndefined(a)||(l.strokeStyle=a);var c=this.getPathFunc(t);null!==c&&(l.scale(e/this.getScale().x,n/this.getScale().y),l.beginPath(),c(l),o.default.isUndefined(i)||l.fill(),o.default.isUndefined(a)||l.stroke()),l.restore();var d=new s.default(u[0].toDataURL());return u.remove(),d}}),e.default=new l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s=i(n(4)),u=i(n(0));e.default=(o=function(t,e){"string"==typeof e&&(e=r(e)),t.beginPath();var n,i,o,a,l,c,d=0,f=0,h=null,p=null;u.default.each(e,(function(e,r){var u=e.coords;switch(e.op){case"m":d+=u[0],f+=u[1],t.moveTo(d,f);break;case"M":h=d=u[0],p=f=u[1],t.moveTo(d,f);break;case"c":n=d+u[0],i=f+u[1],o=d+u[2],a=f+u[3],d+=u[4],f+=u[5],l=2*d-o,c=2*f-a,t.bezierCurveTo(n,i,o,a,d,f);break;case"C":n=u[0],i=u[1],o=u[2],a=u[3],d=u[4],f=u[5],l=2*d-o,c=2*f-a,t.bezierCurveTo(n,i,o,a,d,f);break;case"s":o=d+u[0],a=f+u[1],d+=u[2],f+=u[3],t.bezierCurveTo(l,c,o,a,d,f),l=2*d-o,c=2*f-a;break;case"q":n=d+u[0],i=f+u[1],d+=u[2],f+=u[3],l=2*d-n,c=2*f-i,t.quadraticCurveTo(n,i,d,f);break;case"t":d+=u[0],f+=u[1],t.quadraticCurveTo(l,c,d,f),l=2*d-l,c=2*f-c;break;case"l":d+=u[0],f+=u[1],t.lineTo(d,f);break;case"L":d=u[0],f=u[1],t.lineTo(d,f);break;case"h":d+=u[0],t.lineTo(d,f);break;case"H":d=u[0],t.lineTo(d,f);break;case"v":f+=u[0],t.lineTo(d,f);break;case"V":f=u[0],t.lineTo(d,f);break;case"z":case"Z":t.lineTo(h,p);break;default:s.default.warn("UNKNOWN SVG OP: "+e.op)}}))},{pointsToPath:function(t){t=t.replace(/(\s+)/g,";").split(";");var e="M";return u.default.each(t,(function(t,n){t.length>0&&(e+=(0===n?"":"L")+t)})),e+="z"},parse:r=function(t){var e=t.replace(/([MmZzLlHhVvCcSsQqTtAa])\s/g,"$1").replace(/\s-/g,"-").replace(/\s/g,",").match(/([MmZzLlHhVvCcSsQqTtAa](-?\d+[\.\s]?\d*,?)*)/g),n=[];return u.default.each(e,(function(t,i){var r=t.substr(1).replace(/-/g,",-").replace(/(^,)/,"").split(",");u.default.each(r,(function(t,e){r[e]=parseFloat(t)})),n.push({op:e[i].substr(0,1),coords:r})})),n},render:a=function(t,e,n,i){e&&null!==e&&(o(t,e),i&&t.stroke(),n&&t.fill())},stroke:function(t,e){a(t,e,!1,!0)},fill:function(t,e){a(t,e,!0,!1)},trace:o})},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" width="1000px" height="1000px" viewBox="0 0 1000 1000" xml:space="preserve">\n<g id="single-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M0,346.2l696.6,0V0L1000,500\n\t\tl-303.4,500V653.9L0,653.9V346.2z"/>\n</g>\n<g id="double-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M232.8,653.9V1000L0,500\n\t\tL232.8,0v346.1l534.5,0V0L1000,500l-232.8,500V653.9L232.8,653.9z"/>\n</g>\n<g id="rounded-square" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,883.3\n\t\tc0,64.2-52.5,116.7-116.7,116.7H116.7C52.5,1000,0,947.5,0,883.3V116.7C0,52.5,52.5,0,116.7,0h766.7C947.5,0,1000,52.5,1000,116.7\n\t\tV883.3z"/>\n</g>\n<g id="triangle" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0L0,1000h1000L500,0"/>\n</g>\n<g id="right-triangle" display="none">\n\t<polygon display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" points="0.1,1000.5\n\t\t1000.5,1000.5 1000.5,0.1 \t"/>\n</g>\n<g id="single-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M454.5,0L1000,500l-545.5,500\n\t\tV700H0V300h454.5V0z"/>\n</g>\n<g id="double-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M517,680.3L517,680.3l-252,0\n\t\tV1000L0,500L265,0v319.6h218v0h252V0l265,500l-265,500V680.3H517z"/>\n</g>\n<g id="round-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M650.3,786.5\n\t\tC516.5,972.5,288.8,1000,288.8,1000c75.1-73.8,98.5-146,100.4-204.9C166.4,754.5,0,594.2,0,402.5C0,180.2,223.9,0,500,0\n\t\ts500,180.2,500,402.5C1000,582.6,853,735.1,650.3,786.5z"/>\n</g>\n<g id="square-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M796.5,800H648.4l-302.2,200\n\t\tl54.9-200H203.5C91.1,800,0,705.2,0,588.3V211.7C0,94.8,91.1,0,203.5,0h592.9C908.9,0,1000,94.8,1000,211.7v376.7\n\t\tC1000,705.2,908.9,800,796.5,800z"/>\n</g>\n<g id="star" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0l154.5,329.2L1000,382\n\t\tL750,638.2l59,361.8L500,829.2L191,1000l59-361.8L0,382l345.5-52.8L500,0z"/>\n</g>\n<g id="star2" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500.3,0l-98.1,410.7L0,382.3\n\t\tl339.8,225.2L191,999.6l308.1-270.4L808.7,1000L659,607.7l341-225.5l-402.3,28.2L500.3,0z"/>\n</g>\n<g id="pentagon" display="none">\n\t<path display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,382l-191,618H191L0,382L500,0L1000,382z"/>\n</g>\n<g id="circle" display="none">\n\t<circle display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" cx="500" cy="500" r="500"/>\n</g>\n<g id="square" display="none">\n\t<rect x="0" y="0" display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" width="1000" height="1000"/>\n</g>\n</svg>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=n(6);e.default=s.AbstractComponentView.extend({type:"html",onActivationStart:function(){if(this.previousCustomHtml!==this.options.customHtml)if(this.previousCustomHtml=this.options.customHtml,-1!==this.options.customHtml.indexOf("http:")&&"https:"===location.protocol)if(a.default.previewMode){this.$el.html("<p style='background-color:white'>Can't load an insecure resource on a secure page. Please publish your experience or change the embed code to use https.</p>")}else this.$el.empty();else if(this._hasHubspotCall()){var t=window.hbspt.forms.create;window.hbspt.forms.create=o.default.bind((function(e){e&&!e.target&&(e.target="#"+r.default.escapeSelector(this.el.id)),t(e)}),this),this._parseHtml(),window.hbspt.forms.create=t}else this._parseHtml()},_parseHtml:function(){this.$el.empty().html(r.default.parseHTML(this.options.customHtml,document,!0))},_hasHubspotCall:function(){return-1!==this.options.customHtml.indexOf("hbspt.forms.create")},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=n(6);e.default=o.AbstractComponentView.extend({type:"chartblocks-chart",renderHash:null,render:function(){o.AbstractComponentView.prototype.render.call(this);var t=this.generateRenderHash();if(t!==this.renderHash){this.oldX=this.options.x,this.oldY=this.options.y;var e=r.default("<iframe />");e.attr({width:this.options.width,height:this.options.height,src:this.getEmbedUrl(),frameBorder:"0"}),this.$el.empty(),this.$el.append(e),this.renderHash=t}},getEmbedUrl:function(){return"//embed.chartblocks.com/1.0/?c="+this.options.chartId+"&t="+this.options.requestToken},generateRenderHash:function(){return[this.options.width,this.options.height,this.options.chartId,this.options.requestToken].join(":")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(188)),u=i(n(9)),l=i(n(88));e.default=l.default.extend({type:"hubspot-form",getContainerDivId:function(){return"hubspot-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"hubspot-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<div id="'+this.getContainerDivId()+'"></div>');t.addClass(this.getContainerClassName()),this.$el.append(t),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormSubmit:r.default.bind(this.handleSubmit,this)})},handleSubmit:function(t){this.doIframeHack(t),this.triggerSubmitInteractions("hubspot",this.options.hubId)},scaleComponent:function(){var t=this.options.pageView.getScaleContext().ratio,e=this.$("#"+this.getContainerDivId());this.options.pageView.scaleContext.useZoom(t)?e.css({zoom:1/t,transform:"scale("+t+")","transform-origin":"0 0",width:100/t+"%","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0"}):e.css({zoom:"initial",transform:"initial","transform-origin":"initial",width:"initial","-moz-transform-origin":"initial","-webkit-transform-origin":"initial","-ms-transform-origin":"initial"}),l.default.prototype.scaleComponent.call(this)},doIframeHack:function(t){if(a.default.isIos()||a.default.edge||a.default.isDesktopSafari()||a.default.msie){var e=!1,n=null,i=o.default(t).find("input[name=hs_context]").val();if(!r.default.isEmpty(i))try{var s=JSON.parse(i),l=u.default.getLocationWithoutParamsAndLayoutOrPageNumber();s.redirectUrl&&0===s.redirectUrl.indexOf(l)&&(n=s.redirectUrl),e=r.default.isEmpty(s.redirectUrl)||Boolean(n)}catch(t){}if(e){o.default("#hubspot-submit").remove();var c=o.default("<iframe></iframe>");c.attr("id","hubspot-submit"),c.attr("name","hubspot-submit"),c.css({position:"absolute",left:"99999px"}),o.default(document.body).append(c),o.default(t).attr("target","hubspot-submit"),n&&this.doThankYouMessageHack(t,n)}}},doThankYouMessageHack:function(t,e){var n=window.location.href,i=e+"&submissionGuid=1";window.history.replaceState({},"",i),r.default.defer(r.default.bind((function(){o.default(t).remove(),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormReady:function(){window.history.replaceState({},"",n)}})}),this))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1));e.default={renderForm:function(t){t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var e=null;t.onTimeout&&(e=setTimeout(t.onTimeout,1e4)),this.removeStyleTagForDomId(t.domId),window.hbspt.forms.create({portalId:t.portalId,formId:t.formId,css:t.css,target:"#"+t.domId,onFormReady:function(n,i){e&&clearTimeout(e);var r=o.default("head style").last();-1!==r.text().indexOf(t.css)&&r.attr("data-hubspot-form",t.domId),t.onFormReady(n,i)},onFormSubmit:t.onFormSubmit})},removeStyleTagForDomId:function(t){o.default("style[data-hubspot-form="+t+"]").remove()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(190)),s=i(n(88));e.default=s.default.extend({type:"marketo-form",getContainerDivId:function(){return"marketo-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"marketo-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<form id="'+this.getContainerDivId()+'"></form>');t.addClass(this.getContainerClassName()),this.$el.append(t),a.default.renderForm({munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl,domId:this.getContainerDivId(),renderingElement:t,onFormSubmit:r.default.bind(this.handleSubmit,this),onFormReady:r.default.bind(this.handleReady,this),onTimeout:function(){window.Rollbar&&window.Rollbar.error("Marketo form failed to load. (Timeout error.)",{munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl})}})},handleReady:function(t){},handleSubmit:function(t,e){return this.triggerSubmitInteractions("marketo",this.options.munchkinId),r.default.defer(r.default.bind(this.renderForm,this)),!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(7)),s=i(n(191));e.default={renderForm:function(t){var e=this;t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var n=null;t.onTimeout&&(n=setTimeout(t.onTimeout,1e4)),window.MktoForms2.loadForm(t.marketoInstanceUrl,t.munchkinId,t.formId,(function(i){i?(i.render(t.renderingElement),n&&clearTimeout(n),i.getFormElem().find(".cf_widgetLoader").length>0?e.waitForSocialSignonRender(i).done((function(){i.onSuccess(t.onFormSubmit),t.onFormReady(i)})).fail((function(){t.onTimeout&&t.onTimeout()})):(i.onSuccess(t.onFormSubmit),t.onFormReady(i))):(n&&clearTimeout(n),t.onError&&t.onError(a.default.render("Your form, {{formName}}, has been deleted from your Marketo account. Please make a new form in Marketo or choose an existing form for this experience.",{formName:t.formName})))}))},waitForSocialSignonRender:function(t){var e=new o.default.Deferred,n=r.default.bind((function(){return o.default.trim(t.getFormElem().find(".cf_widget_socialsignon").html())}),this);return s.default.waitFor(n,125,1e4).done((function(){e.resolve()})).fail((function(){e.reject()})),e.promise()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(192));e.default={waitFor:function(t,e,n){var i=new r.default.Deferred,a=o.default(),s=function(){t()?i.resolve():o.default()-a>n?i.reject():setTimeout(s,e)};return s(),i.promise()}}},function(t,e,n){"use strict";var i;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,f=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,h=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,v=/\d{3}/,m=/\d{1,4}/,y=/[+\-]?\d{1,6}/,b=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_=/Z|[\+\-]\d\d:?\d\d/i,w=/T/i,E=/[\+\-]?\d+(\.\d{1,3})?/,T=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,S=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],A=/([\+\-]|\d\d)/gi,P="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),x={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},O={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},I={},C="DDD w W M D d".split(" "),R="M D H h m s w W".split(" "),M={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return B(this.year()%100,2)},YYYY:function(){return B(this.year(),4)},YYYYY:function(){return B(this.year(),5)},gg:function(){return B(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return B(this.weekYear(),5)},GG:function(){return B(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return B(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return B(~~(this.milliseconds()/10),2)},SSS:function(){return B(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+":"+B(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function k(t,e){return function(n){return B(t.call(this,n),e)}}function L(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;C.length;)a=C.pop(),M[a+"o"]=L(M[a],a);for(;R.length;)a=R.pop(),M[a+a]=k(M[a],2);function D(){}function N(t){V(this,t)}function F(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function V(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function U(t){return t<0?Math.ceil(t):Math.floor(t)}function B(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function j(t,e,n,i){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*n),l&&t.month(t.month()+l*n),s&&!i&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function G(t){return"[object Array]"===Object.prototype.toString.call(t)}function H(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&o++;return o+r}function W(t){return t?O[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function $(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{n(193)("./"+t)}catch(t){return o.fn._lang}return u[t]}function Y(t,e){var n=5;function i(e){return t.lang().longDateFormat(e)||e}for(;n--&&h.test(e);)e=e.replace(h,i);return I[e]||(I[e]=function(t){var e,n,i,r=t.match(f);for(e=0,n=r.length;e<n;e++)M[r[e]]?r[e]=M[r[e]]:r[e]=(i=r[e]).match(/\[.*\]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e)),I[e](t)}function z(t,e){switch(t){case"DDDD":return v;case"YYYY":return m;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return b;case"a":case"A":return $(e._l)._meridiemParse;case"X":return E;case"Z":case"ZZ":return _;case"T":return w;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function K(t){var e=((_.exec(t)||[])[0]+"").match(A)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function q(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=$(n._l).monthsParse(e))?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=$(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=K(e)}null==e&&(n._isValid=!1)}function X(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function Z(t){var e,n,i=t._f.match(f),r=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(z(i[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(n)+n.length)),M[i[e]]&&q(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),X(t)}function J(t){var e=t._i,n=c.exec(e);e===r?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n=t._i,i=T.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(S[e][1].exec(n)){t._f+=S[e][0];break}_.exec(n)&&(t._f+=" Z"),Z(t)}else t._d=new Date(n)}(t):G(e)?(t._a=e.slice(0),X(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function Q(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function tt(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function et(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=$().preparse(e)),o.isMoment(e)?(t=V({},e))._d=new Date(+e._d):n?G(n)?function(t){var e,n,i,r,o,a=99;for(r=0;r<t._f.length;r++)(e=V({},t))._f=t._f[r],Z(e),n=new N(e),o=H(e._a,n.toArray()),n._il&&(o+=n._il.length),o<a&&(a=o,i=n);V(t,i)}(t):Z(t):J(t),new N(t))}function nt(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(M.DDDD=k(M.DDD,3),D.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return tt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,n){return et({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return et({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new F(s),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new D),u[t].set(e),u[t]}(t,e):u[t]||$(t),o.duration.fn._lang=o.fn._lang=$(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),$(t)},o.isMoment=function(t){return t instanceof N},o.isDuration=function(t){return t instanceof F},o.fn=N.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return Y(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!H(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=Y(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return j(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return j(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:U(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=K(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&j(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=tt(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=tt(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=$(t),this)}},a=0;a<P.length;a++)nt(P[a].toLowerCase().replace(/s$/,""),P[a]);function it(t){o.duration.fn[t]=function(){return this._data[t]}}function rt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in nt("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=F.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=U(r/1e3),s.seconds=t%60,e=U(t/60),s.minutes=e%60,n=U(e/60),s.hours=n%24,o+=U(n/24),s.days=o%30,a+=U(o/30),s.months=a%12,i=U(a/12),s.years=i},weeks:function(){return U(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,o,a,u,l,c,d=+this,f=(e=d,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=n,c[3]=e>0,c[4]=i,Q.apply({},c));return t&&(f=this.lang().pastFuture(d,f)),this.lang().postformat(f)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},x)x.hasOwnProperty(a)&&(rt(a,x[a]),it(a.toLowerCase()));rt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(i=function(){return o}.apply(e,[]))===r||(t.exports=i)}).call(this)},function(t,e,n){var i={"./i-live-here":89,"./i-live-here.js":89};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=193},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.default=i.AbstractComponentView.extend({type:"hotspot",render:function(){return i.AbstractComponentView.prototype.render.call(this),this.$el.css({"background-color":"transparent"}),this},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e){t.exports='<div class="media-loading__media-type-icon {{#isImage}}-image{{/isImage}}{{^isImage}}-video{{/isImage}}"></div>\n<div class="media-loading__spinner"><div class="loader-spinner"></div></div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(1)),a=i(n(0)),s=i(n(57));e.default=s.default.extend({initialize:function(){s.default.prototype.initialize.call(this),this.loadImage=a.default.once(this.loadImage,this),this.vectorImageReady=new o.default.Deferred},attachMedia:function(){if(this.imageLoader){var t=this.imageLoader.getCurrentResource();a.default.isNull(t)?r.default.warn("Image should have been added to resource loader during preload"):t.loadNow().done(a.default.bind((function(t){this.loadImage(t,this.vectorImageReady,this.options.background)}),this)).fail(a.default.bind((function(){this.vectorImageReady.reject()}),this))}return this.vectorImageReady.promise()},loadImage:function(t,e,n){n.backgroundHasBeenSet=this.options.backgroundHasBeenSet,t.createObjectURL(n).done(a.default.bind((function(t){this.$imgEl.on("load",a.default.bind((function(){this.addAltText(this.$imgEl),e.resolve()}),this)),this.$imgEl.on("error",a.default.bind((function(t){this.addAltText(this.$imgEl),e.reject(t)}),this)),this.$imgEl.attr("src",t)}),this)).fail(e.reject)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(198)),a=i(n(203)),s=i(n(57)),u=i(n(204)),l=i(n(205));function c(t){return r.default.mobile()?new a.default(t):new o.default(t)}function d(t){return t.imageLoader=t.posterLoader,new s.default(t)}function f(t){return u.default.isNoSupport()?function(t){if(t.noAutoplayFallbackOption===l.default.NO_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return d(t);return c(t)}(t):u.default.isMutedSupport()?function(t){var e=t.mutedAutoplayFallbackOption;if(e===l.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY)return c(t);if(e===l.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return d(t);return t.tapToPlay=!1,t.muted=!0,c(t)}(t):(t.tapToPlay=!1,c(t))}e.default={create:function(t){return t.videoAutoPlay?f(t):c(t)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(43)),u=i(n(202));e.default=s.default.extend({_getVideoFormats:function(){var t=[];return a.default.isIE11()&&a.default.isWindowsLessThan("8.1")||t.push({format:"hls-playlist",type:"vnd.apple.mpegurl"}),t.concat([{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}])},doPlatformSpecificSetup:function(){var t=this.getResolvedVideoUrlForFormat("hls-playlist");if(u.default.isSupported()&&t){var e=new u.default;e.startLevel=-1,e.loadSource(t),e.attachMedia(this.videoHandle)}else this._setVideoSources();a.default.isBrowserChromeGreaterThanOrEqualTo(67)&&this._isShowControls()&&(this.$el.addClass("hide-native-play-button"),this.$el.on("mouseenter",o.default.bind((function(t){this.videoHandle.readyState<=1||(this._isPlaying()?this.showPauseButton():this.showPlayButton())}),this)).on("mouseleave",o.default.bind((function(t){this.$pauseButton&&this.$pauseButton.fadeOut()}),this)),this.$vid.on("ended",o.default.bind((function(t){this.showPlayButton()}),this)),this.$el.on("mousemove",o.default.bind((function(t){this._isPlaying()&&this.showPauseButton()}),this)))},configurePlatformSpecificEvents:function(){this.$vid.on("progress load canplaythrough",o.default.bind((function(){this.videoHandle.readyState>1&&(this.isVideoReady=!0,this.canAutoplay()?this._hidePosterAndShowVideo():this.showPlayButton(),this.trigger(this.EVENTS.VIDEO_READY),this.$vid.off("progress load canplaythrough"))}),this)),this.$vid.on("play",o.default.bind((function(t){this.$playButton&&this.$playButton.hide()}),this))},showPlayButton:function(){if(!this._isPlaying()){if(this.$playButton)return this.$playButton.removeAttr("aria-hidden"),void this.$playButton.show();this.$playButton=r.default("<button>",{attr:{"aria-label":"Play Video"},class:"video-play-button"}),this.options.width>64&&this.options.height>64?this.$playButton.addClass("video-play-button-large"):this.$playButton.addClass("video-play-button-small"),this.$el.append(this.$playButton),this.$playButton.on("click",o.default.bind((function(t){t.preventDefault(),this._hidePosterAndShowVideo(),this.$playButton.hide(),this.$playButton.attr("aria-hidden",!0),this.videoHandle.play(),a.default.isBrowserChromeGreaterThanOrEqualTo(67)&&this.showPauseButton()}),this))}},showPauseButton:function(){if(this._isPlaying()){if(this.$pauseButton)return this.pauseButtonTimeout&&clearTimeout(this.pauseButtonTimeout),this.$pauseButton.show(),this.$pauseButton.removeAttr("aria-hidden"),void this.setPauseButtonTimeout();this.$pauseButton=r.default("<div>",{attr:{"aria-label":"Pause Video"},class:"video-pause-button"}),this.options.width>64&&this.options.height>64?this.$pauseButton.addClass("video-pause-button-large"):this.$pauseButton.addClass("video-pause-button-small"),this.$el.append(this.$pauseButton),this.$pauseButton.on("click",o.default.bind((function(t){t.preventDefault(),this.manuallyPause(),this.$pauseButton.hide(),this.$pauseButton.attr("aria-hidden",!0),this.showPlayButton()}),this)),this.setPauseButtonTimeout()}},setPauseButtonTimeout:function(){this.pauseButtonTimeout=setTimeout(o.default.bind((function(){this.$pauseButton.fadeOut()}),this),2500)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(200)),a=function(t){this.$videoElement=t};r.default.extend(a.prototype,o.default,{on:function(t,e){this.$videoElement.on(t,e)},getPosition:function(){return this.$videoElement[0].currentTime},getLength:function(){return this.$videoElement[0].duration},isPlaying:function(){return!1===this.$videoElement[0].ended&&!1===this.$videoElement[0].paused&&this.$videoElement[0].currentTime>0},getCurrentSource:function(){return this.$videoElement[0].currentSrc}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={on:function(t,e){throw new Error("on() must be defined by child class")},getPosition:function(){throw new Error("getPosition() must be defined by child class")},getLength:function(){throw new Error("getLength() must be defined by child class")},isPlaying:function(){throw new Error("isPlaying() must be defined by child class")},getCurrentSource:function(){throw new Error("getCurrentSource() must be defined by child class")}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=function(t,e){this.video=t,this.loadedMetaData=!1,this.playedVideoBeforeMetaDataLoaded=!1,this.sentInitialPlayEvent=!1,this.progressPercents=[],this.isPlaying=!1,this.isTransitioningToPaused=!1,this.videoLength=e||!1,this.enabled=!0,this.currentPosition=0,this.lastPosition=0,this.progressStartPosition=0,this.isWindowVisible="hidden"!==document.visibilityState,this.addEventListeners()};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{PLAY:"play",PROGRESS_TIME:"progress_time",PROGRESS_PERCENT:"progress_percent"},enableTracking:function(){this.enabled||(this.enabled=!0,this.isWindowVisible&&this.restartProgressTracking())},disableTracking:function(){this.enabled&&(this.isWindowVisible&&this.triggerProgressEvent(this.lastPosition),this.enabled=!1)},addEventListeners:function(){document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?(this.isWindowVisible=!1,this.enabled&&this.triggerProgressEvent(this.lastPosition)):"visible"===document.visibilityState&&(this.isWindowVisible=!0,this.enabled&&this.restartProgressTracking())}),this));var t=this;r.default.each("loadedmetadata,timeupdate".split(","),(function(e){t.video.on(e,(function(){switch(t.currentPosition=t.video.getPosition(),t.videoLength&&(t.currentPosition=Math.min(t.currentPosition,t.videoLength)),t.isTransitioningToPaused=t.isPlaying&&!t.video.isPlaying(),t.isPlaying=t.video.isPlaying(),e){case"loadedmetadata":t.handleLoadedMetadataEvent();break;case"timeupdate":t.handleTimeUpdateEvent();break;default:throw new Error("Missing handler function for video event: "+e)}t.lastPosition=t.currentPosition}))}))},handleLoadedMetadataEvent:function(){this.loadedMetaData=!0,this.videoLength||!this.video.getLength()||this.video.getLength()===1/0||isNaN(this.video.getLength())||(this.videoLength=this.video.getLength()),this.playedVideoBeforeMetaDataLoaded&&(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0)},sendInitialPlayEvent:function(){this.sentInitialPlayEvent||this.playedVideoBeforeMetaDataLoaded||(this.loadedMetaData?(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0):this.playedVideoBeforeMetaDataLoaded=!0)},triggerPlayEvent:function(){this.triggerEvent(this.EVENTS.PLAY,{videoPosition:this.sanitizeVideoPosition(this.currentPosition)})},handleTimeUpdateEvent:function(){this.isPlaying&&this.sendInitialPlayEvent(),this.enabled&&this.isWindowVisible&&(this.currentPosition<this.lastPosition||Math.abs(this.currentPosition-this.lastPosition)>1?this.triggerProgressEvent(this.lastPosition):(this.isTransitioningToPaused||this.currentPosition-this.progressStartPosition>=10)&&this.triggerProgressEvent(),(this.isPlaying||this.isTransitioningToPaused)&&this.trackProgressPercent())},trackProgressPercent:function(){var t=this.videoLength?Math.floor(this.videoLength):this.videoLength;if(t&&100!==this.progressPercents.length){var e=Math.round(this.currentPosition/t*100);e=Math.max(1,Math.min(100,e));var n=1;t<100&&(n=Math.ceil(100/t));for(var i=0;i<n&&(this.addProgressPercentViewed(e),!(--e<=0));i++);}},addProgressPercentViewed:function(t){if(!r.default.includes(this.progressPercents,t)){this.progressPercents.push(t);var e=this.progressPercents.length;this.triggerEvent(this.EVENTS.PROGRESS_PERCENT,{progressPercent:e})}},triggerProgressEvent:function(t){var e=(t=t||this.currentPosition)-this.progressStartPosition;e>.1&&this.triggerEvent(this.EVENTS.PROGRESS_TIME,{videoPosition:this.sanitizeVideoPosition(this.progressStartPosition),videoPlayTime:this.round(e)}),this.restartProgressTracking()},triggerEvent:function(t,e){this.videoLength&&(e.videoLength=this.round(this.videoLength)),this.trigger(t,e)},restartProgressTracking:function(){this.progressStartPosition=this.currentPosition},round:function(t){return Math.round(100*t)/100},sanitizeVideoPosition:function(t){var e=this.round(t);return e<0&&(e=0),e}}),e.default=a},function(t,e,n){"use strict";"undefined"!=typeof self&&self,t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=27)}([function(t,e,n){function i(){}function r(t,e){return"["+t+"] > "+e}function o(t){var e=self.console[t];return e?function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];i[0]&&(i[0]=r(t,i[0])),e.apply(self.console,i)}:i}n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=s,l=function(t){if(!0===t||"object"===(void 0===t?"undefined":a(t))){!function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach((function(e){u[e]=t[e]?t[e].bind(t):o(e)}))}(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=s}}else u=s},c=s},function(t,e,n){e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=n(2),a=n(1),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),l=function(){function t(e){i(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"===s(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(u.has(t))throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){r.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(a.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();e.a=l},function(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},function(t,e,n){n.d(e,"b",(function(){return r}));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,r=0;t.isHeader(e,n);)r+=10,r+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(r+=10),n+=r;if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var r=t._readSize(e,n+6),o=(n+=10)+r;n+8<o;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&i.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.length,i=void 0,r=void 0,o=void 0,a="",s=0;s<n;){if(0===(i=t[s++])&&e)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[s++],o=t[s++],a+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&o)<<0)}}return a},t}(),r=i._utf8ArrayToStr;e.a=i},function(t,e,n){var i=n(4),r=n.n(i),o=n(16),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){var e;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return t.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},t.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new o.a).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},a(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=r.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),t}();e.a=s},function(t,e,n){e.a={search:function(t,e){for(var n=0,i=t.length-1,r=null,o=null;n<=i;){var a=e(o=t[r=(n+i)/2|0]);if(a>0)n=r+1;else{if(!(a<0))return o;i=r-1}}return null}}},function(t,e,n){e.a={isBuffered:function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},bufferInfo:function(t,e,n){try{if(t){var i=t.buffered,r=[],o=void 0;for(o=0;o<i.length;o++)r.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(r,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var i=[],r=void 0,o=void 0,a=void 0,s=void 0,u=void 0;for(t.sort((function(t,e){return t.start-e.start||e.end-t.end})),u=0;u<t.length;u++){var l=i.length;if(l){var c=i[l-1].end;t[u].start-c<n?t[u].end>c&&(i[l-1].end=t[u].end):i.push(t[u])}else i.push(t[u])}for(u=0,r=0,o=a=e;u<i.length;u++){var d=i[u].start,f=i[u].end;if(e+n>=d&&e<f)o=d,r=(a=f)-e;else if(e+n<d){s=d;break}}return{len:r,start:o,end:a,nextStart:s}}}},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(33),o=n(34),a=n(35),s=n(2),u=n(0),l=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.removePKCS7Padding,a=void 0===o||o;if(i(this,t),this.logEnabled=!0,this.observer=e,this.config=n,this.removePKCS7Padding=a,a)try{var s=crypto||self.crypto;this.subtle=s.subtle||s.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,i){var s=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.b.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new a.a),l.expandKey(e),i(l.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(u.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new o.a(c,e)),this.fastAesKey.expandKey().then((function(o){new r.a(c,n).decrypt(t,o).catch((function(r){s.onWebCryptoError(r,t,e,n,i)})).then((function(t){i(t)}))})).catch((function(r){s.onWebCryptoError(r,t,e,n,i)}))}},t.prototype.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(u.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(u.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=l},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){e.a=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},function(t,e,n){n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var i=n(3),r=n(1),o={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.a.BUFFER_APPENDED,r.a.FRAG_BUFFERED,r.a.FRAG_LOADED));return i.bufferPadding=.2,i.fragments=Object.create(null),i.timeRanges=Object.create(null),i.config=n.config,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,i.a.prototype.destroy.call(this),t.prototype.destroy.call(this)},e.prototype.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter((function(i){var r=n[i];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var o=r.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===i.length)return null;var r=i.pop();return n[r].body},e.prototype.detectEvictedFragments=function(t,e){var n=this,i=void 0,r=void 0;Object.keys(this.fragments).forEach((function(o){var a=n.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){i=s.time;for(var u=0;u<i.length;u++)if(r=i[u],!1===n.isTimeBuffered(r.startPTS,r.endPTS,e)){n.removeFragment(a.body);break}}}}))},e.prototype.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(!0===t.hasElementaryStream(n)){var r=e.timeRanges[n];i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}})))},e.prototype.getBufferedTimes=function(t,e,n){for(var i=[],r=void 0,o=void 0,a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,o=n.end(s)+this.bufferPadding,t>=r&&e<=o){i.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<o&&e>r)i.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=r)break}return{time:i,partial:a}},e.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.sn},e.prototype.getPartialFragment=function(t){var e=this,n=void 0,i=void 0,r=void 0,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=e.fragments[s];e.isPartial(u)&&(i=u.body.startPTS-e.bufferPadding,r=u.body.endPTS+e.bufferPadding,t>=i&&t<=r&&(n=Math.min(t-i,r-t),a<=n&&(o=u.body,a=n)))})),o},e.prototype.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],i=o.NOT_LOADED;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?o.PARTIAL:o.OK:o.APPENDING),i},e.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},e.prototype.isTimeBuffered=function(t,e,n){for(var i=void 0,r=void 0,o=0;o<n.length;o++){if(i=n.start(o)-this.bufferPadding,r=n.end(o)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1},e.prototype.onFragLoaded=function(t){var e=t.frag;if(!isNaN(e.sn)){var n=this.getFragmentKey(e),i={body:e,range:Object.create(null),buffered:!1};this.fragments[n]=i}},e.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},e.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},e.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},e.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},e.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},e}(i.a)},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var o=function(t){function e(n){i(this,e);for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var u=r(this,t.call.apply(t,[this,n].concat(a)));return u._tickInterval=null,u._tickCallCount=0,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearInterval(),t.prototype.destroy.call(this)},e.prototype.hasInterval=function(){return null!==this._tickInterval},e.prototype.setInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this.tick.bind(this,!1),t),!0)})),e.prototype.clearInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)})),e.prototype.tick=function(){1==++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&setTimeout(this.tick.bind(this),0),this._tickCallCount=0)},e.prototype.doTick=function(){throw new Error("TaskLoop is abstract and `doLoop` must be implemented")},e}(n(3).a);e.a=o},function(t,e,n){var i=n(1),r=n(3),o=n(2),a=n(0),s=n(15),u=n(28),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},d={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MANIFEST_LOADING,i.a.LEVEL_LOADING,i.a.AUDIO_TRACK_LOADING,i.a.SUBTITLE_TRACK_LOADING));return r.loaders={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.canHaveQualityLevels=function(t){return t!==c.AUDIO_TRACK&&t!==c.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){switch(t.type){case c.AUDIO_TRACK:return d.AUDIO;case c.SUBTITLE_TRACK:return d.SUBTITLE;default:return d.MAIN}},e.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n},e.prototype.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,i=e.loader,r=new(n||i)(e);return t.loader=r,this.loaders[t.type]=r,r},e.prototype.getInternalLoader=function(t){return this.loaders[t.type]},e.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:c.MANIFEST})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:c.LEVEL,level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:c.AUDIO_TRACK,id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:c.SUBTITLE_TRACK,id:t.id})},e.prototype.load=function(t,e){var n=this.hls.config,i=this.getInternalLoader(e);if(i){var r=i.context;if(r&&r.url===t)return a.b.trace("playlist request ongoing"),!1;a.b.warn("aborting previous loader for type: "+e.type),i.abort()}var o,s,u=void 0,l=void 0,d=void 0,f=void 0;switch(e.type){case c.MANIFEST:u=n.manifestLoadingMaxRetry,l=n.manifestLoadingTimeOut,d=n.manifestLoadingRetryDelay,f=n.manifestLoadingMaxRetryTimeout;break;case c.LEVEL:u=0,l=n.levelLoadingTimeOut;break;default:u=n.levelLoadingMaxRetry,l=n.levelLoadingTimeOut,d=n.levelLoadingRetryDelay,f=n.levelLoadingMaxRetryTimeout,a.b.log("Playlist loader for "+e.type+" "+(e.level||e.id))}return i=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"",o={timeout:l,maxRetry:u,retryDelay:d,maxRetryDelay:f},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.load(e,o,s),!0},e.prototype.loadsuccess=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);this.resetInternalLoader(n.type);var r=t.data;e.tload=performance.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},e.prototype.loaderror=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,n)},e.prototype.loadtimeout=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,n,!0)},e.prototype._handleMasterPlaylist=function(t,n,r,o){var s=this.hls,l=t.data,c=e.getResponseUrl(t,r),d=u.a.parseMasterPlaylist(l,c);if(d.length){var f=d.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),h=u.a.parseMasterPlaylistMedia(l,c,"AUDIO",f),p=u.a.parseMasterPlaylistMedia(l,c,"SUBTITLES");if(h.length){var g=!1;h.forEach((function(t){t.url||(g=!0)})),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(a.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}s.trigger(i.a.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:p,url:c,stats:n,networkDetails:o})}else this._handleManifestParsingError(t,r,"no level found in manifest",o)},e.prototype._handleTrackOrLevelPlaylist=function(t,n,r,o){var a=this.hls,s=r.id,l=r.level,d=r.type,f=e.getResponseUrl(t,r),h=isNaN(l)?isNaN(s)?0:s:l,p=e.mapContextToLevelType(r),g=u.a.parseLevelPlaylist(t.data,f,h,p);if(g.tload=n.tload,d===c.MANIFEST){var v={url:f,details:g};a.trigger(i.a.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:f,stats:n,networkDetails:o})}if(n.tparsed=performance.now(),g.needSidxRanges){var m=g.initSegment.url;this.load(m,{isSidxRequest:!0,type:d,level:l,levelDetails:g,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=g,this._handlePlaylistLoaded(t,n,r,o)},e.prototype._handleSidxRequest=function(t,e){var n=s.a.parseSegmentIndex(new Uint8Array(t.data));n.references.forEach((function(t,n){var i=t.info,r=e.levelDetails.fragments[n];0===r.byteRange.length&&(r.rawByteRange=String(1+i.end-i.start)+"@"+String(i.start))})),e.levelDetails.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"},e.prototype._handleManifestParsingError=function(t,e,n,r){this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:r})},e.prototype._handleNetworkError=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,a=void 0,s=this.getInternalLoader(t);switch(t.type){case c.MANIFEST:r=n?o.a.MANIFEST_LOAD_TIMEOUT:o.a.MANIFEST_LOAD_ERROR,a=!0;break;case c.LEVEL:r=n?o.a.LEVEL_LOAD_TIMEOUT:o.a.LEVEL_LOAD_ERROR,a=!1;break;case c.AUDIO_TRACK:r=n?o.a.AUDIO_TRACK_LOAD_TIMEOUT:o.a.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}s&&(s.abort(),this.resetInternalLoader(t.type)),this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:r,fatal:a,url:s.url,loader:s,context:t,networkDetails:e})},e.prototype._handlePlaylistLoaded=function(t,n,r,o){var a=r.type,s=r.level,u=r.id,l=r.levelDetails;if(l.targetduration)if(e.canHaveQualityLevels(r.type))this.hls.trigger(i.a.LEVEL_LOADED,{details:l,level:s||0,id:u||0,stats:n,networkDetails:o});else switch(a){case c.AUDIO_TRACK:this.hls.trigger(i.a.AUDIO_TRACK_LOADED,{details:l,id:u,stats:n,networkDetails:o});break;case c.SUBTITLE_TRACK:this.hls.trigger(i.a.SUBTITLE_TRACK_LOADED,{details:l,id:u,stats:n,networkDetails:o})}else this._handleManifestParsingError(t,r,"invalid target duration",o)},l(e,null,[{key:"ContextType",get:function(){return c}},{key:"LevelType",get:function(){return d}}]),e}(r.a);e.a=f},function(t,e,n){var i=n(0),r=n(1),o=Math.pow(2,32)-1,a=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.remuxer=n}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,i,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:i,initSegment:o?e:null})),this.observer.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i=[],r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;if(e.data?(u=e.start,a=e.end,e=e.data):(u=0,a=e.byteLength),!n.length)return null;for(r=u;r<a;)l=(o=t.readUint32(e,r))>1?r+o:a,t.bin2str(e.subarray(r+4,r+8))===n[0]&&(1===n.length?i.push({data:e,start:r+8,end:l}):(s=t.findBox({data:e,start:r+8,end:l},n.slice(1))).length&&(i=i.concat(s))),r=l;return i},t.parseSegmentIndex=function(e){var n=t.findBox(e,["moov"])[0],i=n?n.end:null,r=0,o=t.findBox(e,["sidx"]),a=void 0;if(!o||!o[0])return null;a=[];var s=(o=o[0]).data[0];r=0===s?8:16;var u=t.readUint32(o,r);r+=4,r+=0===s?8:16,r+=2;var l=o.end+0,c=t.readUint16(o,r);r+=2;for(var d=0;d<c;d++){var f=r,h=t.readUint32(o,f);f+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(o,f);f+=4,a.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,r=f+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:a,moovEndOffset:i}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach((function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var o=r.data[r.start],a=0===o?12:20,s=t.readUint32(r,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){a=0===(o=u.data[u.start])?12:20;var l=t.readUint32(u,a),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var f=t.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=t.bin2str(f.data.subarray(f.start+12,f.start+16));i.b.log("MP4Demuxer:"+d+":"+h+" found")}n[s]={timescale:l,type:d},n[d]={timescale:l,id:s}}}}}})),n},t.getStartDTS=function(e,n){var i,r,o=void 0;return o=t.findBox(n,["moof","traf"]),i=[].concat.apply([],o.map((function(n){return t.findBox(n,["tfhd"]).map((function(i){var r,o;return r=t.readUint32(i,4),o=e[r].timescale||9e4,t.findBox(n,["tfdt"]).map((function(e){var n,i=void 0;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i}))[0]/o}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map((function(n){return t.findBox(n,["tfhd"]).map((function(r){var a=t.readUint32(r,4),s=e[a].timescale||9e4;t.findBox(n,["tfdt"]).map((function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*s,r=Math.max(r,0);var a=Math.floor(r/(o+1)),u=Math.floor(r%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,u)}}))}))}))},t.prototype.append=function(e,n,i,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(a,e);this.initPTS=u=l-n,this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(a,e,u),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,i,o,e)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,n){var i=n(4),r=n.n(i),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return o(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=r.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}();e.a=a},function(t,e,n){function i(t,e){var n=o[e];return!!n&&!0===n[t.slice(0,4)]}function r(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var o={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}}},function(t,e,n){var i=n(1),r=n(19),o=n(0),a=n(2),s=n(10),u=n.n(s),l=n(45),c=n.n(l),d=n(11),f=Object(d.a)(),h=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.id=n;var s=this.observer=new u.a,l=e.config;s.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.emit.apply(s,[t,t].concat(n))},s.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.removeListener.apply(s,[t].concat(n))};var d=function(t,n){(n=n||{}).frag=this.frag,n.id=this.id,e.trigger(t,n)}.bind(this);s.on(i.a.FRAG_DECRYPTED,d),s.on(i.a.FRAG_PARSING_INIT_SEGMENT,d),s.on(i.a.FRAG_PARSING_DATA,d),s.on(i.a.FRAG_PARSED,d),s.on(i.a.ERROR,d),s.on(i.a.FRAG_PARSING_METADATA,d),s.on(i.a.FRAG_PARSING_USERDATA,d),s.on(i.a.INIT_PTS_FOUND,d);var h={mp4:f.isTypeSupported("video/mp4"),mpeg:f.isTypeSupported("audio/mpeg"),mp3:f.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){o.b.log("demuxing in webworker");var g=void 0;try{g=this.w=c()(46),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(i.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},g.postMessage({cmd:"init",typeSupported:h,vendor:p,id:n,config:JSON.stringify(l)})}catch(t){o.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),g&&URL.revokeObjectURL(g.objectURL),this.demuxer=new r.a(s,h,l,p),this.w=void 0}}else this.demuxer=new r.a(s,h,l,p)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,n,i,r,a,s,u){var l=this.w,c=isNaN(r.startDTS)?r.start:r.startDTS,d=r.decryptdata,f=this.frag,h=!(f&&r.cc===f.cc),p=!(f&&r.level===f.level),g=f&&r.sn===f.sn+1,v=!p&&g;if(h&&o.b.log(this.id+":discontinuity detected"),p&&o.b.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:c,discontinuity:h,trackSwitch:p,contiguous:v,duration:a,accurateTimeOffset:s,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,d,e,n,i,c,h,p,v,a,s,u)}},t.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case i.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}();e.a=h},function(t,e,n){var i=n(1),r=n(2),o=n(9),a=n(36),s=n(15),u=n(37),l=n(40),c=n(41),d=n(44),f=function(){function t(e,n,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.typeSupported=n,this.config=i,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,r,a,s,u,l,c,d,f,h){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var p=this.decrypter;null==p&&(p=this.decrypter=new o.a(this.observer,this.config));var g=this,v=void 0;try{v=performance.now()}catch(t){v=Date.now()}p.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var o=void 0;try{o=performance.now()}catch(t){o=Date.now()}g.observer.trigger(i.a.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,u,l,c,d,f,h)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,u,l,c,d,f,h)},t.prototype.pushDecrypted=function(t,e,n,o,f,h,p,g,v,m,y,b){var _=this.demuxer;if(!_||(p||g)&&!this.probe(t)){for(var w=this.observer,E=this.typeSupported,T=this.config,S=[{demux:u.a,remux:c.a},{demux:s.a,remux:d.a},{demux:a.a,remux:c.a},{demux:l.a,remux:c.a}],A=0,P=S.length;A<P;A++){var x=S[A],O=x.demux.probe;if(O(t)){var I=this.remuxer=new x.remux(w,T,E,this.vendor);_=new x.demux(w,I,T,E),this.probe=O;break}}if(!_)return void w.trigger(i.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=_}var C=this.remuxer;(p||g)&&(_.resetInitSegment(n,o,f,m),C.resetInitSegment()),p&&(_.resetTimeStamp(b),C.resetTimeStamp(b)),"function"==typeof _.setDecryptData&&_.setDecryptData(e),_.append(t,h,v,y)},t}();e.a=f},function(t,e,n){function i(t,e){return 255===t[e]&&240==(246&t[e+1])}function r(t,e){return 1&t[e+1]?7:9}function o(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function a(t){return 9216e4/t}function s(t,e,n,i,a){var s,u=void 0,l=t.length;if(s=r(t,e),u=o(t,e),(u-=s)>0&&e+s+u<=l)return{headerLength:s,frameLength:u,stamp:n+i*a}}e.d=function(t,e){return!!(e+1<t.length&&i(t,e))},e.e=function(t,e){if(e+1<t.length&&i(t,e)){var n=r(t,e);e+5<t.length&&(n=o(t,e));var a=e+n;if(a===t.length||a+1<t.length&&i(t,a))return!0}return!1},e.c=function(t,e,n,i,r){if(!t.samplerate){var o=function(t,e,n,i){var r,o=void 0,a=void 0,s=void 0,c=void 0,d=navigator.userAgent.toLowerCase(),f=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return o=1+((192&e[n+2])>>>6),(r=(60&e[n+2])>>>2)>h.length-1?void t.trigger(Event.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+r}):(s=(1&e[n+2])<<2,s|=(192&e[n+3])>>>6,u.b.log("manifest codec:"+i+",ADTS data:type:"+o+",sampleingIndex:"+r+"["+h[r]+"Hz],channelConfig:"+s),/firefox/i.test(d)?r>=6?(o=5,c=new Array(4),a=r-3):(o=2,c=new Array(2),a=r):-1!==d.indexOf("android")?(o=2,c=new Array(2),a=r):(o=5,c=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&r>=6?a=r-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(r>=6&&1===s||/vivaldi/i.test(d))||!i&&1===s)&&(o=2,c=new Array(2)),a=r)),c[0]=o<<3,c[0]|=(14&r)>>1,c[1]|=(1&r)<<7,c[1]|=s<<3,5===o&&(c[1]|=(14&a)>>1,c[2]=(1&a)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[r],channelCount:s,codec:"mp4a.40."+o,manifestCodec:f})}(e,n,i,r);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,u.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},e.b=a,e.a=function(t,e,n,i,r){var o=s(e,n,i,r,a(t.samplerate));if(o){var u=o.stamp,l=o.headerLength,c=o.frameLength,d={unit:e.subarray(n+l,n+l+c),pts:u,dts:u};return t.samples.push(d),t.len+=c,{sample:d,length:c+l}}};var u=n(0),l=n(2)},function(t,e,n){var i={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=i+r*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==n&&0!==o&&15!==o&&3!==a){var u=3===n?3-r:3===r?3:4,l=1e3*i.BitratesMap[14*u+o-1],c=3===n?0:2===n?1:2,d=i.SamplingRateMap[3*c+a],f=t[e+3]>>6==3?1:2,h=i.SamplesCoefficients[n][r],p=i.BytesInSlot[r],g=8*h*p;return{sampleRate:d,channelCount:f,frameLength:parseInt(h*l/d+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var r=e+i;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}};e.a=i},function(t,e,n){function i(t,e,n){var i=t[e],r=t[n],a=r.startPTS;isNaN(a)?r.start=n>e?i.start+i.duration:Math.max(i.start-r.duration,0):n>e?(i.duration=a-i.start,i.duration<0&&o.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-a,r.duration<0&&o.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function r(t,e,n,r,o,a){var s=n;if(!isNaN(e.startPTS)){var u=Math.abs(e.startPTS-n);isNaN(e.deltaPTS)?e.deltaPTS=u:e.deltaPTS=Math.max(u,e.deltaPTS),s=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),r=Math.max(r,e.endPTS),o=Math.min(o,e.startDTS),a=Math.max(a,e.endDTS)}var l=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=s,e.endPTS=r,e.startDTS=o,e.endDTS=a,e.duration=r-n;var c=e.sn;if(!t||c<t.startSN||c>t.endSN)return 0;var d,f=void 0,h=void 0;for(d=c-t.startSN,(f=t.fragments)[d]=e,h=d;h>0;h--)i(f,h,h-1);for(h=d;h<f.length-1;h++)i(f,h,h+1);return t.PTSKnown=!0,l}e.b=r,e.a=function(t,e){var n=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,s=t.fragments,u=e.fragments,l=0,c=void 0;if(e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment),i<n)e.PTSKnown=!1;else{for(var d=n;d<=i;d++){var f=s[a+d],h=u[d];h&&f&&(l=f.cc-h.cc,isNaN(f.startPTS)||(h.start=h.startPTS=f.startPTS,h.endPTS=f.endPTS,h.duration=f.duration,h.backtracked=f.backtracked,h.dropped=f.dropped,c=h))}if(l)for(o.b.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=l;if(c)r(e,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS);else if(a>=0&&a<s.length){var p=s[a].start;for(d=0;d<u.length;d++)u[d].start+=p}e.PTSKnown=t.PTSKnown}};var o=n(0)},function(t,e,n){e.a={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}}},function(t,e,n){function i(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(n,i[0].cc);return!r||r&&!r.startPTS?void a.b.log("No frag in previous level to align on"):r}a.b.log("No fragments to align")}function r(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}e.b=function(t,e){return o.a.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.a=function(t,e,n){if(function(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}(t,e,n)){var o=i(e.details,n);o&&(a.b.log("Adjusting PTS using last level due to CC increase within current level"),r(o.start,n))}if(!1===n.PTSKnown&&e&&e.details&&e.details.fragments&&e.details.fragments.length){var s=e.details.programDateTime,u=(n.programDateTime-s)/1e3+e.details.fragments[0].start;isNaN(u)||(a.b.log("adjusting PTS using programDateTime delta, sliding:"+u.toFixed(3)),r(u,n))}};var o=n(7),a=n(0)},function(t,e,n){e.b=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.a=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},function(t,e,n){function i(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new l,this.regionList=[]}function r(){this.values=Object.create(null)}function o(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}function a(t,e,n){function i(){var e=function(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}var s=t;if(a(),e.startTime=i(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),a(),e.endTime=i(),a(),function(t,e){var i=new r;o(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start",d,"end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start",d,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",d,"end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===c.line&&(a=-1),e.line=a,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",d);var s=i.get("position","auto");"auto"===s&&50===c.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function s(t){return t.replace(/<br(?: \/)?>/gi,"\n")}n.d(e,"b",(function(){return s}));var u=n(61),l=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};r.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var c=new u.a(0,0,0),d="middle"===c.align?"middle":"center";i.prototype={parse:function(t){function e(){var t=n.buffer,e=0;for(t=s(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,n.buffer=t.substr(e),i}var n=this;t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{var i=void 0;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var r=(i=e()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");n.state="HEADER"}for(var l=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(l?l=!1:i=e(),n.state){case"HEADER":/:/.test(i)?function(t){o(t,(function(t,e){switch(t){case"Region":console.log("parse region",e)}}),/:/)}(i):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new u.a(0,0,""),n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{a(i,n.cue,n.regionList)}catch(t){n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var c=-1!==i.indexOf("--\x3e");if(!i||c&&(l=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i;continue;case"BADCUE":i||(n.state="ID");continue}}}catch(t){"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}},e.a=i},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(2),s=n(14),u=n(30),l=n(31),c=n(32),d=n(47),f=n(48),h=n(49),p=n(0),g=n(50),v=n(12),m=n(1),y=n(10),b=n.n(y),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(70);var w=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var r=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in r)o in n||(n[o]=r[o]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(p.a)(n.debug),this.config=n,this._autoLevelCapping=-1;var a=this.observer=new b.a;a.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];a.emit.apply(a,[t,t].concat(n))},a.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];a.removeListener.apply(a,[t].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var h=this.abrController=new n.abrController(this),g=new n.bufferController(this),m=new n.capLevelController(this),y=new n.fpsController(this),_=new s.a(this),w=new u.a(this),E=new l.a(this),T=new f.a(this),S=this.levelController=new d.a(this),A=new v.b(this),P=this.streamController=new c.a(this,A),x=[S,P],O=n.audioStreamController;O&&x.push(new O(this,A)),this.networkControllers=x;var I=[_,w,E,h,g,m,y,T,A];if(O=n.audioTrackController){var C=new O(this);this.audioTrackController=C,I.push(C)}if(O=n.subtitleTrackController){var R=new O(this);this.subtitleTrackController=R,I.push(R)}if(O=n.emeController){var M=new O(this);this.emeController=M,I.push(M)}[n.subtitleStreamController,n.timelineController].forEach((function(t){t&&I.push(new t(e))})),this.coreComponents=I}return t.isSupported=function(){return Object(h.a)()},_(t,null,[{key:"version",get:function(){return"0.9.1"}},{key:"Events",get:function(){return m.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:g.a},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){p.b.log("destroy"),this.trigger(m.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){p.b.log("attachMedia"),this.media=t,this.trigger(m.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){p.b.log("detachMedia"),this.trigger(m.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=o.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),p.b.log("loadSource:"+t),this.url=t,this.trigger(m.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;p.b.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},t.prototype.stopLoad=function(){p.b.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},t.prototype.swapAudioCodec=function(){p.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){p.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},_(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){p.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){p.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){p.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){p.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){p.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){p.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=w},function(t,e,n){var i=n(4),r=n.n(i),o=n(6),a=n(16),s=n(29),u=n(0),l=n(17),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.findGroup=function(t,e){if(!t)return null;for(var n=null,i=0;i<t.length;i++){var r=t[i];r.id===e&&(n=r)}return n},t.convertAVC1ToAVCOTI=function(t){var e=void 0,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return r.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var i=[],r=void 0;for(c.lastIndex=0;null!=(r=c.exec(e));){var o={},a=o.attrs=new s.a(r[1]);o.url=t.resolve(r[2],n);var u=a.decimalResolution("RESOLUTION");u&&(o.width=u.width,o.height=u.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME,function(t,e){["video","audio"].forEach((function(n){var i=t.filter((function(t){return Object(l.b)(t,n)}));if(i.length){var r=i.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter((function(t){return-1===i.indexOf(t)}))}})),e.unknownCodecs=t}([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),i.push(o)}return i},t.parseMasterPlaylistMedia=function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=void 0,a=[],u=0;for(d.lastIndex=0;null!==(o=d.exec(e));){var l={},c=new s.a(o[1]);if(c.TYPE===i){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=i,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=t.resolve(c.URI,n)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),r.length){var f=t.findGroup(r,l.groupId);l.audioCodec=f?f.codec:r[0].codec}l.id=u++,a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,n,i){var r=0,l=0,c={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},d=new a.a,p=0,g=null,v=new o.a,m=void 0,y=void 0;for(f.lastIndex=0;null!==(m=f.exec(t));){var b=m[1];if(b){v.duration=parseFloat(b);var _=(" "+m[2]).slice(1);v.title=_||null,v.tagList.push(_?["INF",b,_]:["INF",b])}else if(m[3]){if(!isNaN(v.duration)){var w=r++;v.type=i,v.start=l,v.levelkey=d,v.sn=w,v.level=n,v.cc=p,v.baseurl=e,v.relurl=(" "+m[3]).slice(1),c.programDateTime&&(g?v.rawProgramDateTime?v.pdt=Date.parse(v.rawProgramDateTime):v.pdt=g.pdt+1e3*g.duration:v.pdt=Date.parse(c.programDateTime),v.endPdt=v.pdt+1e3*v.duration),c.fragments.push(v),g=v,l+=v.duration,v=new o.a}}else if(m[4]){if(v.rawByteRange=(" "+m[4]).slice(1),g){var E=g.byteRangeEndOffset;E&&(v.lastByteRangeEndOffset=E)}}else if(m[5])v.rawProgramDateTime=(" "+m[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),void 0===c.programDateTime&&(c.programDateTime=new Date(new Date(Date.parse(m[5]))-1e3*l));else{for(m=m[0].match(h),y=1;y<m.length&&void 0===m[y];y++);var T=(" "+m[y+1]).slice(1),S=(" "+m[y+2]).slice(1);switch(m[y]){case"#":v.tagList.push(S?[T,S]:[T]);break;case"PLAYLIST-TYPE":c.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":r=c.startSN=parseInt(T);break;case"TARGETDURATION":c.targetduration=parseFloat(T);break;case"VERSION":c.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"DIS":p++,v.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(T);break;case"KEY":var A=T,P=new s.a(A),x=P.enumeratedString("METHOD"),O=P.URI,I=P.hexadecimalInteger("IV");x&&(d=new a.a,O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(x)>=0&&(d.method=x,d.baseuri=e,d.reluri=O,d.key=null,d.iv=I));break;case"START":var C=T,R=new s.a(C).decimalFloatingPoint("TIME-OFFSET");isNaN(R)||(c.startTimeOffset=R);break;case"MAP":var M=new s.a(T);v.relurl=M.URI,v.rawByteRange=M.BYTERANGE,v.baseurl=e,v.level=n,v.type=i,v.sn="initSegment",c.initSegment=v,v=new o.a;break;default:u.b.warn("line parsed but not handled: "+m)}}}return(v=g)&&!v.relurl&&(c.fragments.pop(),l-=v.duration),c.totalduration=l,c.averagetargetduration=l/c.fragments.length,c.endSN=r-1,c.startCC=c.fragments[0]?c.fragments[0].cc:0,c.endCC=p,!c.initSegment&&c.fragments.length&&c.fragments.every((function(t){return t.relurl.endsWith(".mp4")}))&&(u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(v=new o.a).relurl=c.fragments[0].relurl,v.baseurl=e,v.level=n,v.type=i,v.sn="initSegment",c.initSegment=v,c.needSidxRanges=!0),c},t}();e.a=p},function(t,e,n){var i=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=i.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e=void 0,n={};for(r.lastIndex=0;null!==(e=r.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}();e.a=o},function(t,e,n){var i=n(1),r=n(3),o=n(2),a=n(0),s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.FRAG_LOADING));return r.loaders={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){var e=this.loaders;for(var n in e){var i=e[n];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders,r=this.hls.config,o=r.fLoader,s=r.loader;e.loaded=0;var u=i[n];u&&(a.b.warn("abort previous fragment loader for type: "+n),u.abort()),u=i[n]=e.loader=r.fLoader?new o(r):new s(r);var l,c,d=void 0;d={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var f=e.byteRangeStartOffset,h=e.byteRangeEndOffset;isNaN(f)||isNaN(h)||(d.rangeStart=f,d.rangeEnd=h),l={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},u.load(d,l,c)},e.prototype.loadsuccess=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.a.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:r})},e.prototype.loaderror=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},e.prototype.loadtimeout=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},e.prototype.loadprogress=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.frag;o.loaded=t.loaded,this.hls.trigger(i.a.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:r})},e}(r.a);e.a=s},function(t,e,n){var i=n(1),r=n(3),o=n(2),a=n(0),s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},r.a.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],o=e.decryptdata,s=o.uri;if(s!==this.decrypturl||null===this.decryptkey){var u,l,c,d=this.hls.config;r&&(a.b.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new d.loader(d),this.decrypturl=s,this.decryptkey=null,u={url:s,frag:e,responseType:"arraybuffer"},l={timeout:d.fragLoadingTimeOut,maxRetry:d.fragLoadingMaxRetry,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,l,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.a.KEY_LOADED,{frag:r})},e.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(r.a);e.a=s},function(t,e,n){var i=n(7),r=n(8),o=n(18),a=n(1),s=n(12),u=n(6),l=n(14),c=n(22),d=n(23),f=n(2),h=n(0),p=n(24),g=n(13),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m="STOPPED",y="IDLE",b="KEY_LOADING",_="FRAG_LOADING",w="FRAG_LOADING_WAITING_RETRY",E="WAITING_LEVEL",T="PARSING",S="PARSED",A="BUFFER_FLUSHING",P="ENDED",x="ERROR",O=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.MANIFEST_LOADING,a.a.MANIFEST_PARSED,a.a.LEVEL_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_LOAD_EMERGENCY_ABORTED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_SWITCHED,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED));return r.fragmentTracker=i,r.config=n.config,r.audioCodecSwap=!1,r._state=m,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=m,this.fragmentTracker=null},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(h.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=y,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=m},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=m,this.forceStartLoad=!1},e.prototype.doTick=function(){switch(this.state){case A:this.fragLoadError=0;break;case y:this._doTickIdle();break;case E:var t=this.levels[this.level];t&&t.details&&(this.state=y);break;case w:var e=performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(h.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y)}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=t.nextLoadLevel,s=this.levels[o];if(s){var u=s.bitrate,l=void 0;l=u?Math.max(8*e.maxBufferSize/u,e.maxBufferLength):e.maxBufferLength,l=Math.min(l,e.maxMaxBufferLength);var c=r.a.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,e.maxBufferHole),d=c.len;if(!(d>=l)){h.b.trace("buffer length of "+d.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=o;var f=s.details;if(void 0===f||!0===f.live&&this.levelLastLoaded!==o)return void(this.state=E);var p=this.fragPrevious;if(!f.live&&p&&!p.backtracked&&p.sn===f.endSN&&!c.nextStart&&Math.min(n.duration,p.start+p.duration)-Math.max(c.end,p.start)<=Math.max(.2,p.duration)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(a.a.BUFFER_EOS,g),void(this.state=P)}this._fetchPayloadOrEos(i,c,f)}}}},e.prototype._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=this.level,o=n.fragments,a=o.length;if(0!==a){var s=o[0].start,u=o[a-1].start+o[a-1].duration,l=e.end,c=void 0;if(n.initSegment&&!n.initSegment.data)c=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void h.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(c=this._ensureFragmentAtLivePoint(n,l,s,u,i,o,a)))return}else l<s&&(c=o[0]);c||(c=this._findFragment(s,i,a,o,l,u,n)),c&&this._loadFragmentOrKey(c,r,n,t,l)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,o,a,s){var u=this.hls.config,l=this.media,c=void 0,d=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-u.maxFragLookUpTolerance,r-d)){var f=this.liveSyncPosition=this.computeLivePosition(n,t);h.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),e=f,l&&l.readyState&&l.duration>f&&(l.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>r&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.programDateTime)c=this._findFragmentByPDT(a,o.endPdt+1);else{var p=o.sn+1;if(p>=t.startSN&&p<=t.endSN){var g=a[p-t.startSN];o.cc===g.cc&&(c=g,h.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=i.a.search(a,(function(t){return o.cc-t.cc})))&&h.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=a[Math.min(s-1,Math.round(s/2))],h.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragmentByPDT=function(t,e){if(!t||void 0===e)return null;if(e<t[0].pdt)return null;if(e>=t[t.length-1].endPdt)return null;for(var n=0;n<t.length;++n){var i=t[n];if(e<i.endPdt)return i}return null},e.prototype._findFragmentBySN=function(t,e,n,r){var o=void 0,a=this.hls.config.maxFragLookUpTolerance,s=t?e[t.sn-e[0].sn+1]:void 0,u=function(t){var e=Math.min(a,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=n?1:t.start-e>n&&t.start?-1:0};return n<r&&(n>r-a&&(a=0),o=s&&!u(s)?s:i.a.search(e,u)),o},e.prototype._findFragment=function(t,e,n,i,r,o,a){var s,u=this.hls.config,l=void 0;if(s=r<o?a.programDateTime?this._findFragmentByPDT(i,1e3*r+(a.programDateTime?Date.parse(a.programDateTime):0)-1e3*t):this._findFragmentBySN(e,i,r,o):i[n-1]){var c=(l=s).sn-a.startSN,d=e&&l.level===e.level,f=i[c-1],p=i[c+1];if(e&&l.sn===e.sn)if(d&&!l.backtracked)if(l.sn<a.endSN){var g=e.deltaPTS;g&&g>u.maxBufferHole&&e.dropped&&c?(l=f,h.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=p,h.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(p&&p.backtracked?(h.b.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+p.sn),l=p):(h.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,f?(l=f).backtracked=!0:c&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,n,i,r){if(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key)h.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=b,this.hls.trigger(a.a.KEY_LOADING,{frag:t});else{h.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+r.toFixed(3));var u=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),t.backtracked||u===s.a.NOT_LOADED?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(a.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new o.a(this.hls,"main")),this.state=_):u===s.a.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)}},e.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,l.a.LevelType.MAIN)},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t=void 0,e=void 0,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),r.a.isBuffered(n,e)?t=this.getBufferedFrag(e):r.a.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(a.a.FRAG_CHANGED,{frag:i});var o=i.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(a.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(h.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,r.a.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=void 0,i=void 0;if((e=this.getBufferedFrag(t.currentTime))&&e.startPTS>1&&this.flushMainBuffer(0,e.startPTS-1),t.paused)n=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((i=this.getBufferedFrag(t.currentTime+n))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=A;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(a.a.BUFFER_FLUSHING,n)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(h.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;isNaN(e)||h.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,o=r.a.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===_){var a=this.fragCurrent;if(0===o.len&&a){var s=n.maxFragLookUpTolerance,u=a.start-s,l=a.start+a.duration+s;e<u||e>l?(a.loader&&(h.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=y):h.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===P&&(0===o.len&&(this.fragPrevious=0),this.state=y);t&&(this.lastCurrentTime=e),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||h.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){h.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){h.b.log("trigger BUFFER_RESET"),this.hls.trigger(a.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e=!1,n=!1,i=void 0;t.levels.forEach((function(t){(i=t.audioCodec)&&(-1!==i.indexOf("mp4a.40.2")&&(e=!0),-1!==i.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=e&&n,this.audioCodecSwitch&&h.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],o=e.totalduration,s=0;if(h.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var u=r.details;u&&e.fragments.length>0?(c.a(u,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),e.PTSKnown&&!isNaN(s)?h.b.log("live playlist sliding:"+s.toFixed(3)):(h.b.log("live playlist - outdated PTS, unknown sliding"),Object(p.a)(this.fragPrevious,i,e))):(h.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Object(p.a)(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(a.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(s,e),h.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(h.b.log("negative start time offset "+l+", count from end of last fragment"),l=s+o+l),h.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===E&&(this.state=y),this.tick()},e.prototype.onKeyLoaded=function(){this.state===b&&(this.state=y,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===_&&e&&"main"===n.type&&n.level===e.level&&n.sn===e.sn){var i=t.stats,r=this.levels[e.level],s=r.details;if(h.b.log("Loaded  "+e.sn+" of ["+s.startSN+" ,"+s.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=i,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=y,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=y,i.tparsed=i.tbuffered=performance.now(),s.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else{this.state=T;var u=s.totalduration,l=e.level,c=e.sn,d=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(h.b.log("swapping playlist audio codec"),void 0===d&&(d=this.lastAudioCodec),d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,h.b.log("Parsing "+c+" of ["+s.startSN+" ,"+s.endSN+"],level "+l+", cc "+e.cc);var f=this.demuxer;f||(f=this.demuxer=new o.a(this.hls,"main"));var p=this.media,g=!(p&&p.seeking)&&(s.PTSKnown||!s.live),v=s.initSegment?s.initSegment.data:[];f.push(t.payload,v,d,r.videoCodec,e,u,g,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===T){var i=t.tracks,r=void 0,o=void 0;if(i.audio&&this.altAudio&&delete i.audio,o=i.audio){var s=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(h.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(s="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(s="mp4a.40.2",h.b.log("Android: force audio codec to "+s)),o.levelCodec=s,o.id=t.id}for(r in(o=i.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(a.a.BUFFER_CODECS,i),i){o=i[r],h.b.log("main track:"+r+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,{type:r,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===T){var r=this.levels[this.level],o=n;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&o.addElementaryStream(u.a.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(u.a.ElementaryStreamTypes.VIDEO),h.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)h.b.warn("Already backtracked on this fragment, appending with the gap");else{var s=r.details;if(!s||o.sn!==s.startSN)return h.b.warn("missing video frame(s), backtracking fragment"),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=y,this.fragPrevious=o,void this.tick();h.b.warn("missing video frame(s) on first frag, appending with gap")}else o.backtracked=!1;var l=c.b(r.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(a.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:l,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(n){n&&n.length&&e.state===T&&(e.appended=!0,e.pendingBuffering=!0,d.trigger(a.a.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))})),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===T&&(this.stats.tparsed=performance.now(),this.state=S,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,n=t.id;if(!e){if(this.mediaBuffer!==this.media){h.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(h.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y}var r=this.hls;r.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(h.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,n=void 0,i=void 0,r=!1;for(var o in e){var a=e[o];"main"===a.id?(i=o,n=a,"video"===o&&(this.videoBuffer=e[o].buffer)):r=!0}r&&n?(h.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==T&&e!==S||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==S||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;h.b.log("main buffered : "+d.a.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=y}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&r.a.isBuffered(this.media,this.media.currentTime)&&r.a.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case f.a.FRAG_LOAD_ERROR:case f.a.FRAG_LOAD_TIMEOUT:case f.a.KEY_LOAD_ERROR:case f.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);h.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=w}else h.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=x;break;case f.a.LEVEL_LOAD_ERROR:case f.a.LEVEL_LOAD_TIMEOUT:this.state!==x&&(t.fatal?(this.state=x,h.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==E||(this.state=y));break;case f.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==T&&this.state!==S||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y):(h.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,h.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var n=t.currentTime,i=(this.mediaBuffer?this.mediaBuffer:t).buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var o=t.seeking?n:this.startPosition;n!==o&&(h.b.log("target start position not buffered, seek to buffered.start(0) "+o+" from current time"+n+" "),t.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var s=r.a.bufferInfo(t,n,e.maxBufferHole),u=!(t.paused&&t.readyState>1||t.ended||0===t.buffered.length);if(n!==this.lastCurrentTime)this.stallReported&&(h.b.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(u){var l=performance.now(),c=this.hls;if(this.stalled){var d=l-this.stalled,p=s.len,g=this.nudgeRetry||0,v=this.fragmentTracker.getPartialFragment(n);if(null!==v)for(var m=0,y=0;y<t.buffered.length;y++){var b=t.buffered.start(y);if(n>=m&&n<b)return t.currentTime=Math.max(b,t.currentTime+.1),h.b.warn("skipping hole, adjusting currentTime from "+n+" to "+t.currentTime),this.stalled=void 0,void c.trigger(a.a.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+t.currentTime,frag:v});m=t.buffered.end(y)}if(p>.5&&d>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,h.b.warn("playback stalling in high buffer @"+n),c.trigger(a.a.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p})),this.stalled=void 0,this.nudgeRetry=++g,g<e.nudgeMaxRetry){var _=t.currentTime,w=_+g*e.nudgeOffset;h.b.log("adjust currentTime from "+_+" to "+w),t.currentTime=w,c.trigger(a.a.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else h.b.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),c.trigger(a.a.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=l,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=y,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this.fragmentTracker.detectEvictedFragments(u.a.ElementaryStreamTypes.VIDEO,t.buffered),this.state=y,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},v(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,h.b.log("main stream:"+e+"->"+t),this.hls.trigger(a.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(g.a);e.a=O},function(t,e,n){var i=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.aesIV=n}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.a=i},function(t,e,n){var i=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.key=n}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.a=i},function(t,e,n){var i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[h]=v,e[v]=h;var m=f[h],y=f[m],b=f[y],_=257*f[v]^16843008*v;i[h]=_<<24|_>>>8,r[h]=_<<16|_>>>16,o[h]=_<<8|_>>>24,a[h]=_,_=16843009*b^65537*y^257*m^16843008*h,u[v]=_<<24|_>>>8,l[v]=_<<16|_>>>16,c[v]=_<<8|_>>>24,d[v]=_,h?(h=m^f[f[f[b^m]]],p^=f[f[p]]):h=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(o),l=this.invKeySchedule=new Uint32Array(o),c=this.sBox,d=this.rcon,f=this.invSubMix,h=f[0],p=f[1],g=f[2],v=f[3],m=void 0,y=void 0;for(a=0;a<o;a++)a<r?m=u[a]=e[a]:(y=m,a%r==0?(y=c[(y=y<<8|y>>>24)>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[a/r|0]<<24):r>6&&a%r==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),u[a]=m=(u[a-r]^y)>>>0);for(s=0;s<o;s++)a=o-s,y=3&s?u[a]:u[a-4],l[s]=s<4||a<=4?y:h[c[y>>>24]]^p[c[y>>>16&255]]^g[c[y>>>8&255]]^v[c[255&y]],l[s]=l[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n,i){for(var r=this.keySize+6,o=this.invKeySchedule,a=this.invSBox,s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],f=this.uint8ArrayToUint32Array_(n),h=f[0],p=f[1],g=f[2],v=f[3],m=new Int32Array(t),y=new Int32Array(m.length),b=void 0,_=void 0,w=void 0,E=void 0,T=void 0,S=void 0,A=void 0,P=void 0,x=void 0,O=void 0,I=void 0,C=void 0,R=void 0,M=void 0,k=this.networkToHostOrderSwap;e<m.length;){for(x=k(m[e]),O=k(m[e+1]),I=k(m[e+2]),C=k(m[e+3]),T=x^o[0],S=C^o[1],A=I^o[2],P=O^o[3],R=4,M=1;M<r;M++)b=u[T>>>24]^l[S>>16&255]^c[A>>8&255]^d[255&P]^o[R],_=u[S>>>24]^l[A>>16&255]^c[P>>8&255]^d[255&T]^o[R+1],w=u[A>>>24]^l[P>>16&255]^c[T>>8&255]^d[255&S]^o[R+2],E=u[P>>>24]^l[T>>16&255]^c[S>>8&255]^d[255&A]^o[R+3],T=b,S=_,A=w,P=E,R+=4;b=a[T>>>24]<<24^a[S>>16&255]<<16^a[A>>8&255]<<8^a[255&P]^o[R],_=a[S>>>24]<<24^a[A>>16&255]<<16^a[P>>8&255]<<8^a[255&T]^o[R+1],w=a[A>>>24]<<24^a[P>>16&255]<<16^a[T>>8&255]<<8^a[255&S]^o[R+2],E=a[P>>>24]<<24^a[T>>16&255]<<16^a[S>>8&255]<<8^a[255&A]^o[R+3],R+=3,y[e]=k(b^h),y[e+1]=k(E^p),y[e+2]=k(w^g),y[e+3]=k(_^v),h=x,p=O,g=I,v=C,e+=4}return i?function(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}(y.buffer):y.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.a=i},function(t,e,n){var i=n(20),r=n(0),o=n(5),a=function(){function t(e,n,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(o.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(i.e(t,e))return r.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,a){for(var s=this._audioTrack,u=o.a.getID3Data(t,0)||[],l=o.a.getTimeStamp(u),c=l?90*l:9e4*e,d=0,f=c,h=t.length,p=u.length,g=[{pts:f,dts:f,data:u}];p<h-1;)if(i.d(t,p)&&p+5<h){i.c(s,this.observer,t,p,s.manifestCodec);var v=i.a(s,t,p,c,d);if(!v){r.b.log("Unable to parse AAC frame");break}p+=v.length,f=v.sample.pts,d++}else o.a.isHeader(t,p)?(u=o.a.getID3Data(t,p),g.push({pts:f,dts:f,data:u}),p+=u.length):p++;this.remuxer.remux(s,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,n,a)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,n){var i=n(20),r=n(21),o=n(1),a=n(38),s=n(39),u=n(0),l=n(2),c={video:0,audio:1,id3:2,text:3},d=function(){function t(e,n,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=i,this.typeSupported=r,this.remuxer=n,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.a(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0||(n&&u.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,n,i,r){var a=void 0,s=e.length,c=void 0,d=void 0,f=void 0,h=void 0,p=!1;this.contiguous=i;var g=this.pmtParsed,v=this._avcTrack,m=this._audioTrack,y=this._id3Track,b=v.pid,_=m.pid,w=y.pid,E=this._pmtId,T=v.pesData,S=m.pesData,A=y.pesData,P=this._parsePAT,x=this._parsePMT,O=this._parsePES,I=this._parseAVCPES.bind(this),C=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),M=this._parseID3PES.bind(this),k=t._syncOffset(e);for(s-=(s+k)%188,a=k;a<s;a+=188)if(71===e[a]){if(c=!!(64&e[a+1]),d=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((f=a+5+e[a+4])===a+188)continue}else f=a+4;switch(d){case b:c&&(T&&(h=O(T))&&void 0!==h.pts&&I(h,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(f,a+188)),T.size+=a+188-f);break;case _:c&&(S&&(h=O(S))&&void 0!==h.pts&&(m.isAAC?C(h):R(h)),S={data:[],size:0}),S&&(S.data.push(e.subarray(f,a+188)),S.size+=a+188-f);break;case w:c&&(A&&(h=O(A))&&void 0!==h.pts&&M(h),A={data:[],size:0}),A&&(A.data.push(e.subarray(f,a+188)),A.size+=a+188-f);break;case 0:c&&(f+=e[f]+1),E=this._pmtId=P(e,f);break;case E:c&&(f+=e[f]+1);var L=x(e,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=L.avc)>0&&(v.pid=b),(_=L.audio)>0&&(m.pid=_,m.isAAC=L.isAAC),(w=L.id3)>0&&(y.pid=w),p&&!g&&(u.b.log("reparse from beginning"),p=!1,a=k-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(o.a.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(h=O(T))&&void 0!==h.pts?(I(h,!0),v.pesData=null):v.pesData=T,S&&(h=O(S))&&void 0!==h.pts?(m.isAAC?C(h):R(h),m.pesData=null):(S&&S.size&&u.b.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=S),A&&(h=O(A))&&void 0!==h.pts?(M(h),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(m,v,y,this._txtTrack,n,i,r):this.decryptAndRemux(m,v,y,this._txtTrack,n,i,r)},t.prototype.decryptAndRemux=function(t,e,n,i,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,i,r,o,a)}))}else this.decryptAndRemuxAvc(t,e,n,i,r,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,n,i,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,i,r,o,a)}))}else this.remuxer.remux(t,e,n,i,r,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,i){var r,o=void 0,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){u.b.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!i){u.b.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:n?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.b.log("MPEG audio found, not supported in this browser for now");break;case 36:u.b.warn("HEVC stream type found, not supported for now");break;default:u.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e=0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((n=d[0])[0]<<16)+(n[1]<<8)+n[2]){if((r=(n[4]<<8)+n[5])&&r>t.size-6)return null;192&(i=n[7])&&((s=536870912*(14&n[9])+4194304*(255&n[10])+16384*(254&n[11])+128*(255&n[12])+(254&n[13])/2)>4294967295&&(s-=8589934592),64&i?((l=536870912*(14&n[14])+4194304*(255&n[15])+16384*(254&n[16])+128*(255&n[17])+(254&n[18])/2)>4294967295&&(l-=8589934592),s-l>54e5&&(u.b.warn(Math.round((s-l)/9e4)+"s delta between PTS and DTS, align them"),s=l)):l=s),c=(o=n[8])+9,t.size-=c,a=new Uint8Array(t.size);for(var h=0,p=d.length;h<p;h++){var g=(n=d[h]).byteLength;if(c){if(c>g){c-=g;continue}n=n.subarray(c),g-=c,c=0}a.set(n,e),e+=g}return r&&(r-=o+3),{data:a,pts:s,dts:l,len:r}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&u.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n=this,i=this._avcTrack,r=this._parseAVCNALu(t.data),o=void 0,s=this.avcSample,u=void 0,l=!1,c=void 0,d=this.pushAccesUnit.bind(this),f=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,s&&r.length&&!i.audFound&&(d(s,i),s=this.avcSample=f(!1,t.pts,t.dts,"")),r.forEach((function(e){switch(e.type){case 1:u=!0,s||(s=n.avcSample=f(!0,t.pts,t.dts,"")),s.frame=!0;var r=e.data;if(l&&r.length>4){var h=new a.a(r).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(s.key=!0)}break;case 5:u=!0,s||(s=n.avcSample=f(!0,t.pts,t.dts,"")),s.key=!0,s.frame=!0;break;case 6:u=!0,(o=new a.a(n.discardEPB(e.data))).readUByte();for(var p=0,g=0,v=!1,m=0;!v&&o.bytesAvailable>1;){p=0;do{p+=m=o.readUByte()}while(255===m);g=0;do{g+=m=o.readUByte()}while(255===m);if(4===p&&0!==o.bytesAvailable){if(v=!0,181===o.readUByte()&&49===o.readUShort()&&1195456820===o.readUInt()&&3===o.readUByte()){var y=o.readUByte(),b=31&y,_=[y,o.readUByte()];for(c=0;c<b;c++)_.push(o.readUByte()),_.push(o.readUByte()),_.push(o.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:t.pts,bytes:_})}}else if(g<o.bytesAvailable)for(c=0;c<g;c++)o.readUByte()}break;case 7:if(u=!0,l=!0,!i.sps){var w=(o=new a.a(e.data)).readSPS();i.width=w.width,i.height=w.height,i.pixelRatio=w.pixelRatio,i.sps=[e.data],i.duration=n._duration;var E=e.data.subarray(1,4),T="avc1.";for(c=0;c<3;c++){var S=E[c].toString(16);S.length<2&&(S="0"+S),T+=S}i.codec=T}break;case 8:u=!0,i.pps||(i.pps=[e.data]);break;case 9:u=!1,i.audFound=!0,s&&d(s,i),s=n.avcSample=f(!1,t.pts,t.dts,"");break;case 12:u=!1;break;default:u=!1,s&&(s.debug+="unknown NAL "+e.type+" ")}s&&u&&s.units.push(e)})),e&&s&&(d(s,i),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e=0,n=t.byteLength,i=void 0,r=void 0,o=this._avcTrack,a=o.naluState||0,s=a,u=[],l=void 0,c=-1,d=void 0;for(-1===a&&(c=0,d=31&t[0],a=0,e=1);e<n;)if(i=t[e++],a)if(1!==a)if(i)if(1===i){if(c>=0)l={data:t.subarray(c,e-a-1),type:d},u.push(l);else{var f=this._getLastNalUnit();if(f&&(s&&e<=4-s&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-s)),(r=e-a-1)>0)){var h=new Uint8Array(f.data.byteLength+r);h.set(f.data,0),h.set(t.subarray(0,r),f.data.byteLength),f.data=h}}e<n?(c=e,d=31&t[e],a=0):a=-1}else a=0;else a=3;else a=i?0:2;else a=i?0:1;if(c>=0&&a>=0&&(l={data:t.subarray(c,n),type:d,state:a},u.push(l)),0===u.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return o.naluState=a,u},t.prototype.discardEPB=function(t){for(var e,n=t.byteLength,i=[],r=1,o=void 0;r<n-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return t;e=n-i.length,o=new Uint8Array(e);var a=0;for(r=0;r<e;a++,r++)a===i[0]&&(a++,i.shift()),o[r]=t[a];return o},t.prototype._parseAACPES=function(t){var e,n,r=this._audioTrack,a=t.data,s=t.pts,c=this.aacOverFlow,d=this.aacLastPTS,f=void 0,h=void 0,p=void 0;if(c){var g=new Uint8Array(c.byteLength+a.byteLength);g.set(c,0),g.set(a,c.byteLength),a=g}for(h=0,n=a.length;h<n-1&&!i.d(a,h);h++);if(h){var v=void 0,m=void 0;if(h<n-1?(v="AAC PES did not start with ADTS header,offset:"+h,m=!1):(v="no ADTS header found in AAC PES",m=!0),u.b.warn("parsing error:"+v),this.observer.trigger(o.a.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:m,reason:v}),m)return}if(i.c(r,this.observer,a,h,this.audioCodec),f=0,e=i.b(r.samplerate),c&&d){var y=d+e;Math.abs(y-s)>1&&(u.b.log("AAC: align PTS for overlapping frames by "+Math.round((y-s)/90)),s=y)}for(;h<n;)if(i.d(a,h)&&h+5<n){var b=i.a(r,a,h,s,f);if(!b)break;h+=b.length,p=b.sample.pts,f++}else h++;c=h<n?a.subarray(h,n):null,this.aacOverFlow=c,this.aacLastPTS=p},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,o=0,a=t.pts;o<n;)if(r.a.isHeader(e,o)){var s=r.a.appendFrame(this._audioTrack,e,o,a,i);if(!s)break;o+=s.length,i++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.a=d},function(t,e,n){var i=n(0),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e=void 0;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&i.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t=void 0;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e=8,n=8,i=void 0;for(i=0;i<t;i++)0!==n&&(n=(e+this.readEG()+256)%256),e=0===n?e:n},t.prototype.readSPS=function(){var t,e,n,i,r=0,o=0,a=0,s=0,u=void 0,l=void 0,c=void 0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),f(5),g(3),d(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=h();if(3===b&&g(1),m(),m(),g(1),p())for(l=3!==b?8:12,c=0;c<l;c++)p()&&y(c<6?16:64)}m();var _=h();if(0===_)h();else if(1===_)for(g(1),v(),v(),u=h(),c=0;c<u;c++)v();m(),g(1),e=h(),n=h(),0===(i=f(1))&&g(1),g(1),p()&&(r=h(),o=h(),a=h(),s=h());var w=[1,1];if(p()&&p())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(e+1)-2*r-2*o),height:(2-i)*(n+1)*16-(i?2:4)*(a+s),pixelRatio:w}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.a=r},function(t,e,n){var i=n(9),r=function(){function t(e,n,r,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.decryptdata=r,this.discardEPB=o,this.decrypter=new i.a(e,n,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,i){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),r.set(o,16),i||s.decryptAacSamples(t,e+1,n)}))},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},t.prototype.decryptAvcSample=function(t,e,n,i,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){r.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,i)}))},t.prototype.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var o=r[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,o,a),!a)return}}}},t}();e.a=r},function(t,e,n){var i=n(5),r=n(0),o=n(21),a=function(){function t(e,n,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e=void 0,n=void 0,a=i.a.getID3Data(t,0);if(a&&void 0!==i.a.getTimeStamp(a))for(e=a.length,n=Math.min(t.length-1,e+100);e<n;e++)if(o.a.probe(t,e))return r.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,r){for(var a=i.a.getID3Data(t,0),s=i.a.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,d=0,f=0,h=this._audioTrack,p=[{pts:u,dts:u,data:a}];l<c;)if(o.a.isHeader(t,l)){var g=o.a.appendFrame(h,t,l,u,d);if(!g)break;l+=g.length,f=g.sample.pts,d++}else i.a.isHeader(t,l)?(a=i.a.getID3Data(t,l),p.push({pts:f,dts:f,data:a}),l+=a.length):l++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,n,r)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,n){var i=n(42),r=n(1),o=n(0),a=n(43),s=n(2),u=function(){function t(e,n,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=n,this.typeSupported=i;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,i,a,s,u){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var l=t.samples.length,c=e.samples.length,d=a,f=a;if(l&&c){var h=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(l){t.timescale||(o.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var p=this.remuxAudio(t,d,s,u);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(o.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,f,s,g,u)}}else if(c){var v=this.remuxVideo(e,f,s,0,u);v&&t.codec&&this.remuxEmptyAudio(t,d,s,v)}}n.samples.length&&this.remuxID3(n,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(r.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var i=this.observer,u=t.samples,l=e.samples,c=this.typeSupported,d="audio/mp4",f={},h={tracks:f},p=void 0===this._initPTS,g=void 0,v=void 0;if(p&&(g=v=1/0),t.config&&u.length&&(t.timescale=t.samplerate,o.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(c.mpeg?(d="audio/mpeg",t.codec=""):c.mp3&&(t.codec="mp3")),f.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&c.mpeg?new Uint8Array:a.a.initSegment([t]),metadata:{channelCount:t.channelCount}},p&&(g=v=u[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&l.length){var m=e.inputTimeScale;e.timescale=m,f.video={container:"video/mp4",codec:e.codec,initSegment:a.a.initSegment([e]),metadata:{width:e.width,height:e.height}},p&&(g=Math.min(g,l[0].pts-m*n),v=Math.min(v,l[0].dts-m*n),this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:g}))}Object.keys(f).length?(i.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,p&&(this._initPTS=g,this._initDTS=v)):i.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,i,u){var l=8,c=t.timescale,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=t.samples,b=[],_=y.length,w=this._PTSNormalize,E=this._initDTS,T=this.nextAvcDts,S=this.isSafari;if(0!==_){S&&(n|=y.length&&T&&(u&&Math.abs(e-T/c)<.1||Math.abs(y[0].pts-T-E)<c/5)),n||(T=e*c),y.forEach((function(t){t.pts=w(t.pts-E,T),t.dts=w(t.dts-E,T)})),y.sort((function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}));var A=y.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(A<0){o.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var P=0;P<y.length;P++)y[P].dts+=A}var x=y[0];g=Math.max(x.dts,0),p=Math.max(x.pts,0);var O=Math.round((g-T)/90);n&&O&&(O>1?o.b.log("AVC:"+O+" ms hole between fragments detected,filling it"):O<-1&&o.b.log("AVC:"+-O+" ms overlapping between fragments detected"),g=T,y[0].dts=g,p=Math.max(p-O,T),y[0].pts=p,o.b.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(g/90)+",delta:"+O+" ms")),x=y[y.length-1],m=Math.max(x.dts,0),v=Math.max(x.pts,0,m),S&&(d=Math.round((m-g)/(y.length-1)));for(var I=0,C=0,R=0;R<_;R++){for(var M=y[R],k=M.units,L=k.length,D=0,N=0;N<L;N++)D+=k[N].data.length;C+=D,I+=L,M.length=D,M.dts=S?g+R*d:Math.max(M.dts,g),M.pts=Math.max(M.pts,M.dts)}var F=C+4*I+8;try{f=new Uint8Array(F)}catch(t){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var V=new DataView(f.buffer);V.setUint32(0,F),f.set(a.a.types.mdat,4);for(var U=0;U<_;U++){for(var B=y[U],j=B.units,G=0,H=void 0,W=0,$=j.length;W<$;W++){var Y=j[W],z=Y.data,K=Y.data.byteLength;V.setUint32(l,K),l+=4,f.set(z,l),l+=K,G+=4+K}if(S)H=Math.max(0,d*Math.round((B.pts-B.dts)/d));else{if(U<_-1)d=y[U+1].dts-B.dts;else{var q=this.config,X=B.dts-y[U>0?U-1:U].dts;if(q.stretchShortVideoTrack){var Z=q.maxBufferHole,J=Math.floor(Z*c),Q=(i?p+i*c:this.nextAudioPts)-B.pts;Q>J?((d=Q-X)<0&&(d=X),o.b.log("It is approximately "+Q/90+" ms to the next segment; using duration "+d/90+" ms for the last video frame.")):d=X}else d=X}H=Math.round(B.pts-B.dts)}b.push({size:G,duration:d,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=m+d;var tt=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var et=b[0].flags;et.dependsOn=2,et.isNonSync=0}t.samples=b,h=a.a.moof(t.sequenceNumber++,g,t),t.samples=[];var nt={data1:h,data2:f,startPTS:p/c,endPTS:(v+d)/c,startDTS:g/c,endDTS:this.nextAvcDts/c,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:tt};return this.observer.trigger(r.a.FRAG_PARSING_DATA,nt),nt}},t.prototype.remuxAudio=function(t,e,n,u){var l=t.inputTimeScale,c=t.timescale,d=l/c,f=(t.isAAC?1024:1152)*d,h=this._PTSNormalize,p=this._initDTS,g=!t.isAAC&&this.typeSupported.mpeg,v=void 0,m=void 0,y=void 0,b=void 0,_=void 0,w=void 0,E=void 0,T=t.samples,S=[],A=this.nextAudioPts;if(n|=T.length&&A&&(u&&Math.abs(e-A/l)<.1||Math.abs(T[0].pts-A-p)<20*f),T.forEach((function(t){t.pts=t.dts=h(t.pts-p,e*l)})),0!==(T=T.filter((function(t){return t.pts>=0}))).length){if(n||(A=u?e*l:T[0].pts),t.isAAC)for(var P=this.config.maxAudioFramesDrift,x=0,O=A;x<T.length;){var I,C=T[x];I=C.pts-O;var R=Math.abs(1e3*I/l);if(I<=-P*f)o.b.warn("Dropping 1 audio frame @ "+(O/l).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),T.splice(x,1),t.len-=C.unit.length;else if(I>=P*f&&R<1e4&&O){var M=Math.round(I/f);o.b.warn("Injecting "+M+" audio frame @ "+(O/l).toFixed(3)+"s due to "+Math.round(1e3*I/l)+" ms gap.");for(var k=0;k<M;k++){var L=Math.max(O,0);(y=i.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),y=C.unit.subarray()),T.splice(x,0,{unit:y,pts:L,dts:L}),t.len+=y.length,O+=f,x++}C.pts=C.dts=O,O+=f,x++}else Math.abs(I),C.pts=C.dts=O,O+=f,x++}for(var D=0,N=T.length;D<N;D++){var F=T[D],V=F.unit,U=F.pts;if(void 0!==E)m.duration=Math.round((U-E)/d);else{var B=Math.round(1e3*(U-A)/l),j=0;if(n&&t.isAAC&&B){if(B>0&&B<1e4)j=Math.round((U-A)/f),o.b.log(B+" ms hole between AAC samples detected,filling it"),j>0&&((y=i.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(y=V.subarray()),t.len+=j*y.length);else if(B<-12){o.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(A/l).toFixed(3)+"s/"+(U/l).toFixed(3)+"s/"+-B+"ms"),t.len-=V.byteLength;continue}U=A}if(w=U,!(t.len>0))return;var G=g?t.len:t.len+8;v=g?0:8;try{b=new Uint8Array(G)}catch(t){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}g||(new DataView(b.buffer).setUint32(0,G),b.set(a.a.types.mdat,4));for(var H=0;H<j;H++)(y=i.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),y=V.subarray()),b.set(y,v),v+=y.byteLength,m={size:y.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(m)}b.set(V,v);var W=V.byteLength;v+=W,m={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(m),E=U}var $=0,Y=S.length;if(Y>=2&&($=S[Y-2].duration,m.duration=$),Y){this.nextAudioPts=A=E+d*$,t.len=0,t.samples=S,_=g?new Uint8Array:a.a.moof(t.sequenceNumber++,w/d,t),t.samples=[];var z=w/l,K=A/l,q={data1:_,data2:b,startPTS:z,endPTS:K,startDTS:z,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.observer.trigger(r.a.FRAG_PARSING_DATA,q),q}return null}},t.prototype.remuxEmptyAudio=function(t,e,n,r){var a=t.inputTimeScale,s=a/(t.samplerate?t.samplerate:a),u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*a)+this._initDTS,c=r.endDTS*a+this._initDTS,d=1024*s,f=Math.ceil((c-l)/d),h=i.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(o.b.warn("remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var v=l+g*d;p.push({unit:h,pts:v,dts:v}),t.len+=h.length}t.samples=p,this.remuxAudio(t,e,n)}else o.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var n=t.samples.length,i=void 0,o=t.inputTimeScale,a=this._initPTS,s=this._initDTS;if(n){for(var u=0;u<n;u++)(i=t.samples[u]).pts=(i.pts-a)/o,i.dts=(i.dts-s)/o;this.observer.trigger(r.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort((function(t,e){return t.pts-e.pts}));var n=t.samples.length,i=void 0,o=t.inputTimeScale,a=this._initPTS;if(n){for(var s=0;s<n;s++)(i=t.samples[s]).pts=(i.pts-a)/o;this.observer.trigger(r.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}();e.a=u},function(t,e,n){var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.a=i},function(t,e,n){var i=Math.pow(2,32)-1,r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e=void 0;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=8,i=e.length,r=i,o=void 0;i--;)n+=e[i].byteLength;for((o=new Uint8Array(n))[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=255&n,o.set(t,4),i=0,n=8;i<r;i++)o.set(e[i],n),n+=e[i].byteLength;return o},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var r=Math.floor(n/(i+1)),o=Math.floor(n%(i+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var r=Math.floor(n/(i+1)),o=Math.floor(n%(i+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n=e.samples||[],i=new Uint8Array(4+n.length),r=void 0,o=void 0;for(o=0;o<n.length;o++)r=n[o].flags,i[o+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,i)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n=[],i=[],r=void 0,o=void 0,a=void 0;for(r=0;r<e.sps.length;r++)a=(o=e.sps[r]).byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(o));for(r=0;r<e.pps.length;r++)a=(o=e.pps[r]).byteLength,i.push(a>>>8&255),i.push(255&a),i=i.concat(Array.prototype.slice.call(o));var s=t.box(t.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(i))),u=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,r=e.duration*e.timescale,o=e.width,a=e.height,s=Math.floor(r/(i+1)),u=Math.floor(r%(i+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var r=t.sdtp(e),o=e.id,a=Math.floor(n/(i+1)),s=Math.floor(n%(i+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,r.length+16+20+8+16+8+8),r)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i=e.samples||[],r=i.length,o=12+16*r,a=new Uint8Array(o),s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0;for(n+=8+o,a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),s=0;s<r;s++)l=(u=i[s]).duration,c=u.size,d=u.flags,f=u.cts,a.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,61440&d.degradPrio,15&d.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*s);return t.box(t.types.trun,a)},t.initSegment=function(e){t.types||t.init();var n=t.moov(e),i=void 0;return(i=new Uint8Array(t.FTYP.byteLength+n.byteLength)).set(t.FTYP),i.set(n,t.FTYP.byteLength),i},t}();e.a=r},function(t,e,n){var i=n(1),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,r,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(i.a.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(i.a.FRAG_PARSED)},t}();e.a=r},function(t,e,n){function i(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var i=e(e.s=ENTRY_MODULE);return i.default||i}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,i){var o={};o[i]=[];var a=e.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var c,d=s[1],f=new RegExp("(\\\\n|\\W)"+r(d)+l,"g");c=f.exec(a);)"dll-reference"!==c[3]&&o[i].push(c[3]);for(f=new RegExp("\\("+r(d)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+l,"g");c=f.exec(a);)t[c[2]]||(o[i].push(c[1]),t[c[2]]=n(c[1]).m),o[c[2]]=o[c[2]]||[],o[c[2]].push(c[4]);return o}function a(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}function s(t,e){for(var n={main:[e]},i={main:[]},r={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u],c=n[l].pop();if(r[l]=r[l]||{},!r[l][c]&&t[l][c]){r[l][c]=!0,i[l]=i[l]||[],i[l].push(c);for(var d=o(t,t[l][c],l),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return i}var u="[\\.|\\-|\\+|\\w|/|@]+",l="\\((/\\*.*?\\*/)?s?.*?("+u+").*?\\)";t.exports=function(t,e){e=e||{};var r={main:n.m},o=e.all?{main:Object.keys(r)}:s(r,t),a="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+r[t][e].toString()})).join(",")+"});\n"})),a=a+"("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+r.main[t].toString()})).join(",")+"})(self);";var u=new window.Blob([a],{type:"text/javascript"});if(e.bare)return u;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(l);return c.objectURL=l,c}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=n(1),o=n(0),a=n(10),s=n.n(a);e.default=function(t){var e=new s.a;e.trigger=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new i.a(e,a.typeSupported,s,a.vendor);try{Object(o.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(r.a.FRAG_DECRYPTED,n),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,n),e.on(r.a.FRAG_PARSED,n),e.on(r.a.ERROR,n),e.on(r.a.FRAG_PARSING_METADATA,n),e.on(r.a.FRAG_PARSING_USERDATA,n),e.on(r.a.INIT_PTS_FOUND,n),e.on(r.a.FRAG_PARSING_DATA,(function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)}))}},function(t,e,n){var i=n(1),r=n(3),o=n(0),a=n(2),s=n(17),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MANIFEST_LOADED,i.a.LEVEL_LOADED,i.a.FRAG_LOADED,i.a.ERROR));return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],n=void 0,r={},u=null,l=!1,c=!1,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=[];if(t.levels.forEach((function(t){t.loadError=0,t.fragmentError=!1,l=l||!!t.videoCodec,c=c||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===d&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(u=r[t.bitrate])?(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,e.push(t)):u.url.push(t.url)})),!0===l&&!0===c&&(e=e.filter((function(t){return!!t.videoCodec}))),e=e.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||Object(s.a)(e))&&(!n||Object(s.a)(n))})),t.audioTracks&&(f=t.audioTracks.filter((function(t){return!t.audioCodec||Object(s.a)(t.audioCodec,"audio")}))),e.length>0){n=e[0].bitrate,e.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=e;for(var h=0;h<e.length;h++)if(e[h].bitrate===n){this._firstLevel=h,o.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+n);break}this.hls.trigger(i.a.MANIFEST_PARSED,{levels:e,audioTracks:f,firstLevel:this._firstLevel,stats:t.stats,audio:c,video:l,altAudio:f.length>0})}else this.hls.trigger(i.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){o.b.log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,n.trigger(i.a.LEVEL_SWITCHING,r)}var s=e[t],u=s.details;if(!u||!0===u.live){var l=s.urlId;n.trigger(i.a.LEVEL_LOADING,{url:s.url[l],level:t,id:l})}}else n.trigger(i.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,n=!1,i=void 0;switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:i=t.frag.level,n=!0;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case a.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,n)}else t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.recoverLevel=function(t,e,n,i){var r=this,a=this.hls.config,s=t.details,u=this._levels[e],l=void 0,c=void 0,d=void 0;if(u.loadError++,u.fragmentError=i,!0===n){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return o.b.error("level controller, cannot recover from "+s+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return r.loadLevel()}),c),t.levelRetry=!0,this.levelRetryCount++,o.b.warn("level controller, "+s+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==i||((l=u.url.length)>1&&u.loadError<l?(o.b.warn("level controller, "+s+" for level "+e+": switching to redundant stream id "+u.urlId),u.urlId=(u.urlId+1)%l,u.details=void 0):-1===this.manualLevelIndex?(d=0===e?this._levels.length-1:e-1,o.b.warn("level controller, "+s+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):!0===i&&(o.b.warn("level controller, "+s+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,n=t.level;if(n===this.currentLevelIndex){var i=this._levels[n];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var a=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),s=a,u=i.details;u&&r.endSN===u.endSN&&(s/=2,o.b.log("same live playlist, reload twice faster")),s-=performance.now()-t.stats.trequest,s=Math.max(a/2,Math.round(s)),o.b.log("live playlist, reload in "+Math.round(s)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),s)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(i.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},u(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(r.a);e.a=l},function(t,e,n){var i=n(1),r=n(3),o=n(5),a=n(25),s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MEDIA_ATTACHED,i.a.MEDIA_DETACHING,i.a.FRAG_PARSING_METADATA));return r.id3Track=void 0,r.media=void 0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){r.a.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){Object(a.a)(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Object(a.b)(n,this.media),n}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=o.a.getID3Frames(n[r].data);if(a){var s=n[r].pts,u=r<n.length-1?n[r+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<a.length;l++){var c=a[l];if(!o.a.isTimeStampFrame(c)){var d=new i(s,u,"");d.value=c,this.id3Track.addCue(d)}}}}},e}(r.a);e.a=s},function(t,e,n){e.a=function(){var t=Object(i.a)(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!r};var i=n(11)},function(t,e,n){n.d(e,"a",(function(){return v}));var i=n(51),r=n(54),o=n(55),a=n(56),s=n(57),u=n(58),l=n(59),c=n(60),d=n(62),f=n(66),h=n(67),p=n(68),g=n(69),v={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.a,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:i.a,bufferController:r.a,capLevelController:o.a,fpsController:a.a,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.a};v.subtitleStreamController=h.a,v.subtitleTrackController=f.a,v.timelineController=d.a,v.cueHandler=c,v.enableCEA708Captions=!0,v.enableWebVTT=!0,v.captionsTextTrack1Label="English",v.captionsTextTrack1LanguageCode="en",v.captionsTextTrack2Label="Spanish",v.captionsTextTrack2LanguageCode="es",v.audioStreamController=l.a,v.audioTrackController=u.a,v.emeController=p.a},function(t,e,n){var i=n(1),r=n(3),o=n(8),a=n(2),s=n(0),u=n(52),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.FRAG_LOADING,i.a.FRAG_LOADED,i.a.FRAG_BUFFERED,i.a.ERROR));return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=n,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearTimer(),r.a.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,i=t.frag.level,r=n.levels[i].details.live,o=n.config,a=void 0,s=void 0;r?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new u.a(n,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,r=n.loader,a=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return s.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var u=r.stats;if(e&&u&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=performance.now()-u.trequest,c=Math.abs(e.playbackRate);if(l>500*n.duration/c){var d=t.levels,f=Math.max(1,u.bw?u.bw/8:1e3*u.loaded/l),h=d[n.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,g=u.total?u.total:Math.max(u.loaded,Math.round(n.duration*p/8)),v=e.currentTime,m=(g-u.loaded)/f,y=(o.a.bufferInfo(e,v,t.config.maxBufferHole).end-v)/c;if(y<2*n.duration/c&&m>y){var b=void 0,_=void 0;for(_=n.level-1;_>a;_--){var w=d[_].realBitrate?Math.max(d[_].realBitrate,d[_].bitrate):d[_].bitrate;if((b=n.duration*w/(6.4*f))<y)break}b<m&&(s.b.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+m.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=_,this._bwEstimator.sample(l,u.loaded),r.abort(),this.clearTimer(),t.trigger(i.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:u}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!(!0===e.aborted||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&e.tload!==e.tbuffered)){var i=e.tparsed-e.trequest;s.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,n,i,r,o,a,u,l){for(var c=r;c>=i;c--){var d,f=l[c].details,h=f?f.totalduration/f.fragments.length:e,p=!!f&&f.live;d=c<=t?a*n:u*n;var g=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=g*h/d;if(s.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(d)+"/"+g+"/"+h+"/"+o+"/"+v),d>g&&(!v||p&&!this.bitrateTestDelay||v<o))return c}return-1},l(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,a=t.media,u=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.a.bufferInfo(a,c,i.maxBufferHole).end-c)/d,p=this._findBestLevel(u,l,f,r,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(p>=0)return p;s.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(0===h){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,s.b.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=m=1)}return p=this._findBestLevel(u,l,f,r,e,h+g,v,m,n),Math.max(p,0)}}]),e}(r.a);e.a=c},function(t,e,n){var i=n(53),r=function(){function t(e,n,r,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.a(n),this.fast_=new i.a(r)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),i=t/1e3;this.fast_.sample(i,n),this.slow_.sample(i,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.a=r},function(t,e,n){var i=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.a=i},function(t,e,n){var i=n(1),r=n(3),o=n(0),a=n(2),s=n(11),u=Object(s.a)(),l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MEDIA_ATTACHING,i.a.MEDIA_DETACHING,i.a.MANIFEST_PARSED,i.a.BUFFER_RESET,i.a.BUFFER_APPENDING,i.a.BUFFER_CODECS,i.a.BUFFER_EOS,i.a.BUFFER_FLUSHING,i.a.LEVEL_PTS_UPDATED,i.a.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r._live=null,r._objectUrl=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){r.a.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var r=i.updating;try{i.abort()}catch(t){r=!0,o.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(o.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||n)&&(i=(e?1:0)+(n?1:0),o.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(n),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){o.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){o.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):o.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){o.b.log("media source opened"),this.hls.trigger(i.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){o.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){o.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;o.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),r={},a=this.sourceBuffer;for(var s in a)r[s]=a[s].buffered;this.hls.trigger(i.a.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){o.b.error("sourceBuffer error:",t),this.hls.trigger(i.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var s=t[r],u=s.levelCodec||s.codec,l=s.container+";codecs="+u;o.b.log("creating sourceBuffer("+l+")");try{var c=e[r]=n.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:s.container},s.buffer=c}catch(t){o.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(i.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:l})}}this.hls.trigger(i.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){o.b.error("sourceBuffer error:",t.event),this.hls.trigger(i.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var i in e)n&&i!==n||e[i].ended||(e[i].ended=!0,o.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}o.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){o.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.hls.config,e=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(o.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(o.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(t){o.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(i.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void o.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var s=e[r.type];s?s.updating?n.unshift(r):(s.ended=!1,this.parent=r.parent,s.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){o.b.error("error while trying to append buffer:"+e.message),n.unshift(r);var u={type:a.b.MEDIA_ERROR,parent:r.parent};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,u.details=a.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(o.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],u.fatal=!0,t.trigger(i.a.ERROR,u)):(u.fatal=!1,t.trigger(i.a.ERROR,u))):(this.segments=[],u.details=a.a.BUFFER_FULL_ERROR,u.fatal=!1,t.trigger(i.a.ERROR,u))}}}},e.prototype.flushBuffer=function(t,e,n){var i=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=this.sourceBuffer;if(Object.keys(c).length){if(o.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in c)if(!n||d===n){if((i=c[d]).ended=!1,i.updating)return o.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<i.buffered.length;r++)if(a=i.buffered.start(r),s=i.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(u=t,l=e):(u=Math.max(a,t),l=Math.min(s,e)),Math.min(l,s)-u>.5)return this.flushBufferCounter++,o.b.log("flush "+d+" ["+u+","+l+"], of ["+a+","+s+"], pos:"+this.media.currentTime),i.remove(u,l),!1}catch(t){o.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else o.b.warn("abort flushing too many retries");o.b.log("buffer flushed")}return!0},e}(r.a);e.a=l},function(t,e,n){var i=n(1),r=n(3),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.FPS_DROP_LEVEL_CAPPING,i.a.MEDIA_ATTACHING,i.a.MANIFEST_PARSED))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var n=this;if(!this.levels)return-1;var i=this.levels.filter((function(i,r){return e.isLevelAllowed(r,n.restrictedLevels)&&r<=t}));return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i=t.length-1,r=0;r<t.length;r+=1){var o=t[r];if((o.width>=e||o.height>=n)&&function(t,e){return!e||t.width!==e.width||t.height!==e.height}(o,t[r+1])){i=r;break}}return i},o(e,[{key:"mediaWidth",get:function(){var t=void 0,n=this.media;return n&&(t=n.width||n.clientWidth||n.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,n=this.media;return n&&(t=n.height||n.clientHeight||n.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(r.a);e.a=a},function(t,e,n){var i=n(1),r=n(3),o=n(0),a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var r=performance.now();if(e){if(this.lastTime){var a=r-this.lastTime,s=n-this.lastDroppedFrames,u=e-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(i.a.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var d=c.currentLevel;o.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(i.a.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t=void 0,e=this.context;t=this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,o=this.context,a=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=e.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,l=void 0;l="arraybuffer"===o.responseType?(u=e.response).byteLength:(u=e.responseText).length,r.loaded=r.total=l;var c={url:e.responseURL,data:u};this.callbacks.onSuccess(c,r,o,e)}else r.retry>=a.maxRetry||s>=400&&s<499?(i.b.error(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o,e)):(i.b.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.prototype.loadtimeout=function(){i.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}();e.a=r},function(t,e,n){var i=n(1),r=n(3),o=n(0),a=n(2),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MANIFEST_LOADING,i.a.MANIFEST_PARSED,i.a.AUDIO_TRACK_LOADED,i.a.ERROR));return r.ticks=0,r.ontick=r.tick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.cleanTimer(),r.a.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1==++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,n=t.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(i.a.AUDIO_TRACKS_UPDATED,{audioTracks:n});var a=0;n.forEach((function(t){if(t.default&&!r)return e.audioTrack=a,void(r=!0);a++})),!1===r&&n.length&&(o.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(o.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,o.b.log("switching to audioTrack "+t);var e=this.tracks[t],n=this.hls,r=e.type,a=e.url,s={id:t,type:r,url:a};n.trigger(i.a.AUDIO_TRACK_SWITCHING,s);var u=e.details;!a||void 0!==u&&!0!==u.live||(o.b.log("(re)loading playlist for audioTrack "+t),n.trigger(i.a.AUDIO_TRACK_LOADING,{url:a,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,o.b.log("updating audioTrack "+t);var e=this.tracks[t],n=e.url,r=e.details;!n||void 0!==r&&!0!==r.live||(o.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(i.a.AUDIO_TRACK_LOADING,{url:n,id:t}))}},s(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(r.a);e.a=u},function(t,e,n){var i=n(7),r=n(8),o=n(18),a=n(1),s=n(22),u=n(23),l=n(2),c=n(0),d=n(24),f=n(13),h=n(12),p=n(6),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v="STOPPED",m="STARTING",y="IDLE",b="PAUSED",_="KEY_LOADING",w="FRAG_LOADING",E="FRAG_LOADING_WAITING_RETRY",T="WAITING_TRACK",S="PARSING",A="PARSED",P="BUFFER_FLUSHING",x="ENDED",O="ERROR",I="WAITING_INIT_PTS",C=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.AUDIO_TRACKS_UPDATED,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.BUFFER_RESET,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED,a.a.INIT_PTS_FOUND));return r.fragmentTracker=i,r.config=n.config,r.audioCodecSwap=!1,r._state=v,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=v,this.fragmentTracker=null},e.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,c.b.log("InitPTS for cc: "+n+" found from video track: "+i),this.state===I&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(c.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=y):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=m),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=v},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v},e.prototype.doTick=function(){var t=void 0,e=void 0,n=void 0,o=this.hls,s=o.config;switch(this.state){case O:case b:case P:break;case m:this.state=T,this.loadedmetadata=!1;break;case y:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var l=this.mediaBuffer?this.mediaBuffer:this.media,f=this.videoBuffer?this.videoBuffer:this.media,p=r.a.bufferInfo(l,t,s.maxBufferHole),g=r.a.bufferInfo(f,t,s.maxBufferHole),v=p.len,S=p.end,A=this.fragPrevious,C=Math.min(s.maxBufferLength,s.maxMaxBufferLength),R=Math.max(C,g.len),M=this.audioSwitch,k=this.trackId;if((v<R||M)&&k<u.length){if(void 0===(n=u[k].details)){this.state=T;break}if(!M&&!n.live&&A&&A.sn===n.endSN&&!p.nextStart&&(!this.media.seeking||this.media.duration-S<A.duration/2)){this.hls.trigger(a.a.BUFFER_EOS,{type:"audio"}),this.state=x;break}var L=n.fragments,D=L.length,N=L[0].start,F=L[D-1].start+L[D-1].duration,V=void 0;if(M)if(n.live&&!n.PTSKnown)c.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),S=0;else if(S=t,n.PTSKnown&&t<N){if(!(p.end>N||p.nextStart))return;c.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=N+.05}if(n.initSegment&&!n.initSegment.data)V=n.initSegment;else if(S<=N){if(V=L[0],null!==this.videoTrackCC&&V.cc!==this.videoTrackCC&&(V=Object(d.b)(L,this.videoTrackCC)),n.live&&V.loadIdx&&V.loadIdx===this.fragLoadIdx){var U=p.nextStart?p.nextStart:N;return c.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(U+.05)),void(this.media.currentTime=U+.05)}}else{var B=void 0,j=s.maxFragLookUpTolerance,G=A?L[A.sn-L[0].sn+1]:void 0,H=function(t){var e=Math.min(j,t.duration);return t.start+t.duration-e<=S?1:t.start-e>S&&t.start?-1:0};S<F?(S>F-j&&(j=0),B=G&&!H(G)?G:i.a.search(L,H)):B=L[D-1],B&&(V=B,N=B.start,A&&V.level===A.level&&V.sn===A.sn&&(V.sn<n.endSN?(V=L[V.sn+1-n.startSN],c.b.log("SN just loaded, load next one: "+V.sn)):V=null))}V&&(V.decryptdata&&null!=V.decryptdata.uri&&null==V.decryptdata.key?(c.b.log("Loading key for "+V.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+k),this.state=_,o.trigger(a.a.KEY_LOADING,{frag:V})):(c.b.log("Loading "+V.sn+", cc: "+V.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+k+", currentTime:"+t+",bufferEnd:"+S.toFixed(3)),this.fragmentTracker.getState(V)===h.a.NOT_LOADED&&(this.fragCurrent=V,this.startFragRequested=!0,isNaN(V.sn)||(this.nextLoadPosition=V.start+V.duration),o.trigger(a.a.FRAG_LOADING,{frag:V}),this.state=w)))}break;case T:(e=this.tracks[this.trackId])&&e.details&&(this.state=y);break;case E:var W=performance.now(),$=this.retryDate,Y=(l=this.media)&&l.seeking;(!$||W>=$||Y)&&(c.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=y);break;case I:var z=this.videoTrackCC;if(void 0===this.initPTS[z])break;var K=this.waitingFragment;if(K){var q=K.frag.cc;z!==q?(e=this.tracks[this.trackId]).details&&e.details.live&&(c.b.warn("Waiting fragment CC ("+q+") does not match video track CC ("+z+")"),this.waitingFragment=null,this.state=y):(this.state=w,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=y}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(c.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===x&&(this.state=y),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){c.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=b,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=y),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=e.totalduration,o=0;if(c.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=i.details;a&&e.fragments.length>0?(s.a(a,e),o=e.fragments[0].start,e.PTSKnown?c.b.log("live audio playlist sliding:"+o.toFixed(3)):c.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,c.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var u=e.startTimeOffset;isNaN(u)?this.startPosition=0:(c.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u)}this.nextLoadPosition=this.startPosition}this.state===T&&(this.state=y),this.tick()},e.prototype.onKeyLoaded=function(){this.state===_&&(this.state=y,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===w&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,s=r.totalduration,u=e.level,l=e.sn,d=e.cc,f=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=t.stats;if("initSegment"===l)this.state=y,h.tparsed=h.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:h,frag:e,id:"audio"}),this.tick();else{this.state=S,this.appended=!1,this.demuxer||(this.demuxer=new o.a(this.hls,"audio"));var p=this.initPTS[d],g=r.initSegment?r.initSegment.data:[];r.initSegment||void 0!==p?(this.pendingBuffering=!0,c.b.log("Demuxing "+l+" of ["+r.startSN+" ,"+r.endSN+"],track "+u),this.demuxer.push(t.payload,g,f,null,e,s,!1,p)):(c.b.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+l+" of ["+r.startSN+" ,"+r.endSN+"],track "+u),this.waitingFragment=t,this.state=I)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===S){var i=t.tracks,r=void 0;if(i.video&&delete i.video,r=i.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(a.a.BUFFER_CODECS,i),c.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var s={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,s))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===S){var r=this.trackId,o=this.tracks[r],u=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(p.a.ElementaryStreamTypes.AUDIO),c.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),s.b(o.details,n,t.startPTS,t.endPTS);var d=this.audioSwitch,f=this.media,h=!1;if(d&&f)if(f.readyState){var g=f.currentTime;c.b.log("switching audio track : currentTime:"+g),g>=t.startPTS&&(c.b.log("switching audio track : flushing all audio"),this.state=P,u.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,u.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,u.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r});var v=this.pendingData;if(!v)return console.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void u.trigger(a.a.ERROR,{type:l.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&v.push({type:t.type,data:e,parent:"audio",content:"data"})})),!h&&v.length&&(v.forEach((function(t){e.state===S&&(e.pendingBuffering=!0,e.hls.trigger(a.a.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===S&&(this.stats.tparsed=performance.now(),this.state=A,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==S&&e!==A||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==A||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),n.trigger(a.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;c.b.log("audio buffered : "+u.a.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=y}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case l.a.FRAG_LOAD_ERROR:case l.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n;var o=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);c.b.warn("audioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=E}else c.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=O}break;case l.a.AUDIO_TRACK_LOAD_ERROR:case l.a.AUDIO_TRACK_LOAD_TIMEOUT:case l.a.KEY_LOAD_ERROR:case l.a.KEY_LOAD_TIMEOUT:this.state!==O&&(this.state=t.fatal?O:y,c.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case l.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===S||this.state===A)){var s=this.mediaBuffer,u=this.media.currentTime;if(s&&r.a.isBuffered(s,u)&&r.a.isBuffered(s,u+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,c.b.warn("audio:reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=y}else c.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=P,this.hls.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(c.b.log("appending pending audio data on Buffer Flushed"),e.forEach((function(e){t.hls.trigger(a.a.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=A):(this.state=y,this.fragPrevious=null,this.tick())},g(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,c.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(f.a);e.a=C},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.newCue=function(t,e,n,r){for(var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=window.VTTCue||window.TextTrackCue,d=0;d<r.rows.length;d++)if(s=!0,u=0,l="",!(o=r.rows[d]).isEmpty()){for(var f=0;f<o.chars.length;f++)o.chars[f].uchar.match(/\s/)&&s?u++:(l+=o.chars[f].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),a=new c(e,n,Object(i.b)(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}};var i=n(26)},function(t,e,n){e.a=function(){function t(t){return"string"==typeof t&&!!o[t.toLowerCase()]&&t.toLowerCase()}function e(t){return"string"==typeof t&&!!a[t.toLowerCase()]&&t.toLowerCase()}function n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function i(i,o,a){var s=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=i,h=o,p=a,g=null,v="",m=!0,y="auto",b="start",_=50,w="middle",E=50,T="middle";if(Object.defineProperty(s,"id",n({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return v},set:function(e){var n=t(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==r)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return b},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");b=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return w},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");w=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return T},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");T=n,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}()},function(t,e,n){function i(t,e,n,i){return Math.min(e,i)-Math.max(t,n)}var r=n(1),o=n(3),a=n(63),s=n(64),u=n(65),l=n(0),c=n(25),d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.a.MEDIA_ATTACHING,r.a.MEDIA_DETACHING,r.a.FRAG_PARSING_USERDATA,r.a.FRAG_DECRYPTED,r.a.MANIFEST_LOADING,r.a.MANIFEST_LOADED,r.a.FRAG_LOADED,r.a.LEVEL_SWITCHING,r.a.INIT_PTS_FOUND));if(i.hls=n,i.config=n.config,i.enabled=!0,i.Cues=n.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var o=new s.a(i,1),u=new s.a(i,2);i.cea608Parser=new a.a(0,o,u)}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addCues=function(t,e,n,r){for(var o=this.cueRanges,a=!1,s=o.length;s--;){var u=o[s],l=i(u[0],u[1],e,n);if(l>=0&&(u[0]=Math.min(u[0],e),u[1]=Math.max(u[1],n),a=!0,l/(n-e)>.5))return}a||o.push([e,n]),this.Cues.newCue(this[t],e,n,r)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach((function(t){e.onFragLoaded(t)})),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(!0===i["textTrack"+t])return i}return null},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var n=this.getExistingTrack(t);if(n)this[e]=n,Object(c.a)(this[e]),Object(c.b)(this[e],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config["captionsTextTrack"+t+"LanguageCode"]);i&&(i[e]=!0,this[e]=i)}}},e.prototype.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},e.prototype.destroy=function(){o.a.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){Object(c.a)(this.textTrack1),Object(c.a)(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)Object(c.a)(e[n])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,i){var r=void 0;if(i<n.length){var o=n[i];(function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)})(o,t)&&(r=o)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),t.default?r.mode=e.hls.subtitleDisplay?"showing":"hidden":r.mode="disabled",e.textTracks.push(r)}))}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,n=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===e.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var a=e.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(e,n)}else this.hls.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var i=this.textTracks,o=this.hls;u.a.parse(e,this.initPTS,n,t.cc,(function(e){var n=i[t.trackId];"disabled"!==n.mode?(e.forEach((function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}})),o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){l.b.log("Failed to parse VTT cue: "+e),o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},e.prototype.onFragDecrypted=function(t){var e=t.payload,n=t.frag;if("subtitle"===n.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(n,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},e.prototype.extractCea608Data=function(t){for(var e=31&t[0],n=2,i=void 0,r=void 0,o=void 0,a=[],s=0;s<e;s++)i=t[n++],r=127&t[n++],o=127&t[n++],0===r&&0===o||0!=(4&i)&&0==(3&i)&&(a.push(r),a.push(o));return a},e}(o.a);e.a=d},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(t){var e=t;return r.hasOwnProperty(t)&&(e=r[t]),String.fromCharCode(e)},a=15,s=100,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},p=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},g=function(){function t(e,n,r,o,a){i(this,t),this.foreground=e||"white",this.underline=n||!1,this.italics=r||!1,this.background=o||"black",this.flash=a||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),v=function(){function t(e,n,r,o,a,s){i(this,t),this.uchar=e||" ",this.penState=new g(n,r,o,a,s)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),m=function(){function t(){i(this,t),this.chars=[];for(var e=0;e<s;e++)this.chars.push(new v);this.pos=0,this.currPenState=new g}return t.prototype.equals=function(t){for(var e=!0,n=0;n<s;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<s;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<s;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=s)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=o(t);this.pos>=s?h.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e=void 0;for(e=t;e<s;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<s;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),y=function(){function t(){i(this,t),this.rows=[];for(var e=0;e<a;e++)this.rows.push(new m);this.currRow=14,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<a;t++)this.rows[t].clear();this.currRow=14},t.prototype.equals=function(t){for(var e=!0,n=0;n<a;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<a;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){h.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){h.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<a;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[i].cueStartTime;if(o&&o<h.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[i+s])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);u.setCursor(t.indent),t.color=u.chars[c].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},t.prototype.setBkgData=function(t){h.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,r=0;r<a;r++){var o=this.rows[r].getTextString();o&&(i=r+1,t?e.push("Row "+i+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},t.prototype.getTextAndFormat=function(){return this.rows},t}(),b=function(){function t(e,n){i(this,t),this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,h.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";h.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){h.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){h.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}h.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=h.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),_=function(){function t(e,n,r){i(this,t),this.field=e||1,this.outputs=[n,r],this.channels=[new b(1,n),new b(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var n=void 0,i=void 0,r=void 0,o=!1;this.lastTime=t,h.setTime(t);for(var a=0;a<e.length;a+=2)i=127&e[a],r=127&e[a+1],0!==i||0!==r?(h.log("DATA","["+p([e[a],e[a+1]])+"] -> ("+p([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(o=this.parseChars(i,r))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):h.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+p([i,r])+" orig: "+p([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var n;if(!((20===t||28===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+p([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var i=this.channels[n-1];return 20===t||28===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&e>=32&&e<=47&&((n=17===t?1:2)!==this.currChNr?(h.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),h.log("DEBUG","MIDROW ("+p([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var n,i;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,i=e>=64&&e<=95?1===n?u[t]:c[t]:1===n?l[t]:d[t];var r=this.interpretPAC(i,e);return this.channels[n-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.interpretPAC=function(t,e){var n,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},t.prototype.parseChars=function(t,e){var n,i=null,r=null,a=null;if(t>=25?(i=2,a=t-8):(i=1,a=t),a>=17&&a<=19?(n=17===a?e+80:18===a?e+112:e+144,h.log("INFO","Special char '"+o(n)+"' in channel "+i),r=[n]):t>=32&&t<=127&&(r=0===e?[t]:[t,e]),r){var s=p(r);h.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},t.prototype.parseBackgroundAttributes=function(t,e){var n=void 0,i=void 0,r=void 0,o=void 0;return!(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47)||(n={},16===t||24===t?(i=Math.floor((e-32)/2),n.background=f[i],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),r=t<24?1:2,o=this.channels[r-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();e.a=_},function(t,e,n){var i=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.timelineController=e,this.track=n,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.track)},t}();e.a=i},function(t,e,n){var i=n(26),r=n(5),o=function(t,e,n){return t.substr(n||0,e.length)===e},a=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},s={parse:function(t,e,n,s,u,l){var c=Object(r.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",f=0,h=0,p=0,g=[],v=void 0,m=!0,y=new i.a;y.oncue=function(t){var e=n[s],i=n.ccOffset;e&&e.new&&(void 0!==h?i=n.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(n,s,p)),p&&(i=p+n.ccOffset-n.presentationOffset),t.startTime+=i-h,t.endTime+=i-h,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&g.push(t)},y.onparsingerror=function(t){v=t},y.onflush=function(){v&&l?l(v):u(g)},c.forEach((function(t){if(m){if(o(t,"X-TIMESTAMP-MAP=")){m=!1,t.substr(16).split(",").forEach((function(t){o(t,"LOCAL:")?d=t.substr(6):o(t,"MPEGTS:")&&(f=parseInt(t.substr(7)))}));try{f-=e=e<0?e+8589934592:e,h=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r)?-1:(e+=1e3*n,e+=6e4*i,e+=36e5*r)}(d)/1e3,p=f/9e4,-1===h&&(v=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){v=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(m=!1)}y.parse(t+"\n")})),y.flush()}};e.a=s},function(t,e,n){function i(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}var r=n(1),o=n(3),a=n(0),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.a.MEDIA_ATTACHED,r.a.MEDIA_DETACHING,r.a.MANIFEST_LOADING,r.a.MANIFEST_LOADED,r.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=i(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},e.prototype.destroy=function(){o.a.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(r.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var n=e.details;void 0!==n&&!0!==n.live||(a.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(a.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval((function(){e.onTick()}),1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=i(this.media.textTracks);if(-1!==this.trackId&&(e[this.trackId].mode="disabled"),this.trackId=t,a.b.log("switching to subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var n=this.tracks[t];t<e.length&&(e[t].mode=this.subtitleDisplay?"showing":"hidden");var o=n.details;void 0!==o&&!0!==o.live||(a.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))}}},s(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(o.a);e.a=u},function(t,e,n){var i=n(1),r=n(0),o=n(9),a=n(13),s="STOPPED",u="IDLE",l="KEY_LOADING",c="FRAG_LOADING",d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.a.MEDIA_ATTACHED,i.a.ERROR,i.a.KEY_LOADED,i.a.FRAG_LOADED,i.a.SUBTITLE_TRACKS_UPDATED,i.a.SUBTITLE_TRACK_SWITCH,i.a.SUBTITLE_TRACK_LOADED,i.a.SUBTITLE_FRAG_PROCESSED));return r.config=n.config,r.vttFragSNsProcessed={},r.vttFragQueues=void 0,r.currentlyProcessing=null,r.state=s,r.currentTrackId=-1,r.decrypter=new o.a(n.observer,n.config),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroyed=function(){this.state=s},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach((function(e){t.vttFragQueues[e.id]=[]}))},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(i.a.FRAG_LOADING,{frag:t}),this.state=c}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=u,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=u},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.doTick=function(){var t=this;switch(this.state){case u:var e,n=this.tracks,o=this.currentTrackId,a=this.vttFragSNsProcessed[o],s=this.vttFragQueues[o],c=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!n)break;if(o<n.length&&(e=n[o].details),void 0===e)break;e.fragments.forEach((function(e){(function(t){return a.indexOf(t.sn)>-1})(e)||e.sn===c||function(t){return s.some((function(e){return e.sn===t.sn}))}(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(r.b.log("Loading key for "+e.sn),t.state=l,t.hls.trigger(i.a.KEY_LOADING,{frag:e})):(e.trackId=o,s.push(e),t.nextFrag()))}))}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;r.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach((function(t){e.vttFragSNsProcessed[t.id]=[]}))},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,-1!==this.currentTrackId&&void 0!==this.tracks[this.currentTrackId].details&&this.tick()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===l&&(this.state=u,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,o=this.hls;if(this.state===c&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=n&&null!=n.key&&"AES-128"===n.method){var a=void 0;try{a=performance.now()}catch(t){a=Date.now()}this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,(function(t){var e=void 0;try{e=performance.now()}catch(t){e=Date.now()}o.trigger(i.a.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},e}(a.a);e.a=d},function(t,e,n){var i=n(3),r=n(1),o=n(2),a=n(0),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u="com.widevine.alpha",l="com.microsoft.playready",c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.a.MEDIA_ATTACHED,r.a.MANIFEST_PARSED));return i._widevineLicenseUrl=n.config.widevineLicenseUrl,i._licenseXhrSetup=n.config.licenseXhrSetup,i._emeEnabled=n.config.emeEnabled,i._requestMediaKeySystemAccess=n.config.requestMediaKeySystemAccessFunc,i._mediaKeysList=[],i._media=null,i._hasSetMediaKeys=!1,i._isMediaEncrypted=!1,i._requestLicenseFailureCount=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLicenseServerUrl=function(t){var e=void 0;switch(t){case u:e=this._widevineLicenseUrl;break;default:e=null}return e||(a.b.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,n){var i=this,r=function(t,e,n){switch(t){case u:return function(t,e,n){var i={videoCapabilities:[]};return e.forEach((function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[i]}(0,n);default:throw Error("Unknown key-system: "+t)}}(t,0,n);r?(a.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,r).then((function(e){i._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){a.b.error('Failed to obtain key-system "'+t+'" access:',e)}))):a.b.warn("Can not create config for key-system (maybe because platform is not supported):",t)},e.prototype._onMediaKeySystemAccessObtained=function(t,e){var n=this;a.b.log('Access for key-system "'+t+'" obtained');var i={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i),e.createMediaKeys().then((function(e){i.mediaKeys=e,a.b.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()})).catch((function(t){a.b.error("Failed to create media-keys:",t)}))},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},e.prototype._onNewMediaKeySession=function(t){var e=this;a.b.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},e.prototype._onKeySessionMessage=function(t,e){a.b.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){a.b.log("Received license data, updating key-session"),t.update(e)}))},e.prototype._onMediaEncrypted=function(t,e){a.b.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_KEYS,fatal:!0});a.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return a.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)a.b.warn("Key-Session already initialized but requested again");else{var n=e.mediaKeysSession;n||(a.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var i=this._mediaEncryptionInitDataType,s=this._mediaEncryptionInitData;a.b.log('Generating key-session request for "'+i+'" init data type'),e.mediaKeysSessionInitialized=!0,n.generateRequest(i,s).then((function(){a.b.debug("Key-session generation succeeded")})).catch((function(e){a.b.error("Error generating key-session request:",e),t.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},e.prototype._createLicenseXhr=function(t,e,n){var i=new XMLHttpRequest,s=this._licenseXhrSetup;try{if(s)try{s(i,t)}catch(e){i.open("POST",t,!0),s(i,t)}i.readyState||i.open("POST",t,!0)}catch(t){return a.b.error("Error setting up key-system license XHR",t),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,n),i},e.prototype._onLicenseRequestReadyStageChange=function(t,e,n,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,a.b.log("License request succeeded"),i(t.response);else{if(a.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),++this._requestLicenseFailureCount<=3){var s=3-this._requestLicenseFailureCount+1;return a.b.warn("Retrying license request, "+s+" attempts left"),void this._requestLicense(n,i)}this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var n=void 0;return t.mediaKeySystemDomain===l?a.b.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===u?n=e:a.b.error("Unsupported key-system:",t.mediaKeySystemDomain),n},e.prototype._requestLicense=function(t,e){a.b.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return a.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),s=this._createLicenseXhr(i,t,e);a.b.log("Sending license request to URL: "+i),s.send(this._generateLicenseRequestChallenge(n,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),n=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(u,e,n)}},s(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(i.a);e.a=c},function(t,e,n){n.d(e,"a",(function(){return i}));var i=window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null},function(t,e){String.prototype.endsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,r=String(t),o=r.length,a=i;if(arguments.length>1){var s=arguments[1];void 0!==s&&(a=s?Number(s):0)!=a&&(a=0)}var u=Math.min(Math.max(a,0),i),l=u-o;if(l<0)return!1;for(var c=-1;++c<o;)if(n.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};t?t(String.prototype,"endsWith",{value:n,configurable:!0,writable:!0}):String.prototype.endsWith=n}()}]).default},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(43));e.default=a.default.extend({_getVideoFormats:function(){var t="h264-high";return o.default.smartPhone()&&(t="h264-low"),[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:t,type:"mp4"},{format:"original",type:"mp4"}]},onClick:function(t){return t&&t.preventDefault(),this._isPlaying()?this.manuallyPause():this.play(),!1},show:function(){a.default.prototype.show.apply(this),this.loadAndShowVideo()},getElementWidth:function(){var t=this.options.pageView.getScaleContext().ratio;return this.options.width*t},getElementHeight:function(){var t=this.options.pageView.getScaleContext().ratio;return this.options.height*t},doPlatformSpecificSetup:function(){this._setVideoSources(),this.applyVideoControlsFix(!0),o.default.isMobileSafari()&&this._isShowControls()&&this.$vid.on("touchmove",(function(t){t.stopPropagation()}))},configurePlatformSpecificEvents:function(){this._isShowControls()||this.bindInteraction(this.$el,r.default.bind(this.onClick,this)),this.$vid.on("progress load canplaythrough",r.default.bind((function(){this.videoHandle.readyState>=1&&(this.isVideoReady=!0,this._hidePosterAndShowVideo(),this.applyVideoControlsFix(!1),window.addEventListener("resize",r.default.bind(this.applyVideoControlsFix,this,!1)),this.trigger(this.EVENTS.VIDEO_READY),this.$vid.off("progress load canplaythrough"))}),this))},applyVideoControlsFix:function(t){var e=this.options.pageView.getScaleContext().ratio,n="";t&&(n="translateX(-2048px) "),n+="scale("+1/e+", "+1/e+")",this.$vid.css({transform:n,"transform-origin":"top left",left:this.options.x*e,top:this.options.y*e,width:Math.ceil(this.options.width*e),height:Math.ceil(this.options.height*e)})}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a="full",s="muted",u="none",l=r.default.once((function(){return o.default.isIos()?o.default.isIosLessThan(10)?u:s:o.default.isAndroid()&&o.default.isBrowserChrome()?o.default.isBrowserChromeLessThan(53)?u:s:o.default.isDesktopSafari()&&!o.default.isDesktopSafariLessThan(11)||o.default.desktop()&&o.default.isBrowserChrome()&&!o.default.isBrowserChromeLessThan(66)||o.default.desktop()&&o.default.isBrowserFirefoxGreaterThanOrEqualTo(63)?s:a}));e.default={isFullSupport:function(){return l()===a},isMutedSupport:function(){return l()===s},isNoSupport:function(){return l()===u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=n(58),s=n(26),u=i(n(27));e.default=a.AbstractTransformableGroupView.extend({sizeAdjusted:!1,initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("smart-group"),this.childViews={},this.setSizeFromExtents()},setSizeFromExtents:function(){o.default.previewMode&&(this.options=r.default.clone(this.options)),this.options.scaleWidth=this.options.width/100,this.options.scaleHeight=this.options.height/100;var t=[];r.default.each(this.options.layers,(function(e){!function e(n){if("folder"===n.type)r.default.each(n.items,(function(t){e(t)}));else{var i=n,o=u.default.getExtentsFromDimensions(i.x,i.y,i.width,i.height,Math.toRad(i.rotation),i.border.width?i.border.width:0);t.push(o)}}(e)}));var e=u.default.getSmallestContainingRectangle.apply(u.default,t);this.options.width=e.x2-e.x1,this.options.height=e.y2-e.y1;var n=this.options.width/2,i=this.options.height/2,a=this.options.width/2*this.options.scaleWidth,s=this.options.height/2*this.options.scaleHeight;this.options.originalX=this.options.x,this.options.originalY=this.options.y,this.options.x=this.options.x-(n-a),this.options.y=this.options.y-(i-s),this.options.fixedPosition&&(this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y),this.sizeAdjusted=!0},_applyDimensions:function(t,e){a.AbstractTransformableGroupView.prototype._applyDimensions.call(this,t,e),s.CssUtils.setTransformToElement(this.$el,{scale:{x:this.options.scaleWidth,y:this.options.scaleHeight}})},render:function(){this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.render.call(this)},applyChanges:function(t){this.sizeAdjusted=!1,a.AbstractTransformableGroupView.prototype.applyChanges.call(this,t)},getAnimatedObjectModelData:function(){return this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.getAnimatedObjectModelData.call(this)},removePointerEventsIfNoInteractions:function(){r.default.each(this.childViews,(function(t){t.removePointerEventsIfNoInteractions()}))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=n(6),a=n(28);e.default=o.AbstractComponentView.extend({render:function(){o.AbstractComponentView.prototype.render.apply(this,arguments),this.$el.off("focus.resize").on("focus.resize",this.applyFocusDimensions.bind(this)),this.$el.off("blur.resize").on("blur.resize",this._applyDimensions.bind(this))},applyFocusDimensions:function(){this.$el.css({height:this.options.height,width:this.options.width})},_applyDimensions:function(t,e){this.$el.css({height:r.default.webkit?"1px":"",width:r.default.webkit?"1px":""});var n=this.options.width/2+"px "+this.options.height/2+"px";this.$el.css("transform-origin",n),this.$el.css("-moz-transform-origin",n),this.$el.css("-webkit-transform-origin",n),this.$el.css("-ms-transform-origin",n)},tagOverride:function(){var t=o.AbstractComponentView.prototype.tagOverride.call(this);return r.default.msie&&t&&"button"===t.tagName.toLowerCase()?{tagName:this.defaultTagName,attributes:{tabindex:0,onkeyup:"if (['Enter', ' ', 'Spacebar'].indexOf(event.key) >= 0) this.click()",role:"button"}}:t},callObjectStateInvoker:function(t,e){a.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=n(58);e.default=a.AbstractTransformableGroupView.extend({initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},addParentView:function(t){a.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},removePointerEventsIfNoInteractions:function(){o.default.each(this.childViews,(function(t){t.removePointerEventsIfNoInteractions()}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),n=this.$el.css("top"),i=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",n),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",i+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(7)),u=a(n(210)),l=n(29),c=n(92),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e}return r(e,t),e.prototype.renderShape=function(t){void 0===t&&(t={});var e=c.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return s.default.render(u.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e}(l.AbstractCustomPathComponentView);e.CustomShapeComponentView=d},function(t,e){t.exports='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},function(t,e){t.exports='<svg\n  id="custom-path-component-id"\n  name="{{svgName}}"\n  overflow="visible"\n  xmlns="http://www.w3.org/2000/svg"\n>\n{{#renderSMILShadow}}\n  <filter id="{{shadowName}}">\n    <feGaussianBlur in="SourceAlpha" />\n    <feOffset result="offsetblur" />\n    <feFlood />\n    <feComposite in2="offsetblur" operator="in" />\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in="SourceGraphic" />\n    </feMerge>\n  </filter>\n{{/renderSMILShadow}}\n  <linearGradient id="{{gradientName}}">\n    <stop id="{{gradientStop0Name}}" offset="0%" style="stop-color:{{gradientStop0.color}};stop-opacity:1" />\n    <stop id="{{gradientStop1Name}}" offset="100%" style="stop-color:{{gradientStop1.color}};stop-opacity:1" />\n  </linearGradient>\n  {{{subview}}}\n</svg>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(213),r=function(){function t(){}return t.getTotalAnimationForSingleEasing=function(t,e){var n=this.getSplinesForEasing(t);if(!e)return[n];switch(t){case i.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case i.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case i.Easing.easeIn:case i.Easing.easeOut:case i.Easing.linear:default:return[[0,0,n[0],n[1]],[n[2],n[3],1,1]]}},t.getSplinesForEasing=function(t){switch(t){case i.Easing.ease:return[.25,.1,.25,1];case i.Easing.easeIn:return[.42,0,1,1];case i.Easing.easeOut:return[0,0,.58,1];case i.Easing.easeInOut:return[.42,0,.58,1];case i.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,n){var i=t.getRotateKeyframes(e,n).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:i.map((function(t){return t.x1+"%"})).join(";"),y1:i.map((function(t){return t.y1+"%"})).join(";"),x2:i.map((function(t){return t.x2+"%"})).join(";"),y2:i.map((function(t){return t.y2+"%"})).join(";")}},t.animatePoints=function(t){var e={};return Object.keys(t).forEach((function(n){e[n]=t[n].from+";"+t[n].to})),e},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t}();e.AnimateSVGUtil=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ease="ease",t.linear="linear",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out"}(e.Easing||(e.Easing={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),u=n(92),l=a(n(7)),c=a(n(215)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hotspot-path",e}return r(e,t),e.prototype.callObjectStateInvoker=function(){},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=u.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return l.default.render(c.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e}(s.AbstractCustomPathComponentView);e.HotspotPathComponentView=d},function(t,e){t.exports='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(7)),u=n(29),l=a(n(217)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("ellipse")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.options.width/2,n=this.options.height/2,i=e,r=n,a=e,u=n;return s.default.render(l.default,o({cx:i,cy:r,rx:a,ry:u},t))},e}(u.AbstractCustomPathComponentView);e.CircleComponentView=c},function(t,e){t.exports='<ellipse\n  cx="{{cx}}"\n  cy="{{cy}}"\n  rx="{{rx}}"\n  ry="{{ry}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n/>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(7)),u=n(29),l=a(n(219)),c=function(t){function e(e){var n=t.call(this,e)||this;n.type="line",n.options=e;var i=e.x,r=e.x2,o=e.y,a=e.y2;return n.options.width=Math.abs(i-r)||1,n.options.height=Math.abs(o-a)||1,n.currentLinePosition=n.getPoints(),n}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("line")},e.prototype.render=function(){return t.prototype.render.call(this),this._applyBorder(),this},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o(o({},e),t))},e.prototype.getPoints=function(t,e,n,i){return void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.x2),void 0===i&&(i=this.options.y2),{x1:0,x2:n-t,y1:0,y2:i-e}},e.prototype._applyBorder=function(e){void 0===e&&(e={}),e.color||(e.color=this.options.color),e.width||(e.width=this.options.lineWidth),t.prototype._applyBorder.call(this,e)},e.prototype.applyPoints=function(t,e){if(void 0===t&&(t=[{x:this.options.x,y:this.options.y},{x:this.options.x2,y:this.options.y2}]),2===t.length){void 0===t[0].x&&(t[0].x=this.options.x),void 0===t[0].y&&(t[0].y=this.options.y),void 0===t[1].x&&(t[1].x=this.options.x),void 0===t[1].y&&(t[1].y=this.options.y);var n=this.currentLinePosition,i=this.getPoints(t[0].x,t[0].y,t[1].x,t[1].y);this.createAnimationWithTransition(this.getShapeElement(),i,n,e),this.currentLinePosition=i}},e}(u.AbstractCustomPathComponentView);e.LineComponentView=c},function(t,e){t.exports='<line\n  x1="{{x1}}"\n  y1="{{y1}}"\n  x2="{{x2}}"\n  y2="{{y2}}"\n  filter="{{shadow}}"\n  pointer-events="auto"\n/>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(7)),u=n(29),l=a(n(221)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="triangle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("polygon")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o({points:this.coodinatesToPointsString(e)},t))},e.prototype.getPoints=function(t,e){return void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),"right-triangle"===this.options.shape?{top:{x:t,y:0},left:{x:0,y:e},right:{x:t,y:e}}:{top:{x:t/2,y:0},left:{x:0,y:e},right:{x:t,y:e}}},e.prototype.coodinatesToPointsString=function(t){return Object.values(t).map((function(t){return t.x+","+t.y})).join(" ")},e}(u.AbstractCustomPathComponentView);e.TriangleComponentView=c},function(t,e){t.exports='<polygon\n  points="{{points}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n/>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(223)),s=n(28),u=o(n(60)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.applyJustification=function(t){void 0===t&&(t=this.options.justify),t&&t.match(/(left|right|center|justify)/)&&(this.$el.css("textAlign",t),this.$el.find(".text-line").css("width","100%"))},e.prototype.callObjectStateInvoker=function(t,e){s.ObjectStateInvoker.invokeTextObjectState(this,t,e)},e.prototype.setDefaultTextStyle=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid});this.$el.css("textTransform","none"),this.$el.css("color",t.fontColor),this.$el.css("fontWeight",e.getFontWeight()),this.$el.css("fontStyle",e.getFontStyle()),this.$el.css("fontSize",t.fontSize+"px")},e.prototype.applyDefaultFont=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid}).getCssFamilyName(),n=u.default.formatFamilyNameForCSS(e);this.$el.css("fontFamily",n)},e}(a.default);e.TextComponentView=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(4)),a=r(n(1)),s=r(n(0)),u=r(n(3)),l=r(n(2)),c=n(6),d=r(n(59)),f=r(n(60)),h=r(n(226)),p=r(n(227)),g=r(n(94)),v=r(n(229)),m=n(44),y=n(44),b=n(230),_={},w={},E=function(t,e){return t.getCssFamilyName()+":"+e};e.default=c.AbstractComponentView.extend({type:"text",textSpans:null,textContent:null,textUpdatedViaSdk:!1,initialize:function(){c.AbstractComponentView.prototype.initialize.call(this),this.fontLoader=this.options.fontLoader,this.defaultVariant=this._getVariant(this.options.defaultSpan),this.textMode=this.options.textMode||y.TextRenderMode.PARAGRAPH,this.isRerendering=!1,this.tooSmallToRender=!1},render:function(){if(!(this.options.width<=1||this.options.height<=1))return this.tooSmallToRender=!1,c.AbstractComponentView.prototype.render.call(this),u.default.webkit&&this.$el.css("-webkit-filter","blur(0px)"),this._applyDimensions(this.options.width,this.options.height),this.setDefaultTextStyle(),this.prepareTextContentAndSpans(),this.allFontsReady=new a.default.Deferred,this.variantsMeasured=0,this.fontLoader.onVariantLoaded(this.measureBaselineOffsetAndRenderText,this),this.fontLoader.onLoadFail(this.allFontsReady.reject,this.allFontsReady),this;this.tooSmallToRender=!0},prepareTextContentAndSpans:function(){this.textContent=this._applyTextTransform(this.options.textContent),this.textSpans=h.default.padTextSpans(this.textContent,this.options.defaultSpan,this.options.textSpans)},setTextFromSDK:function(t){var e,n;t=t||"",this.textUpdatedViaSdk=!0,this.options.textContent=t,this.textSpans&&this.textSpans.length>0&&(this.textSpans[0].fontColor&&(e=this.textSpans[0].fontColor),this.textSpans[0].variantGuid&&(n=this.textSpans[0].variantGuid)),this.options.textSpans=[],this.prepareTextContentAndSpans(),this.textSpans&&this.textSpans.length>0&&(e&&(this.textSpans[0].fontColor=e),n&&(this.textSpans[0].variantGuid=n)),"resolved"===this.allFontsReady.state()&&this._layoutContent(),this.$el.css("columns","unset")},measureBaselineOffsetAndRenderText:function(t){(function(t,e){var n=E(t,e);if(s.default.has(w,n))return w[n].promise();var i=new a.default.Deferred;return w[n]=i,f.default.measureFontBaselineOffset(t,e,e).then(i.resolve,i.reject),i.then((function(t){_[n]=t}))})(t,this.options.defaultSpan.fontSize).then(s.default.bind((function(){this.variantsMeasured++,this.variantsMeasured===this.fontLoader.getAllVariants().length&&this.allFontsReady.resolve()}),this))},_getPadding:function(){return{left:s.default.isNumber(this.options.paddingLeft)?this.options.paddingLeft:0,right:s.default.isNumber(this.options.paddingRight)?this.options.paddingRight:0,top:s.default.isNumber(this.options.paddingTop)?this.options.paddingTop:0,bottom:s.default.isNumber(this.options.paddingBottom)?this.options.paddingBottom:0}},_getColumnWidth:function(){var t=this._getPadding();return(this.options.width-t.left-t.right-(this.options.columns-1)*this.options.columnGap)/this.options.columns},_getVariant:function(t){return f.default.resolveFont(t.variantGuid)},_getDefaultBaselineOffset:function(){var t=0,e=this._getVariant(this.options.defaultSpan),n=E(e,this.options.defaultSpan.fontSize);return e&&s.default.has(_,n)&&(t=_[n]),t},_layoutContent:function(){var t,e=this._getDefaultBaselineOffset();this.defaultVariant=this._getVariant(this.options.defaultSpan);var n=this.options.glyphMetrics&&this.options.glyphMetrics!==p.default.EMPTY_METRICS&&s.default.isString(this.options.glyphMetrics);n&&(this.$el.css("lineHeight",this.options.defaultSpan.fontSize+"px"),t=this.glyphMetrics=p.default.decode(this.options.glyphMetrics,this.textContent));var i=!0===this.options.showOverflow?"visible":"hidden";this.$el.css("overflow",i),this.$el.empty(),!n||this.isParagraphMode()||this._useParagraphLayout(t)?(l.default.previewMode||n||this.isParagraphMode()||o.default.warn("no glyph metrics! using paragraph layout..."),this._layoutParagraphs(e)):this._useCharacterLayout(t)?this._layoutGlyphs(t,e):this._layoutLines(t,e)},_useParagraphLayout:function(t){return t.totalLines>=250},isLineMode:function(){return this.textMode===y.TextRenderMode.LINE&&!this.hasAccessibilityFeature},isParagraphMode:function(){return!(this.textMode!==y.TextRenderMode.PARAGRAPH&&!this.textUpdatedViaSdk&&!this.hasAccessibilityFeature)},isHiddenFromScreenReaders:function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature},getCurrentHtmlTag:function(){return this.hasAccessibilityFeature&&this.options.htmlTag?this.options.htmlTag:"p"},_useCharacterLayout:function(t){return!this.isParagraphMode()&&this.textMode===y.TextRenderMode.CHAR&&t.totalCharacters<=250},_applyTextTransform:function(t){switch(this.options.textTransform){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}return t},_applyStyle:function(t,e){void 0===e&&(e={});var n={},i=s.default.extend({},this.options.defaultSpan,e),r=this._getVariant(i);if(e.fontColor&&(n.color=e.fontColor),r.getFontWeight()!==this.defaultVariant.getFontWeight()&&(n["font-weight"]=r.getFontWeight()),r.getFontStyle()!==this.defaultVariant.getFontStyle()&&(n["font-style"]=r.getFontStyle()),r.getCssFamilyName()!==this.defaultVariant.getCssFamilyName()&&(n["font-family"]=r.getCssFamilyName()),e.underline&&(n["text-decoration"]="underline"),e.letterSpacing&&(n["letter-spacing"]=v.default.unitsToCss(e.letterSpacing)),s.default.isEmpty(n)&&this.isParagraphMode()&&!e.hyperlink)return t.content;n=s.default.extend(n,s.default.pick(t,["position","top","left"]));var o="<span";return s.default.isEmpty(n)||(o+=' style="',s.default.each(n,(function(t,e){o+=e+":"+t+";"})),o+='"'),o+">"+t.content+"</span>"},_getNumSpaces:function(t){return s.default.reduce(t,(function(t,e){return t+(" "===e.ch||"\n"===e.ch?1:0)}),0)},_layoutGlyphsChars:function(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=e+o,u=t[o];if("\n"!==u.ch&&!s.default.isUndefined(u.ch)){var l=h.default.findTextSpanForCharIndex(a,this.textSpans),c=" "===u.ch?"&nbsp;":u.ch,d=a===l.index+l.length-1,f=o<t.length-1&&s.default.isUndefined(t[o+1].ch);!l.underline||d||u.eol||f||(c+="&nbsp"),r.push(this._applyStyle({content:c,top:u.y+n+i.top+"px",left:u.x+i.left+"px"},l))}}return r},_layoutGlyphs:function(t,e){for(var n=this._getPadding(),i=0,r=[],o=0;o<t.lines.length;o++){var a=t.lines[o],u=i;if(i+=a.length,0!==a.length)if(1!==a.length||!s.default.isUndefined(a[0].ch))this._getNumSpaces(a)!=a.length&&(r=r.concat(this._layoutGlyphsChars(a,u,e,n)))}this.$el.append(this.applyHyperlinks(this.textSpans,r,y.TextRenderMode.DEFAULT))},_applyTextSpans:function(t,e){var n=s.default.map(t,s.default.bind((function(t){var n=this.textContent.substr(t.index,t.length),i={content:n=this._escapeHtmlSpecialCharacters(n),position:"relative"};return e&&(i.left=e),this._applyStyle(i,t)}),this));return this.applyHyperlinks(t,n,y.TextRenderMode.LINE)},_escapeHtmlSpecialCharacters:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s/g,"&nbsp;")},_kernLongLines:function(){var t=String.fromCharCode(160),e=this._getColumnWidth();this.$("span.text-line").each(s.default.bind((function(n,i){var r=(i=a.default(i)).width();if(r>e){var o,u=r-e,l=a.default(i).find("span"),c=s.default.reduce(l,(function(t,e){return t+a.default(e).text()}),""),d=u/(c.trim().split(t).length-1),f=-1*Math.ceil(u),p=parseInt(a.default(i).attr("index"),10);i.empty();for(var g=c.lastIndexOf(t);g>0;){o=c.lastIndexOf(t,g-1);var v=h.default.findTextSpansForLine(p+o+1,g-o,this.textSpans),m=o<0?"0px":f+"px",y=this._applyTextSpans(v,m);i.prepend(y),f+=d,g=o}}}),this))},_layoutLines:function(t,e){var n=this._getPadding();this.chIndex=0;for(var i=['<div style="width:110%;position:relative">'],r=0;r<t.lines.length;r++){var o=t.lines[r];if(0!==o.length){for(var a="",u=!1,l=this.chIndex,c=0,d=0;d<o.length;d++)s.default.isUndefined(o[d].ch)||(a+=o[d].ch,u="\n"===o[d].ch,c++);if(a.trim().length>0){var f=h.default.findTextSpansForLine(l,c,this.textSpans),p=this._applyTextSpans(f),g=o[0].y+e+n.top+"px",v=o[0].x+n.left+"px";i.push('<span class="text-line" index="'+l+'" style="top:'+g+";left:"+v+'">'+p+"</span>")}u&&i.push("<br/>"),this.chIndex+=c}}i.push("</div>"),this.$el.append(i.join("")),this._onReflow(this.$("span:first"),s.default.bind((function(){this._kernLongLines()}),this))},_layoutParagraphs:function(t){var e=this;t-=(this.options.leading-this.options.defaultSpan.fontSize)/2;var n=this.options,r=n.width,o=n.height;this.options.textTransform&&this.$el.css("textTransform",this.options.textTransform),this.$el.empty();var u=this.getCurrentHtmlTag(),l=a.default("<"+u+' style="position:relative;top:'+t+'px;"/>');this.$el.append(l),"center"!==this.options.justify&&"right"!==this.options.justify||this.textContent.indexOf("  ")>-1?this.$el.css("whiteSpace","pre-wrap"):this.$el.css("whiteSpace","pre-line");var c=h.default.generateUnstyledHtmlSpansForParagraph(this.textContent,this.textSpans).map((function(t){return e._applyStyle.apply(e,t)}));l.append(this.applyHyperlinks(this.textSpans,c,y.TextRenderMode.PARAGRAPH)),this.applyJustification(this.options.justify),this.$el.css("padding",0),s.default.each(["Top","Right","Bottom","Left"],s.default.bind((function(t){this.options["padding"+t]&&(this.$el.css("padding"+t,parseInt(this.options["padding"+t],10)+"px"),"Top"!=t&&"Bottom"!=t||(o-=parseInt(this.options["padding"+t],10)),"Left"!=t&&"Right"!=t||(r-=parseInt(this.options["padding"+t],10)))}),this)),"button"===this.tagName&&l.css({height:o});var d=this.$el.find("> *");if(this.options.columns>1){var f=this.options.columnGap||0,p=Math.abs(this.options.leading-this.options.defaultSpan.fontSize),g=o-t+p,v=m.COLUMN_OVERRUN_PADDING_PERCENTAGE/this.options.columns;f+=r*v/100,d.css(i({columnCount:this.options.columns,columnWidth:"auto",columnFill:"auto",columnGap:f+"px",height:g},this.getOverrunPaddingCSS(v)))}else d.css(this.getOverrunPaddingCSS(m.COLUMN_OVERRUN_PADDING_PERCENTAGE));this.$el.css("lineHeight",this.options.leading+"px"),this._applyDimensions(r,o)},getOverrunPaddingCSS:function(t){return"left"===this.options.justify?{paddingRight:t+"%"}:"right"===this.options.justify?{paddingLeft:t+"%"}:{paddingLeft:t/2+"%",paddingRight:t/2+"%"}},applyHyperlinks:function(t,e,n){return new b.InlineLinkProcessor(this,t).decorateLinks(e,n)},_onReflow:function(t,e){if(!s.default.isEmpty(t)){var n=function(){t.width()>0?e():setTimeout(n,1)};setTimeout(n,1)}},applyChanges:function(t){var e=s.default.cloneDeep(t);d.default.reconcileComponentForCurrentVariant(e),this.fontLoader=new g.default(e),this.fontLoader.load(),c.AbstractComponentView.prototype.applyChanges.call(this,t)},applyAccessibilityFeatures:function(){c.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},attachMedia:function(){return this.tooSmallToRender?a.default.Deferred().resolve():(this.fontLoader.loadNow(),this.allFontsReady.always(s.default.bind(this.applyDefaultFont,this)),this.allFontsReady.always(s.default.bind(this._layoutContent,this)),this.allFontsReady.promise())},setScreenReaderVisibilityStatus:function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},scaleComponent:function(){this.rerenderByTogglingVisibility()},rerenderByTogglingVisibility:s.default.debounce((function(){if(!this.isRerendering){this.isRerendering=!0;var t=this.$el.css("display");this.$el.css("display","none"),s.default.delay(s.default.bind((function(){this.$el.css("display",t),this.isRerendering=!1}),this),1)}}),100),containsHyperlinks:function(){return s.default.some(this.textSpans,"hyperlink")}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={"text-component":["title","textContent"]};e.get=function(t){return i[t]||[]},e.default={get:e.get}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(93)),a=i(n(30)),s=function(t){t=t||{},this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]};s.prototype={isBuiltIn:function(){return this.api===a.default.BUILTIN_API_ID},isUploaded:function(){return this.api===a.default.UPLOADED_API_ID},isCrossAccount:function(){return this.crossAccount},getFamilyName:function(){return this.family},getVariants:function(){return this.variants},addVariant:function(t,e){var n=new o.default(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(n),n},updateVariant:function(t){var e=r.default.findIndex(this.variants,(function(e){return t.guid===e.guid}));-1===e?this.variants.push(t):this.variants[e]=t},getVariantsCount:function(){return this.variants.length},getVariantNames:function(){return r.default.map(this.variants,(function(t){return t.getName()}))},getCssFamilyName:function(){return this.isUploaded()?this.variants[0].getCssFamilyName():this.getFamilyName()},getGuid:function(){return this.guid},getVariant:function(t){return r.default.find(this.variants,(function(e){return e.guid===t}))},getVariantByName:function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},getWebFontStylesLoaded:function(){return r.default.every(this.variants,"webFontStylesLoaded")},setAllWebFontStylesLoaded:function(){r.default.each(this.variants,r.default.bind((function(t){t.setWebFontStylesLoaded()}),this))},sortVariantsByName:function(){this.variants=r.default.sortBy(this.variants,["name"])},findVariantByWeightAndStyle:function(t,e){return r.default.find(this.variants,(function(n){return n.getFontWeight()===t&&n.getFontStyle()===e}))},findBestMatchVariant:function(t){var e=this.getVariantByName(t.getName());return e||(e=this.findVariantByWeightAndStyle(t.getFontWeight(),t.getFontStyle())),e||(e=this.findVariantByWeightAndStyle(a.default.DEFAULT_FONT_WEIGHT,a.default.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e}},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=function(t,e){for(var n=0;n<e.length;n++)if(t>=e[n].index&&t<e[n].index+e[n].length)return n;return-1},s=function(t,e){var n=a(t,e);return-1!=n?e[n]:void 0};e.default={padTextSpans:function(t,e,n){var i=[],r=0;if(n&&n.length>0){for(var a=0;a<n.length;a++){var s=n[a];s.index>r&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:s.index-r}),r=s.index+s.length,i.push(o.default.extend(!0,{underline:e.underline,letterSpacing:e.letterSpacing},s))}return r<t.length&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:t.length-r}),i}return[{underline:e.underline,letterSpacing:e.letterSpacing,index:0,length:t.length}]},findTextSpanForCharIndex:s,findTextSpansForLine:function(t,e,n){var i=[],s=a(t,n),u=a(t+e-1,n);if(-1!==s&&-1!==u){i=o.default.extend(!0,[],n.slice(s,u+1));var l=r.default.first(i),c=r.default.last(i);t>l.index&&(l.length-=t-l.index,l.index=t),t+e<c.index+c.length&&(c.length=t+e-c.index)}return i},generateUnstyledHtmlSpansForParagraph:function(t,e){void 0===t&&(t=""),void 0===e&&(e=[]);for(var n=function(t){return{position:"relative",content:r.default.escape(t)}},i=[],o=r.default.first(e),a="",u=0;u<t.length;++u){var l=s(u,e),c=r.default.isEqual(o,l);c&&(a+=t.charAt(u),u!==t.length-1)||(a&&i.push([n(a),o]),u!==t.length-1?(a=t.charAt(u),o=l):a&&!c&&i.push([n(t.charAt(u)),l]))}return i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={EMPTY_METRICS:"[]",encode:function(t){if(r.default.isEmpty(t.glyphMetrics))return this.EMPTY_METRICS;var e="",n=null;return r.default.each(t.glyphMetrics,(function(t){var i=parseFloat(t.x.toFixed(2)),r=parseFloat(t.y.toFixed(2));e+=i+",",r!=n&&(e+=r),e+=",",n=r})),","==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),"["+e+"]"},decode:function(t,e){var n,i,o,a=JSON.parse(t.replace(/,,/g,",null,").replace(/,]/,",null]")),s=[],u=null,l=a.length/2;for(n=0;n<l;n++){var c=a[2*n],d=a[2*n+1];o={x:c,y:null===d?u:d,ch:e[n]},r.default.isNumber(d)&&(o.sol=!0),(r.default.isNumber(a[2*(n+1)+1])||n===l-1)&&(o.eol=!0),s.push(o),null!==d&&(u=d)}var f,h=[];for(n=0;n<s.length;n++)(o=s[n]).sol&&(f=[]),f.push(o),o.eol&&h.push(f);for(n=0;n<h.length;n++){for(i=h[n].length-1;i>0&&(" "===h[n][i].ch||"\n"===h[n][i].ch);)delete h[n][i].eol,i--;h[n][i].eol=!0}return{totalCharacters:s.length,totalLines:h.length,lines:h}}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(30));e.default={loadMetrics:function(t){return o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},buildGoogleVariantDisplayName:function(t,e){var n={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(n+=" "+e),n},parseGoogleVariantName:function(t){var e,n;if("regular"===(t=t.toLowerCase()))e=400,n="normal";else if("italic"===t)e=400,n="italic";else if("oblique"===t)e=400,n="oblique";else{var i=t.match(/(\d+)(italic|regular|oblique)?/i);if(!i||3!==i.length)throw"Could not parse google variant: "+t;e=parseInt(i[1],10),n=i[2]&&"regular"!==i[2]?i[2]:"normal"}return{fontWeight:e,fontStyle:n,variantName:this.buildGoogleVariantDisplayName(e,n)}},buildGoogleVariantName:function(t,e){var n=null;return 400===t?n="italic"===e?"italic":"oblique"===e?"oblique":"regular":(n=""+t,"italic"===e?n+="Italic":"oblique"===e&&(n+="Oblique")),n},getFontAPI:function(t){return r.default.startsWith(t,a.default.GOOGLE_API_ID)?a.default.GOOGLE_API_ID:r.default.startsWith(t,a.default.UPLOADED_API_ID)?a.default.UPLOADED_API_ID:r.default.startsWith(t,a.default.BUILTIN_API_ID)?a.default.BUILTIN_API_ID:void 0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={MIN_LETTER_SPACING_VALUE:-9999,MAX_LETTER_SPACING_VALUE:99999,unitsToEms:function(t){return t/1e3},unitsToCss:function(t){return i.unitsToEms(t)+"em"},unitsToPixels:function(t,e){return i.unitsToEms(t)*e}};e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=n(44),s=i(n(15)),u=n(95),l=n(256),c=n(257),d=n(45),f=n(22),h=function(){function t(t,e){void 0===e&&(e=[]),this.textComponent=t,this.allTextSpans=e}return t.prototype.decorateLinks=function(t,e){for(var n=0;n<this.allTextSpans.length;++n){if(this.allTextSpans[n].hyperlink&&!this.isLinkContinuation(n)){var i=this.compileLinkSpans(n),r=this.prepareLinkSplice(i,n,e),o=t.splice.apply(t,r);t.splice(r[0],0,this.decorateLink(o.join(""),i[0]))}}return t.join("")},t.prototype.decorateLink=function(t,e){var n=this.interactionForLink(e.hyperlink),i=n.domTagOverride;if(!i)return t;var o=r.default("<"+i.tagName+">",i.attributes).addClass("span-at-"+e.index).addClass("inline-link").html(t);return this.activateClickEvents(n,e),this.activateHoverEvents(e),o.get(0).outerHTML},t.prototype.activateClickEvents=function(t,e){var n=this,i="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+e.index;this.textComponent.options.pageView.$pageContainer.off("click",i).on({click:function(e){e.preventDefault();var i=n.textComponent.addComponentAndClickDataToEvent({},e);t.triggerAction(i),s.default.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_CLICKED,i),n.textComponent.module.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_INTERACTION,i)}},i)},t.prototype.activateHoverEvents=function(t){var e="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+t.index;this.textComponent.options.pageView.$pageContainer.off("hover",e).on({mouseenter:function(t){t.preventDefault();r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=r.default(e);if(!n.attr("data-original-color")){var i=n.css("color"),o=c.ColorUtils.isLight(i)?c.ColorUtils.darken(i,35):c.ColorUtils.lighten(i,35);n.attr("data-original-color",i),n.css("color",o)}}))},mouseleave:function(t){t.preventDefault(),r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=r.default(e);if(n.attr("data-original-color")){var i=n.attr("data-original-color");n.css("color",i),n.removeAttr("data-original-color")}}))}},e)},t.prototype.interactionForLink=function(t){var e={trigger:"click"};return t.type===l.InlineLinkType.PAGE?"next"===t.location||"prev"===t.location?"next"===t.location?e.action=f.ActionTypes.nextPage:e.action=f.ActionTypes.prevPage:(e.action=f.ActionTypes.gotoPage,e.pageTarget=parseInt(t.location)):t.type===l.InlineLinkType.POSITION?(e.action=f.ActionTypes.scrollTo,"top"===t.location||"bottom"===t.location?e.scrollTargetType=t.location:(e.scrollTargetType="scranchor",e.scrollTargetScranchor=t.location)):t.type===l.InlineLinkType.OBJECT?(e.action=f.ActionTypes.scrollToObject,e.layerTargets=[this.textComponent.options.parentSmartgroup?this.textComponent.options.parentSmartgroup.id+"|"+t.location:t.location]):(e.action=f.ActionTypes.url,e.url=t.location,e.urlOpenInNewWindow=t.newTab),new(u.InteractionFactory.constructorFor(e.action))(e,this.textComponent.options.pageView)},t.prototype.isLinkContinuation=function(t){if(this.isLoneNewLineAfterLink(this.allTextSpans[t])&&this.allTextSpans[t-1]&&this.allTextSpans[t-1].hyperlink)return!0;var e=1;return this.isLoneNewLineAfterLink(this.allTextSpans[t-1])&&++e,!!this.allTextSpans[t].hyperlink&&o.default.isEqual(this.allTextSpans[t].hyperlink,o.default.get(this.allTextSpans[t-e],"hyperlink"))},t.prototype.compileLinkSpans=function(t){var e=[],n=o.default.get(this.allTextSpans,t+".hyperlink");if(!n)return e;var i=t;do{e.push(this.allTextSpans[i]),this.isLoneNewLineAfterLink(this.allTextSpans[i+1])&&++i}while(o.default.isEqual(n,o.default.get(this.allTextSpans[++i],"hyperlink")));return e},t.prototype.prepareLinkSplice=function(t,e,n){var i;if(n===a.TextRenderMode.PARAGRAPH){for(var r=0,s=0;s<t.length-1;++s)t[s].index+t[s].length!==t[s+1].index&&++r;i=[e,t.length+r]}else i=n===a.TextRenderMode.LINE?[e,t.length]:this.prepareCharacterModeLinkSplice(t);return i.concat(o.default.fill(new Array(i[1]-1),""))},t.prototype.prepareCharacterModeLinkSplice=function(t){var e=this,n=t.reduce((function(t,e){return t+e.length}),0),i=this.countUnrenderedWhiteSpaceInRange(0,t[0].index),r=t.reduce((function(t,n){return e.countUnrenderedWhiteSpaceInRange(n.index,n.length)+t}),0),o=t[0].index-i;return[o,o+n-r-o]},t.prototype.countUnrenderedWhiteSpaceInRange=function(t,e){for(var n=/^\s*$/g,i=0,r=0,a=0,s=o.default.get(this.textComponent.glyphMetrics,"lines")||[];a<s.length;a++){var u=s[a];if(!((i+=u.length)<t)){var l=o.default.map(u,"ch").join(""),c=Math.max(t,i-u.length),d=Math.min(t+e,i);if(l.match(n)?r+=d-Math.max(t,c):r+=this.countNewLinesInRange(c,d-c),i>=t+e)break}}return r},t.prototype.countNewLinesInRange=function(t,e){return this.textComponent.options.textContent.substr(t,e).split("\n").length-1},t.prototype.isLoneNewLineAfterLink=function(t){return!!t&&!t.hyperlink&&1===t.length&&"\n"===this.textComponent.options.textContent.charAt(t.index)},t}();e.InlineLinkProcessor=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.domain=a.default("<a>",{href:e.url}).get(0).hostname||void 0,i.urlOpenInNewWindow=e.urlOpenInNewWindow||!1,i.url=e.url||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.constructUrl=function(){return this.url},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_URL},e.prototype.isValid=function(){return("submit"!==this.trigger||!this.urlOpenInNewWindow)&&(!!this.url&&t.prototype.isValid.call(this))},e}(n(42).BaseURLInteraction);e.GoToURLInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(61),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t+1:0},e}(a.BasePageURLInteraction);e.NextPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),s=o(n(18)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForLinkedIn(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareLinkedInInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),s=o(n(18)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForEmail(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareEmailInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),s=o(n(18)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForFacebook(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareFacebookInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),s=o(n(18)),u=o(n(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){var t=u.default.previewMode?void 0:this.pageView.getThumbnail();return s.default.urlForPinterest(this.urlForCurrentPage(),t)},e}(a.SocialMediaInteraction);e.SharePinterestInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),s=o(n(18)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForTwitter(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareTwitterInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTarget=0,a.default.isString(e.pageTarget)?i.pageTarget=parseInt(String(e.pageTarget).replace(/#/,""),10):e.pageTarget&&(i.pageTarget=e.pageTarget),i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PAGE},e.prototype.isValid=function(){return!!this.pageTarget&&t.prototype.isValid.call(this)},e.prototype.getTargetPageNumber=function(){return this.pageTarget},e}(n(61).BasePageURLInteraction);e.GoToPageInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(61),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t-1:0},e}(a.BasePageURLInteraction);e.PreviousPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(62).BaseLayerVisibilityInteraction);e.HideLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeToggleAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(62).BaseLayerVisibilityInteraction);e.ToggleLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCyclePreviousAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(23).BaseVisibilityInteraction);e.CyclePreviousInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCycleNextAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(23).BaseVisibilityInteraction);e.CycleNextInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.createHoverArea=!!e.createHoverArea,i}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e.prototype.getHoverTargets=function(){var t=this;if(!this.createHoverArea)return this.layerTargets;if(!this.layerTargets)return[];var e=[];return this.layerTargets.forEach((function(n){e.push(n);var i=t.pageView.findChildView(n);i&&i.childViews&&i.childViews.forEach((function(n){t.getAllValidLayerTargets(n,e)}))})),e},e.prototype.shouldCreateHoverArea=function(){return this.createHoverArea},e.prototype.getAllValidLayerTargets=function(t,e){var n=this;void 0===e&&(e=[]),t.visible&&e.push(t.id),"folder"===t.options.type&&t.childViews&&t.childViews.forEach((function(t){n.getAllValidLayerTargets(t,e)}))},e}(n(62).BaseLayerVisibilityInteraction);e.ShowLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(23).BaseVisibilityInteraction);e.HideComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(23).BaseVisibilityInteraction);e.ShowComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTargets=e.pageTargets||[],i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES},e.prototype.isValid=function(){return!a.default.isEmpty(this.pageTargets)},e}(n(14).BaseInteraction);e.PageVisibilityInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.lightboxHasCloseButton=e.lightboxHasCloseButton||!1,i.lightboxHeight=e.lightboxHeight||0,i.lightboxWidth=e.lightboxWidth||0,i.lightboxUrl=e.lightboxUrl||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX},e}(n(14).BaseInteraction);e.LightboxVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.productPanelId=e.productPanelId||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL},e.prototype.isValid=function(){return!!this.productPanelId&&t.prototype.isValid.call(this)},e}(n(14).BaseInteraction);e.ProductPanelVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART},e}(n(14).BaseInteraction);e.ShoppingCartVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.triggerAction=function(t){var e=document.body;return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),!0},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(n(14).BaseInteraction);e.FullScreenInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(14),s=o(n(19)),u=o(n(20)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION},e.prototype.isValid=function(){return s.default.hasFeature(u.default.ACCESSIBILITY)},e}(a.BaseInteraction);e.ToggleReducedMotionInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(19)),u=a(n(20)),l=n(23),c=n(254),d=n(58),f=n(56),h=n(6),p=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.state=e.state,i.lockState=e.lockState,i.hasOutTrigger=!e.lockState,i.targets=e.layerTargets,i}return r(e,t),e.prototype.isValid=function(){return!!(s.default.hasFeature(u.default.OBJECT_STATES)&&this.layerTargets&&this.layerTargets.length)},e.prototype.triggerAction=function(e){var n=this,i=this.getTargets();return!!i&&(i.forEach((function(t){n.pageView.invokeObjectState(t,n.state),n.lockState&&n.pageView.removeAllActiveStates(t),n.pageView.addActiveState(t,n)})),t.prototype.triggerAction.call(this,e))},e.prototype.triggerOutAction=function(){var t=this;this.hasOutTrigger&&(this.getTargets().forEach((function(e){t.pageView.revokeObjectState(e,t.state),t.pageView.removeActiveState(e,t)})),this.setHoverArea())},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_CHANGE_STATE},e.prototype.shouldCreateHoverArea=function(){return"hover"===this.trigger&&!!this.hoverArea},e.prototype.setHoverArea=function(t){this.hoverArea=t},e.prototype.getTargets=function(){var t=this;if(!this.targets)return[];if(this.cachedTargets)return this.cachedTargets;var e=[];return this.targets.forEach((function(n){var i,r=t.pageView.findChildView(n);if(r)if(t.isValidTarget(r)&&(i=n),r.childViews){var o=[];r.childViews.forEach((function(e){t.getAllValidChildrenLayerTargets(e,o,r instanceof d.AbstractTransformableGroupView&&r.linkInteraction)})),o.length&&(i&&e.push(i),e.push.apply(e,o))}else i&&e.push(i)})),this.cachedTargets=e||[],e},e.prototype.getAllValidChildrenLayerTargets=function(t,e,n){var i=this;this.isValidTarget(t)&&e.push(t.id),t instanceof d.AbstractTransformableGroupView&&t.childViews&&(t.linkInteraction||n)&&t.childViews.forEach((function(t){i.getAllValidChildrenLayerTargets(t,e,!0)}))},e.prototype.getHoverTargets=function(){return this.getTargets()},e.prototype.isValidTarget=function(t){return!(t instanceof f.FolderView)&&(t instanceof d.AbstractTransformableGroupView&&t.linkInteraction||t instanceof h.AbstractComponentView&&!!t.hasObjectState(this.state))},e=o([c.InteractionOptions({hasOutTrigger:!0})],e)}(l.BaseVisibilityInteraction);e.ChangeStateInteraction=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(91);e.InteractionOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.isValid=function(){return!1},e}(n(14).BaseInteraction);e.InvalidInteraction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(44);!function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.InlineLinkType||(e.InlineLinkType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.rgb=function(t){var e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[],n=e[1],i=e[2],r=e[3];return{r:Number(n),g:Number(i),b:Number(r)}},t.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[],n=e[1],i=e[2],r=e[3];return{r:parseInt(n,16),g:parseInt(i,16),b:parseInt(r,16)}},t.lightenDarkenColor=function(t,e){var n=this.colorToRGB(t),i=n.r,r=n.g,o=n.b;return"#"+this.intToHex(this.fixRange(i+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),n=e.r,i=e.g,r=e.b;return Math.sqrt(n*n*.299+i*i*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(96)),a=n(259);e.default={createPreRenderList:function(t){var e=t.model.get("layers"),n=a.Scranchor.scranchorsForPage(t);if(!e)return n;var i=function(t,e){t&&r.default.each(t,(function(t){var r=new o.default(e,t);n.push(r),t.smartgroupId?i(t.layers,r):"folder"!==t.type&&"group"!==t.type||i(t.items,r)}))},s=new o.default(null,null);return s.childViews=t.childViews,i(e,s),n.reverse()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=o(n(0)),u=function(t){function e(e){var n=t.call(this,void 0,void 0)||this;return n.x=0,n.y=0,n.model={type:"scranchor"},n.childViews=[],n.y=e.top||0,n.$el=a.default("<a>",{class:"scranchor",id:e.id,tabindex:-1}).css({position:"absolute",top:n.y,left:n.x,height:0,width:e.width}),e.id.match(/^page-[0-9]+-top$/)&&n.$el.on("focus",(function(){n.$el.attr("tabindex",1)})).on("blur",(function(){n.$el.attr("tabindex",-1)})),n}return r(e,t),e.prototype.adjustYCoordinateWithinGroup=function(){var t=this;this.$el.parents(".group, .smart-group").each((function(e,n){t.y-=parseInt(n.style.top||"0"),t.$el.css("top",t.y)}))},e.scranchorsForPage=function(t){var n=[],i=t.model.getPageWidth(t.documentVersion),r=t.model.getPageHeight(t.documentVersion);return n.push(new e({width:i,id:"page-"+(t.model.pageIndex+1)+"-top"})),s.default.forEach(t.model.getScranchorsForCurrentVariant(),(function(t,r){n.push(new e({top:t,id:r,width:i}))})),n.push(new e({top:r-1,width:i,id:"page-"+(t.model.pageIndex+1)+"-bottom"})),n},e}(o(n(96)).default);e.Scranchor=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(t){if(!t)return Number.POSITIVE_INFINITY;var e=parseInt(t.style.top);return r.default(t).parents(".group, .smart-group").each((function(t,n){e+=parseInt(n.style.top)})),e},a={insert:function(t,e,n,i,o){var a=this.getChildNodeToInsertBefore(t,n,i,o);a?r.default(e).insertBefore(a,t):t.appendChild(e)},getChildNodeToInsertBefore:function(t,e,n,i,a,s){for(var u,l,c=0,d=t.children||t.childNodes,f=d.length-1;c<=f;){u=Math.floor((c+f)/2);var h=parseInt(d[u].style.left)+(a||0),p=parseInt(d[u].style.top)+(s||0),g=p===n?h-e:p-n;if(0===g)return d[u];if(g<0){if(i&&r.default(d[u]).is(".group, .smart-group")){var v=this.getChildNodeToInsertBefore(d[u],e,n,i,h,p);v&&(!l||parseInt(v.style.top)<o(l))&&(l=v)}c=u+1}else{f=u-1,(!l||!i||parseInt(d[u].style.top)<o(l))&&(l=d[u])}}return l}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=n(6),s=i(n(43)),u=n(56),l=i(n(97));function c(t){t&&(t.visible=!0,t instanceof a.AbstractComponentView&&t.show(),o.default.isEmpty(t.childViews)||o.default.each(t.childViews,(function(t){t.visible&&c(t)})))}function d(t){t&&(t.visible=!1,(t instanceof a.AbstractComponentView||t instanceof u.FolderView)&&t.hide(),function t(e){e instanceof a.AbstractComponentView&&e.resetTimers();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))}function f(t){t&&(t.visible=!1,(t instanceof a.AbstractComponentView||t instanceof u.FolderView)&&t.hide(),function t(e){e instanceof a.AbstractComponentView&&(e.resetTimers(),e instanceof s.default&&e.disableVideoTrackingAndAutoPlayingVideo());e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))}function h(){}h.prototype={activateAndRunEntryAnimationsForAllVisible:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t instanceof a.AbstractComponentView&&(o.default.isUndefined(t.visible)||t.visible)){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(i||t.isOutsideOfPage())&&t.activateAndRunEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},createTimedTriggers:function(t,e){o.default.each(t,(function(t){t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers()}))},whenVisibleBoundariesChange:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.getComponentBoundaries(),o=i.isAnyPartOfComponentWithinBoundaries(e,r),a=i.getWasInsideVisibleBoundaries(),s=!a&&o;if(a&&!o?(i.setWasInsideVisibleBoundaries(!1),i.whenLeavingVisibleBoundaries()):s&&(i.setWasInsideVisibleBoundaries(!0),i.createTimedTriggers()),o){if(!i.visible||i.areAnyParentsNotVisible())continue;i.isAnyPartOfComponentWithinEntryAnimationBoundaries(e,r)&&!i.isOutsideOfPage()&&i.activateAndRunEntryAnimations()}}},resetHoverInteractionViewsToInitialVisibility:function(t,e,n){for(var i=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var a=t[r];if(!a.isAnyPartOfComponentWithinBoundaries(n)){var s=o.default.flatMap(a.getResettableHoverInteractions(),c);s.length>0&&(i.push(a),i=i.concat(s))}}function c(t){if(!t.resetWhenScrolledOffscreen)return[];var n=o.default.map(t.layerTargets,(function(t){return l.default.find(e,t)}));return o.default.every(n,d)?n:[]}function d(t){var e=[];return function t(n){n instanceof u.FolderView?o.default.each(n.childViews,(function(e){t(e)})):e.push(n)}(t),o.default.every(e,(function(t){return!(t&&t.isAnyPartOfComponentWithinBoundaries(n))}))}return i}(t,e,n),r=0;r<i.length;r++){var a=i[r];o.default.isUndefined(a.initiallyVisible)||a.initiallyVisible?c(a):f(a)}},resetAnimationsAndInitialVisibility:function(t){var e=function(t){o.default.each(t,(function(t){t.childViews&&e(t.childViews),o.default.isUndefined(t.initiallyVisible)||t.initiallyVisible?c(t):d(t),t.reset()}))};e(t)},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t instanceof a.AbstractComponentView&&(o.default.isUndefined(t.visible)||t.visible)&&t.shouldRestartEntryAnimations){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(!i&&!t.options.animationsReplayOnScroll||i||t.isOutsideOfPage())&&t.restartRepeatEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},showChildViewIfAllParentsVisible:function(t,e){t.areAllParentsVisible()&&(c(t),function t(e,n){e instanceof a.AbstractComponentView&&e.isAnyPartOfComponentWithinBoundaries(n)&&e.createTimedTriggers();e.childViews&&o.default.each(e.childViews,(function(e){t(e,n)}))}(t,e),function t(e){if(null===e||!1===e.visible)return;e.reset(),e instanceof a.AbstractComponentView&&e.activateAndRunEntryAnimations();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))},hideAllChildViewsAndRunExitAnimations:function(t){o.default.each(t,(function(t){if(!t.runningExitAnimations){var e=t.runAllChildViewExitAnimations();r.default.when.apply(r.default,e).done((function(){d(t),function(t){t.reset(),t.childViews&&o.default.each(t.childViews,(function(t){t.reset()}))}(t)}))}}))}},e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1)),a=i(n(66)),s=r(n(45)),u=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var n=this.pageView.model.constructor.findTopmostFolderContent(e);if(n)return this.pageView.$pageContainer.find("#"+s.escapeComponentId(n.id))}return o.default()},t.prototype.prepareTargetOutlineForFocus=function(e){return("keyboard"!==a.default.ask()||!e.is("button, a"))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var n=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),n?e.attr("aria-hidden",n):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(t){if(t){var e="#"+s.escapeComponentId(t),n=this.pageView.$pageContainer.find(e);n.length||(n=this.searchFoldersForTarget(t)),n.length&&(n=this.prepareTargetOpacityForFocus(n),n=this.prepareTargetOutlineForFocus(n),(n=this.prepareTargetTabIndexForFocus(n)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=u},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=function(){function t(){}return t.initializeStates=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){var n=i(i({},t[e]),{state:e});return new r.ObjectState(n)}))},t}();e.ObjectStateFactory=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(79)),u=i(n(98)),l=i(n(3)),c=i(n(17)),d=i(n(8)),f=function(t){this.initialize(t)};f.prototype={documentVersion:null,marginTopCallback:null,module:null,cachedScale:{},initialize:function(t){this.documentVersion=t.documentVersion,this.marginTopCallback=t.marginTopCallback,this.module=t.module},getCurrentWindowScaleContext:function(){var t=r.default(window),e=c.default.getExperienceContainerDimensions(t);return this._calculateScaleInternal(e.width,e.height)},isPreviewFullScreenMode:function(){return a.default.previewMode&&c.default.fullScreenMode},_calculateScaleInternal:function(t,e){var n=this.documentVersion.getExperienceWidth(),i=a.default.heightOverride||this.documentVersion.getExperienceHeight(),s=this.documentVersion.getScaleExperience(),f=r.default(window),h=c.default.getExperienceContainerDimensions(f),p=t+"x"+e+"-"+h.width+"x"+h.height+"-"+d.default.getVariant();if(!o.default.has(this.cachedScale,p)){var g={width:t,height:e,marginTop:this.marginTopCallback(),windowWidth:t,windowHeight:e,ratio:1,constrainedByHeight:!1,constrainedByWidth:!1,originalWindowWidth:h.width,originalWindowHeight:h.height},v=g.windowHeight+l.default.getSlackHeight(g.windowHeight)-g.marginTop;g.height=v;var m=this.documentVersion.getScaleExperienceType()===u.default.SCALE_EXPERIENCE_TYPE.FULL_WIDTH;this.calculateDoScaling(g,n,i,v,s,m),g.adjustedRatio=g.ratio*l.default.pixelRatio(),this.cachedScale[p]=g}return this.cachedScale[p]},calculateDoScaling:function(t,e,n,i,r,o){if(r){var a=n/e>i/t.windowWidth;if(o||!a)return t.constrainedByWidth=!0,t.width=t.windowWidth,void(t.ratio=t.width/e);t.constrainedByHeight=!0,t.ratio=t.height/n,t.width=e*t.ratio}},getPageScaleContext:function(t){var e=this.getCurrentWindowScaleContext();if(this.documentVersion.getScaleExperience()){var n=t.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=n<=Math.round(e.height/e.ratio);e.constrainedByWidth&&!r&&(e=this.calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit(e,i,n))}return e},calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit:function(t,e,n){for(var i=s.default.getScrollbarWidth()*t.ratio,r=i;r>=0;r--){var o=(t.width-i+r)/e;if(!0===n<=Math.round(t.height/o)){i-=r;break}}var a=t.originalWindowWidth-i;return t=this._calculateScaleInternal(a,t.originalWindowHeight)},useZoom:function(t){var e=l.default.isIpad();return(!e||!l.default.isIosGreaterThanOrEqualTo(13))&&(e||this.doBlurryFontFix(t))},doBlurryFontFix:function(t){return(l.default.isBrowserChrome()&&l.default.desktop()||l.default.isDesktopSafari())&&t>=.8}},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAGES:"&#xe001;",FACEBOOK:"&#xe002;",EMAIL:"&#xe003;",CART:"&#xe004;",LINK:"&#xe005;",TWITTER:"&#xe006;",LEFT_ARROW:"&#xe007;",PINTEREST:"&#xe008;",RIGHT_ARROW:"&#xe009;",SHARE:"&#xe000;"}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(4)),a=i(n(1)),s=i(n(0)),u=i(n(16)),l=i(n(13)),c=i(n(11)),d=i(n(3)),f=i(n(267)),h=i(n(2)),p={"click .close":"_close",click:"_backgroundClick"},g={"touchstart .close":"_close",touchstart:"_backgroundClick"};e.default=c.default.extend({id:"lightbox",attributes:{"aria-modal":"true","aria-hidden":"true"},events:(r={},d.default.desktop()&&s.default.extend(r,p),d.default.touch()&&s.default.extend(r,g),r),lightboxWidth:null,lightboxHeight:null,opened:!1,initialize:function(){c.default.prototype.initialize.apply(this,arguments),this._render(),h.default.previewMode&&a.default(window).on("resize",s.default.debounce(s.default.bind(this._handleSizeChangesDueToZoom,this),1))},setSizeAndPosition:function(){if(this.opened){var t=l.default.getInstance();if(t.isActive()){var e=this.$el,n=this.$(".container"),i=t.getVerticalCenterOfVisibleArea(e.height())-this.lightboxHeight/2,r=Math.max(window.innerWidth-this.lightboxWidth,0)/2;e.css({padding:0}),n.css({transform:"none",top:i+"px",left:r+"px"})}if(d.default.smallWindow()){var o=this.lightboxHeight/this.lightboxWidth,a=Math.min(window.innerWidth,this.lightboxWidth);this.$el.addClass("fullscreen-lightbox"),this.$(".container").css({"max-height":o*a})}else this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight});h.default.previewMode&&this._handleSizeChangesDueToZoom()}},_handleSizeChangesDueToZoom:function(){if(this.opened){var t=a.default(".adaptive-layouts-frame #main").get(0).getBoundingClientRect(),e=window.innerWidth/window.outerWidth;this.lightboxWidth=e*this.originalWidth,this.lightboxWidth=Math.min(t.width-2,this.lightboxWidth);var n=0;this.usesCloseButton&&(n=2*e*42),this.lightboxHeight=e*this.originalHeight,this.lightboxHeight=Math.min(t.height-n,this.lightboxHeight),this.usesCloseButton&&this.resizeCloseButton(e),this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight}),this._adjustCenter()}},resizeCloseButton:function(t){var e=16*t,n=40*t;a.default(".ceros-lightbox .close").css({"font-size":e+"px","line-height":n+"px",height:n+"px",width:n+"px",top:"-"+n+"px"})},_adjustCenter:function(){var t=a.default(".adaptive-layouts-frame"),e=t.get(0).getBoundingClientRect().height/2-this.lightboxHeight/2,n=t.css("top"),i=this.$el.css("padding-top"),r=0;i&&n&&(n=s.default.trimEnd(n,"px"),i=s.default.trimEnd(i,"px"),r=s.default.toNumber(i)-s.default.toNumber(n),this.$(".container").css({top:e-r,transform:"translate(-50%,0)","-webkit-transform":"translate(-50%, 0%)"}))},_close:function(t){t&&t.preventDefault(),this.deactivate()},_backgroundClick:function(t){t.target==this.$el[0]&&this._close(t)},onKeypress:function(t){"Esc"!==t.key&&"Escape"!==t.key||this.deactivate()},_render:function(){this.$el.html(f.default)},openLightbox:function(t){s.default.isEmpty(t)?o.default.warn("missing options for lightbox"):s.default.isEmpty(t.url)?o.default.warn("missing URL for lightbox"):t.width?t.height?(t.showCloseButton?(this.$el.removeClass("without-close-button"),this.$el.addClass("with-close-button")):(this.$el.removeClass("with-close-button"),this.$el.addClass("without-close-button")),this.lightboxWidth=t.width,this.lightboxHeight=t.height,this.originalWidth=s.default.clone(t.width),this.originalHeight=s.default.clone(t.height),this.usesCloseButton=t.showCloseButton,this.$(".close").css("background-color",t.closeButtonBgColor),this.$(".close").css("color",t.closeButtonFgColor),this.$("iframe").attr("src",t.url),this.show(),this.focusLightbox(),this.setSizeAndPosition(),u.default.pause()):o.default.warn("missing height for lightbox"):o.default.warn("missing width for lightbox")},focusLightbox:function(){var t=this.$("iframe");t.on("load.focus",(function(){t[0].contentWindow.focus(),t.off("load.focus")}))},deactivate:function(){u.default.resume(),this.$("iframe").attr("src","about:blank"),this.hide()},hide:function(){this.$el.hide(),this.opened=!1,a.default(document).off("keyup.lightbox"),this.$el.attr("aria-hidden","true")},show:function(){this.$el.show(),this.opened=!0,a.default(document).on("keyup.lightbox",this.onKeypress.bind(this)),this.$el.attr("aria-hidden","false")}})},function(t,e){t.exports='<div class="container ceros-lightbox">\n    <button class="close"><span class="sr-only">Close modal</span></span>&#xE00B;</button>\n    <div class="scrolling">\n        <iframe src="about:blank" frameborder="0" allowfullscreen></iframe>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(269)),a=i(n(270));e.default={create:function(t,e){return r.default.isVectorBased(t.contentType)?new o.default(t,e):new a.default(t,e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(10)),a=i(n(101)),s=i(n(16)),u=function(t,e){a.default.call(this,t,e)};r.default.extend(u.prototype,a.default.prototype,{loadLowRes:function(t){this.load(t)},load:function(t){if(!this.currentResource){var e=o.default.replaceProtocolIfHttpsRequest(this.url);this.currentResource=s.default.addVectorImage(e),this.currentResource.getPromise().done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))}},getCurrentUrl:function(){return this.url}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(101)),a=i(n(16)),s=i(n(77)),u=i(n(37)),l=function(t,e){o.default.call(this,t,e),this.imageId=e.id,u.default.isValidCropObject(t.crop)?(this.cropDimensions=t.crop,this.originalWidth=this.cropDimensions.width,this.originalHeight=this.cropDimensions.height):(this.originalWidth=r.default.get(e,["original","width"],null),this.originalHeight=r.default.get(e,["original","height"],null))};r.default.extend(l.prototype,o.default.prototype,{imageId:null,originalWidth:null,originalHeight:null,currentUrl:null,currentWidth:-1,cropDimensions:null,loadLowRes:function(t){var e=this.componentWidth*t.adjustedRatio,n=this.componentHeight*t.adjustedRatio,i=this._calculateLowResDimensions(e,n);i.width<=50&&i.height<=50?this.load(t):this._loadLowResWidth(i.width,t)},load:function(t){var e=Math.round(this.componentWidth*t.ratio),n=s.default.calculateWidthForDevicePixelRatio(e);this.loadWidth(n).done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))},getCurrentUrl:function(){return this.currentUrl},loadWidth:function(t){if(this.currentResource){if(t<=this.currentWidth)return this.currentResource.getPromise();this.currentResource.cancel()}return this.currentResource=a.default.addRasterImage(this.imageId,t,this.cropDimensions),this.currentResource.getPromise().done(r.default.bind((function(t){this.currentUrl=t.getSrc(),this.currentWidth=t.getWidth()}),this))},_loadLowResWidth:function(t,e){this.loadWidth(t).done(r.default.bind((function(){this.trigger(this.LOW_RES_IMAGE_LOADED_EVENT),this.loadNow(e)}),this))},_calculateLowResDimensions:function(t,e){var n,i,r=Math.min(t,this.originalWidth),o=Math.min(e,this.originalHeight),a=r/this.originalWidth,s=o/this.originalHeight,u=this.originalWidth/this.originalHeight;return a<s?(n=Math.ceil(.25*r),i=Math.ceil(r*u*.25)):(n=Math.ceil(o*u*.25),i=Math.ceil(.25*o)),{width:n,height:i}}}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(47),a=n(38),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),n=s[e];t.od&&!t.oi?t.oi=n:t.oi&&!t.od&&(t.od=n)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(3)),u=i(n(34)),l=function(t,e){this.documentVersion=t,this.layers=e,this.visibleMedia=[],this.hiddenMedia=[],this.visibleImages=[],this.hiddenImages=[],this.sortMediaForLayers(this.layers,!1,0),this.visibleMedia=o.default.orderBy(this.visibleMedia,"absoluteY"),this.hiddenMedia=o.default.orderBy(this.hiddenMedia,"absoluteY")};l.prototype={lazyPreloadAllMedia:function(t,e){var n;this.lazyLoadingVerticalBreakpoint=this.getHighPriorityMediaLoadVerticalBreakpoint(t);var i=null,r=0;for(n=0;n<this.visibleMedia.length&&(r=n,(i=this.visibleMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);var o=0;for(n=0;n<this.hiddenMedia.length&&(o=n,(i=this.hiddenMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);for(n=r;n<this.visibleMedia.length;n++)i=this.visibleMedia[n],this.loadMediaItem(i,t,e);for(n=o;n<this.hiddenMedia.length;n++)i=this.hiddenMedia[n],this.loadMediaItem(i,t,e)},preloadVisibleMedia:function(t,e){this.loadMediaItems(this.visibleMedia,t,e)},preloadImages:function(t){this.loadMediaItems(this.visibleImages,t,!1),this.loadMediaItems(this.hiddenImages,t,!1)},preloadHiddenMedia:function(t){this.loadMediaItems(this.hiddenMedia,t,!1)},getlazyLoadingVerticalBreakpoint:function(){return this.lazyLoadingVerticalBreakpoint},sortMediaForLayers:function(t,e,n){n||(n=0),o.default.each(t,o.default.bind((function(t){if(this.isContainerLayer(t)){var i=e||!t.visible;this.sortMediaForLayers(this.getChildLayers(t),i,this.isSmartGroupOrGroup(t)?n+t.y:n)}else this.sortMediaForLayer(t,e,n)}),this))},sortMediaForLayer:function(t,e,n){if(this.getLoader(t)){var i={layer:t,absoluteY:t.y+n};e||!t.visible?(this.hiddenMedia.push(i),this.isImage(t)&&this.hiddenImages.push(i)):(this.visibleMedia.push(i),this.isImage(t)&&this.visibleImages.push(i))}},getHighPriorityMediaLoadVerticalBreakpoint:function(t){var e=r.default(window).height()/t.ratio;if(a.default.isEmbedded&&a.default.heightOverride){var n=u.default.getDimensions();if(s.default.desktop())e=Math.min(e,n.height/t.ratio);else{var i=n.height/n.width;s.default.landscape()&&i>1&&(i=1/i),e=this.documentVersion.getExperienceWidth()*i}}return e},isSmartGroupOrGroup:function(t){return!(!t.smartgroupId&&"group"!==t.type)},getChildLayers:function(t){return t.smartgroupId?t.layers:t.items},isContainerLayer:function(t){return!(!t.smartgroupId&&"folder"!==t.type&&"group"!==t.type)},getLoader:function(t){return t.imageLoader||t.posterLoader||t.fontLoader},isImage:function(t){return!(!t.imageLoader&&!t.posterLoader)},shouldLoadLowRes:function(t){return o.default.isFunction(this.getLoader(t).loadLowRes)&&!t.posterLoader&&this.documentVersion.shouldLoadLowRes()},loadMediaItems:function(t,e,n){o.default.each(t,o.default.bind((function(t){this.loadMediaItem(t,e,n)}),this))},loadMediaItem:function(t,e,n){var i=this.getLoader(t.layer);this.shouldLoadLowRes(t.layer)?n?i.loadLowResNow(e):i.loadLowRes(e):n?i.loadNow(e):i.load(e)}},e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(7)),s=i(n(13)),u=i(n(11)),l=i(n(25)),c=i(n(274));e.default=u.default.extend({className:"splash-screen loading",lastAnimationId:null,initialize:function(){u.default.prototype.initialize.call(this),this.options=o.default.extend({autoContrastForegroundColor:"#FFFFFF",foregroundColor:"white",backgroundColor:"#161616",previewLabelBackgroundColor:"none",borderRadius:5,revolutionsPerSecond:1.2,fadeOutSpeed:"fast",whiteLabeling:!0,showPreviewLabel:!1},this.options),this.options.degreesPerTick=360/(60*this.options.revolutionsPerSecond)},render:function(){this.$el.empty(),this.$el.html(a.default.render(c.default,{whiteLabeling:this.options.whiteLabeling&&!this.options.showPreviewLabel,showPreviewLabel:this.options.showPreviewLabel})).show(),this.$spinner=this.$el.find(".spinner");var t=this.$el.find(".branding-logo"),e=this.$el.find(".notice");this.options.overlayed&&this.$spinner.addClass("overlayed"),this.$spinner.css({borderRadius:this.options.borderRadius,backgroundColor:this.options.backgroundColor}),this.renderSpinnerCanvas(),t.css({color:this.options.autoContrastForegroundColor}),e.css({backgroundColor:this.options.previewLabelBackgroundColor,color:this.options.foregroundColor}),this.scale(),s.default.getInstance().on("change",this.repositionForEmbed,this),this.repositionForEmbed()},start:function(){o.default.isNull(this.lastAnimationId)&&(this.lastAnimationId=requestAnimationFrame(this._draw))},stop:function(){o.default.isNull(this.lastAnimationId)||(cancelAnimationFrame(this.lastAnimationId),this.lastAnimationId=null)},scale:function(){this.$el.width()<100||this.$el.height()<100?this.$el.find("div.loading-container").addClass("small"):this.$el.find("div.loading-container").removeClass("small")},repositionForEmbed:function(){var t=s.default.getInstance();if(t.isActive()){var e=Math.max(0,t.getTop()),n=Math.min(r.default(window).height(),t.getBottom());this.$el.css({top:e+"px",height:n-e+"px"}),this.scale()}},renderSpinnerCanvas:function(){var t=Math.round(64/12),e=r.default('<canvas width="64" height="64"></canvas>');this.$spinner.append(e);var n=e[0].getContext("2d"),i=0,o=!1,a=this,s=32-t-1;this._draw=function(){var e,r,u=-.5*Math.PI;n.save(),n.fillStyle=a.options.backgroundColor,n.fillRect(0,0,64,64),n.lineWidth=t;var c=l.default.fromHex(a.options.autoContrastForegroundColor);c.a=.1,n.strokeStyle=c.toString(),n.beginPath(),n.arc(32,32,s,0,2*Math.PI,!0),n.stroke(),0===i&&o?(e=u,r=u+2*Math.PI):(e=o?u+Math.PI/180*i:u,r=o?u:u+Math.PI/180*i),n.strokeStyle=a.options.autoContrastForegroundColor,n.beginPath(),n.arc(32,32,s,e,r,!1),n.stroke(),n.restore(),(i+=a.options.degreesPerTick)>359&&(i=0,o=!o),a.lastAnimationId=requestAnimationFrame(a._draw)}},_remove:function(){this.$el.remove()},destroy:function(){this.stop(),this._remove(),s.default.getInstance().off("change",this.repositionForEmbed,this)}})},function(t,e){t.exports='<div class="loading-container">\n    <div class="spinner"></div>\n    {{^whiteLabeling}}\n    <div class="branding-logo"></div>\n    {{/whiteLabeling}}\n    {{#showPreviewLabel}}\n    <div class="notice">REAL-TIME PREVIEW</div>\n    {{/showPreviewLabel}}\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(11)),a=i(n(2)),s=i(n(7)),u=i(n(276)),l=i(n(277));e.default=o.default.extend({className:"splash-screen unavailable",events:{"click button.contact":"handleContactClick"},initialize:function(){o.default.prototype.initialize.call(this),this.render()},render:function(){var t=a.default.previewMode?u.default:l.default;this.$el.html(s.default.render(t))},handleContactClick:function(t){t.preventDefault();var e=r.default.appendQueryParams("http://www3.ceros.com/expiredaccount",{account:a.default.accountSlug});window.open(e)}})},function(t,e){t.exports='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal unavailable modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">Your Ceros subscription expired</span>\n        <span class="notice">Get in touch with our helpful team who will rectify this in no time</span>\n        <button class="submit contact">Get in touch</button>\n    <div>\n</div>\n'},function(t,e){t.exports='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon no-entry-icon"></span>\n        <span class="notice important">This experience has been removed by the publisher</span>\n    <div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(104));e.default=r.default.extend({className:"embedded-previewer-warning",showBranding:!0,importantText:"This is your preview - and not your published experience.",descriptiveText:"Please use the published experience URL to display this content on your website.",onDismissHandler:function(){this.module.trigger(this.module.publishedEvents.EMBED_WARNING_DISMISSED)}})},function(t,e){t.exports='<div class="warning-modal embedded-previewer overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n</div>\n<div class="warning-modal embedded-previewer modal">\n    <div>\n        {{#showBranding}}<div class="branding-logo"></div>{{/showBranding}}\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">{{importantText}}</span>\n        <span class="notice">{{descriptiveText}}</span>\n        <button class="submit dismiss">{{buttonText}}</button>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(104));e.default=r.default.extend({className:"deleted-page-warning",importantText:"This page is no longer available",descriptiveText:"Please try reloading",buttonText:"Reload",onDismissHandler:function(){window.location.reload()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(5)),o=i(n(0)),a=i(n(282)),s=r.default.Model.extend({getSlug:function(){var t=r.default.Model.prototype.get.call(this,"uri");return o.default.last(t.split("/"))}});o.default.extend(s.prototype,a.default),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=i(n(8));e.default={setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},get:function(t,e){var n=e&&e.variant?e.variant:a.default.getVariant();return"overrides"===t||"desktop"===n?this.nonVariantGet(t):this.getVariantAttribute(n,t,e)},getVariantAttribute:function(t,e,n){var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},nonVariantGet:function(t){return(this.ParentModel?this.ParentModel:o.default.Model).prototype.get.call(this,t)}}},function(t,e,n){"use strict";
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/!function(t){var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var n=t.document;if(n.querySelector){var i,r,o,a,s=n.querySelector("meta[name=viewport]"),u=s&&s.getAttribute("content"),l=u+",maximum-scale=1",c=u+",maximum-scale=10",d=!0;s&&(t.addEventListener("orientationchange",f,!1),t.addEventListener("devicemotion",(function(e){a=e.accelerationIncludingGravity,i=Math.abs(a.x),r=Math.abs(a.y),o=Math.abs(a.z),t.orientation&&180!==t.orientation||!(i>7||(o>6&&r<8||o<8&&r>6)&&i>5)?d||f():d&&(s.setAttribute("content",l),d=!1)}),!1))}}function f(){s.setAttribute("content",c),d=!0}}(window)}]);